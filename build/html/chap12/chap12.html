
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>12. Heuristic Search &#8212; Data Structures and Algorithms with Python</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/agogo.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="11. B-Trees" href="../chap10/chap10.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/csbook.JPG" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Data Structures and Algorithms with Python</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../chap10/chap10.html" title="11. B-Trees"
             accesskey="P">previous</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="heuristic-search">
<span id="chap12"></span><h1><span class="section-number">12. </span>Heuristic Search<a class="headerlink" href="#heuristic-search" title="Permalink to this heading">¶</a></h1>
<p>This text has focused on the interaction of algorithms with data structures. Many of the algorithms presented in this text deal with search and how to organize data so searching can be done efficiently. Many problems involve searching for an answer among many possible solutions, not all of which are correct. Sometimes, there are so many possibilities, no algorithm can be written that will efficiently find a correct solution amongst all the possible solutions. In these cases, we may be able to use a <em>rule of thumb</em>, most often called a <em>heuristic</em> in computer science, to eliminate some of these possibilities from our search space. If the <em>heuristic</em> does not eliminate possible solutions, it may at least help us order the possible solutions so we look at <em>better</em> possible solutions first, whatever <em>better</em> might mean.</p>
<p>In <a class="reference internal" href="../chap7/chap7.html#graphchap">chapter 7</a> depth first search of a graph was presented. Sometimes search spaces for graphs or other problems grow to such an enormous size, it is impossible to blindly search for a goal node. This is where a heuristic can come in handy. This chapter uses searching a maze, which is really just a type of graph, as an example to illustrate several search algorithms that are related to depth first or breadth first search. Several applications of these search algorithms are also presented or discussed.</p>
<p>Heuristic search is often covered in texts on Artificial Intelligence <a href="#id1"><span class="problematic" id="id2">:cite:`AIIlluminated`</span></a>. As problems in AI are better understood, algorithms arise that become more commonplace over time. The heuristic algorithms presented in this chapter are covered in more detail in an AI text, but as data sizes grow, heuristic search will become more and more necessary in all sorts of applications. AI techniques may be useful in many search problems and so are covered in this chapter to provide an introduction to search algorithms designed to deal with large or infinite search spaces.</p>
<section id="searching-mazes">
<h2><span class="section-number">12.1. </span>Searching Mazes<a class="headerlink" href="#searching-mazes" title="Permalink to this heading">¶</a></h2>
<p>You can write your own maze search code that interacts with a front-end that is provided here. You can <a class="reference download internal" download="" href="../_downloads/31cc0cebb7edb746e2540ba4e937fd4b/mazeanimate.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> the front-end code by clicking here. The front-end code requires the <a class="reference download internal" download="" href="../_downloads/1eeaf661a2a37095a629c8f281707111/tile20.gif"><code class="xref download docutils literal notranslate"><span class="pre">tile20.gif</span></code></a> file. It also requires at least one maze file. The file maze3.txt was used in the text to demonstrate the various search algorithms. Here are three maze files for downloading.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../_downloads/cae95adee742db6c6e61bd1079e55959/maze.txt"><code class="xref download docutils literal notranslate"><span class="pre">maze.txt</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../_downloads/b52e608bc8e74cf98a73c30b4aae0032/maze2.txt"><code class="xref download docutils literal notranslate"><span class="pre">maze2.txt</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../_downloads/861cb1bd5056e3992f17c1bcd759df9c/maze3.txt"><code class="xref download docutils literal notranslate"><span class="pre">maze3.txt</span></code></a></p></li>
</ul>
</div></blockquote>
<p>Of course, you can write your own maze file as well. The format requires the number of rows on the first line, followed by the number of columns on the second line. Then the rest of the maze on the following lines must have an opening at the top for the entrance and an opening at the bottom for the exit.</p>
<p>The program is written as a front-end. Your challenge is to provide a back-end that supports the given search types. The architecture for your back-end is described at the top of the front-end code. The front-end is written to support five types of search, depth-first, bread-first, hill climbing, best-first, and a-star. If you wish to see a demonstration of these search types without writing your own back-end code first, you can <a class="reference download internal" download="" href="../_downloads/7f38119494815bd777adb0c157d5d674/search.fas"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> the search.fas file which is a compiled CLISP back-end. You must have CLISP installed on your system to run this back-end code.</p>
<p>Here is the front-end code for your reference.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  2</span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="linenos">  3</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">time</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># The following program will animate a search algorithm written in a language of</span>
<span class="linenos">  8</span><span class="c1"># your choice. The only requirement is that the programming language is able to </span>
<span class="linenos">  9</span><span class="c1"># write to standard output and read from standard input following the architecture</span>
<span class="linenos"> 10</span><span class="c1"># outlined below. The program that you write is the back-end communicating to this</span>
<span class="linenos"> 11</span><span class="c1"># front-end code. A compiled lisp program serves as a back-end for demonstration</span>
<span class="linenos"> 12</span><span class="c1"># purposes and can be downloaded from the text website. This front-end</span>
<span class="linenos"> 13</span><span class="c1"># program and the back-end program communicate through pipes (both input and output)</span>
<span class="linenos"> 14</span><span class="c1"># according to this architecture. When a command is sent to the back-end it is indicated </span>
<span class="linenos"> 15</span><span class="c1"># with a right arrow indicating something is written to the back-end program&#39;s </span>
<span class="linenos"> 16</span><span class="c1"># standard input. When the back-end program sends something to this front-end</span>
<span class="linenos"> 17</span><span class="c1"># it is indicated with a left arrow. That means it is written to the standard</span>
<span class="linenos"> 18</span><span class="c1"># output of the back-end program. </span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="c1"># front-end    back-end</span>
<span class="linenos"> 21</span><span class="c1">#   dfs ---------&gt;     # A search type is selected, the back-end program must read</span>
<span class="linenos"> 22</span><span class="c1">#   maze.txt ----&gt;     # The filename is passed to the back-end program</span>
<span class="linenos"> 23</span><span class="c1">#   &lt;----------- 0 10  # these are the row column pairs of visited locations</span>
<span class="linenos"> 24</span><span class="c1">#   ...                # repeating until the search is complete</span>
<span class="linenos"> 25</span><span class="c1">#   &lt;----------- done  # Then done is printed by the back-end</span>
<span class="linenos"> 26</span><span class="c1">#   &lt;----------- 31 22 # Finally the path is printed in reverse order</span>
<span class="linenos"> 27</span><span class="c1">#   ...                # All locations are printed</span>
<span class="linenos"> 28</span><span class="c1">#   &lt;----------- eof   # EOF is printed back to be sent back to this application.</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="c1"># If you wish to implement your own back-end you must alter the line of code below</span>
<span class="linenos"> 31</span><span class="c1"># that looks like this:</span>
<span class="linenos"> 32</span><span class="c1">#</span>
<span class="linenos"> 33</span><span class="c1"># proc = subprocess.Popen([&quot;clisp&quot;,&quot;search.fas&quot;],stdout=subprocess.PIPE, \</span>
<span class="linenos"> 34</span><span class="c1">#    stdin=subprocess.PIPE,universal_newlines=True)</span>
<span class="linenos"> 35</span><span class="c1">#</span>
<span class="linenos"> 36</span><span class="c1"># You must replace clisp with the program that starts your program running. If you</span>
<span class="linenos"> 37</span><span class="c1"># have written your back-end with python 3.x then replace clisp with python3. </span>
<span class="linenos"> 38</span><span class="c1"># The search.fas should be replaced by any command-line arguments to your program. If </span>
<span class="linenos"> 39</span><span class="c1"># you have written your program in python, then the argument should be the name of your</span>
<span class="linenos"> 40</span><span class="c1"># program which must be in the same directory as this front-end code and the mazes you</span>
<span class="linenos"> 41</span><span class="c1"># with to search. </span>
<span class="linenos"> 42</span><span class="c1">#</span>
<span class="linenos"> 43</span><span class="c1"># Output that you want to print for debugging purposes can be written to standard error</span>
<span class="linenos"> 44</span><span class="c1"># instead of standard output. In this way standard output can be used to communicate</span>
<span class="linenos"> 45</span><span class="c1"># with the front-end while you still see output printed to the terminal window for </span>
<span class="linenos"> 46</span><span class="c1"># debugging purposes. In python, standard error can be written to as follows:</span>
<span class="linenos"> 47</span><span class="c1">#</span>
<span class="linenos"> 48</span><span class="c1"># import sys</span>
<span class="linenos"> 49</span><span class="c1"># sys.stderr.write(&#39;Your text goes here.\n&#39;)</span>
<span class="linenos"> 50</span><span class="c1">#</span>
<span class="linenos"> 51</span><span class="c1"># This architecture must be adhered to strictly for this program to work. The search </span>
<span class="linenos"> 52</span><span class="c1"># types supported by the front-end code are: dfs, bfs, hill, best, astar. Here</span>
<span class="linenos"> 53</span><span class="c1"># is sample Lisp code that will handle this interaction from the front-end code. </span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span><span class="c1">#(defun processCommand ()</span>
<span class="linenos"> 56</span>  <span class="c1">#(let ((searchTtype &quot;&quot;) </span>
<span class="linenos"> 57</span>        <span class="c1">#(filename &quot;&quot;)</span>
<span class="linenos"> 58</span>        <span class="c1">#(path nil))</span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span>    <span class="c1">#(setf searchType (read-line))</span>
<span class="linenos"> 62</span>    <span class="c1">#(format *error-output* &quot;Lisp says - Search Type is ~S~%&quot;  searchType)</span>
<span class="linenos"> 63</span>    <span class="c1">#(setf filename (read-line))</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span>    <span class="c1">#(cond ((equal searchType &quot;dfs&quot;) (setf path (dfsMaze filename)))</span>
<span class="linenos"> 67</span>          <span class="c1">#((equal searchType &quot;bfs&quot;) (setf path (bfsMaze filename))))</span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span>    <span class="c1">#(format t &quot;done~%&quot;)</span>
<span class="linenos"> 70</span>    <span class="c1">#(printPath path)</span>
<span class="linenos"> 71</span>    <span class="c1">#(format t &quot;eof~%&quot;)))</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="c1">#(processCommand)</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span><span class="k">class</span> <span class="nc">MazeAnimateApplication</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos"> 77</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 78</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos"> 79</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos"> 80</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
<span class="linenos"> 81</span>        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Maze Search Animation&quot;</span><span class="p">)</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos"> 88</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span>        <span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
<span class="linenos"> 91</span>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos"> 92</span>                <span class="k">return</span>
<span class="linenos"> 93</span>            
<span class="linenos"> 94</span>            <span class="k">try</span><span class="p">:</span>
<span class="linenos"> 95</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 96</span>                <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
<span class="linenos"> 97</span>                <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos"> 98</span>                <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 99</span>                <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">1300</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> 
<span class="linenos">100</span>                <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">screen</span>            
<span class="linenos">101</span>                <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;tile20.gif&quot;</span><span class="p">)</span>            
<span class="linenos">102</span>                <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="linenos">103</span>            
<span class="linenos">104</span>                <span class="n">firstLine</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="linenos">105</span>                <span class="n">rows</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">firstLine</span><span class="p">)</span>
<span class="linenos">106</span>                <span class="n">secondLine</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="linenos">107</span>                <span class="n">cols</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">secondLine</span><span class="p">)</span>
<span class="linenos">108</span>                
<span class="linenos">109</span>                <span class="k">if</span> <span class="n">cols</span> <span class="o">&gt;</span> <span class="mi">65</span> <span class="ow">or</span> <span class="n">rows</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">:</span>
<span class="linenos">110</span>                    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Information&quot;</span><span class="p">,</span> \
<span class="linenos">111</span>                        <span class="s2">&quot;Maximum allowed rows is 40 and the maximum allowed columns are 65&quot;</span><span class="p">)</span>
<span class="linenos">112</span>                    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">113</span>                    <span class="k">return</span> 
<span class="linenos">114</span>            
<span class="linenos">115</span>                <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;tile20.gif&quot;</span><span class="p">)</span>
<span class="linenos">116</span>                 
<span class="linenos">117</span>                <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">118</span>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
<span class="linenos">119</span>                    <span class="n">line</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="linenos">120</span>                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
<span class="linenos">121</span>                        <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;*&quot;</span><span class="p">:</span>
<span class="linenos">122</span>                            <span class="n">tile</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">123</span>                            <span class="n">tile</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">124</span>                            <span class="n">tile</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;tile20.gif&quot;</span><span class="p">)</span>
<span class="linenos">125</span>                            <span class="n">tile</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">126</span>                            
<span class="linenos">127</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">128</span>                
<span class="linenos">129</span>                <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;clisp&quot;</span><span class="p">,</span><span class="s2">&quot;search.fas&quot;</span><span class="p">],</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> \
<span class="linenos">130</span>                    <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">131</span>                <span class="n">fromLisp</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span>
<span class="linenos">132</span>                <span class="n">toLisp</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdin</span>
<span class="linenos">133</span>                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">())</span>
<span class="linenos">134</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">135</span>                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">136</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">137</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">138</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">139</span>                  
<span class="linenos">140</span>                <span class="n">t</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">141</span>                <span class="n">t</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">142</span>                <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="linenos">143</span>                <span class="n">t</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="linenos">144</span>                
<span class="linenos">145</span>                <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">146</span>                <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">147</span>                
<span class="linenos">148</span>                <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;done&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos">149</span>                    <span class="c1"># process line of currently inspected node</span>
<span class="linenos">150</span>                    <span class="n">lst</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="linenos">151</span>                    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos">152</span>                    <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos">153</span>                    <span class="n">length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">154</span>                    <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">col</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="n">row</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">155</span>                    <span class="c1">#t.dot(10)</span>
<span class="linenos">156</span>                    <span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">length</span><span class="p">),</span><span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">))</span>
<span class="linenos">157</span>        
<span class="linenos">158</span>                    <span class="c1"># read the next line</span>
<span class="linenos">159</span>                    <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">160</span>                        
<span class="linenos">161</span>                <span class="n">t</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="linenos">162</span>                <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">163</span>                
<span class="linenos">164</span>                <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;eof&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos">165</span>                        
<span class="linenos">166</span>                    <span class="c1"># process line of final path node</span>
<span class="linenos">167</span>                    <span class="n">lst</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="linenos">168</span>                    <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos">169</span>                    <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos">170</span>                    <span class="n">length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">171</span>                    <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">col</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="n">row</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="mi">10</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">172</span>                    <span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">length</span><span class="p">),</span><span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;bold&quot;</span><span class="p">))</span>
<span class="linenos">173</span>                    <span class="c1">#t.dot(10)                    </span>
<span class="linenos">174</span>                    
<span class="linenos">175</span>                    <span class="c1"># read the next line</span>
<span class="linenos">176</span>                    <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>                    
<span class="linenos">177</span>
<span class="linenos">178</span>                <span class="n">proc</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
<span class="linenos">179</span>                <span class="n">t</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">180</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">181</span>
<span class="linenos">182</span>                
<span class="linenos">183</span>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="linenos">184</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Alert&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
<span class="linenos">185</span>                <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">186</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">187</span>                <span class="k">raise</span> <span class="n">ex</span>
<span class="linenos">188</span>                
<span class="linenos">189</span>            
<span class="linenos">190</span>                
<span class="linenos">191</span>        <span class="k">def</span> <span class="nf">stop</span><span class="p">():</span>
<span class="linenos">192</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">193</span>
<span class="linenos">194</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">195</span>
<span class="linenos">196</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">197</span>
<span class="linenos">198</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>
<span class="linenos">199</span>
<span class="linenos">200</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">1300</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="linenos">201</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">202</span>
<span class="linenos">203</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">204</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>         
<span class="linenos">205</span>
<span class="linenos">206</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RAISED</span><span class="p">,</span> \
<span class="linenos">207</span>            <span class="n">borderwidth</span><span class="o">=</span><span class="s2">&quot;5pt&quot;</span><span class="p">)</span>
<span class="linenos">208</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">209</span>        
<span class="linenos">210</span>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">211</span>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;maze.txt&quot;</span><span class="p">)</span>
<span class="linenos">212</span>        
<span class="linenos">213</span>        <span class="n">selectLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Select File&quot;</span><span class="p">)</span>
<span class="linenos">214</span>        <span class="n">selectLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">215</span>        
<span class="linenos">216</span>        <span class="n">fileEntryBox</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">217</span>        <span class="n">fileEntryBox</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">218</span> 
<span class="linenos">219</span>        <span class="n">selectLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Select Search&quot;</span><span class="p">)</span>
<span class="linenos">220</span>        <span class="n">selectLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">221</span>        
<span class="linenos">222</span>        <span class="n">RadioButtonBox</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">relief</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">SUNKEN</span><span class="p">,</span> \
<span class="linenos">223</span>            <span class="n">borderwidth</span><span class="o">=</span><span class="s2">&quot;5pt&quot;</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">224</span>        <span class="n">RadioButtonBox</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">225</span>        
<span class="linenos">226</span>        <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">IntVar</span><span class="p">()</span>
<span class="linenos">227</span>        
<span class="linenos">228</span>        <span class="n">rb1</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">RadioButtonBox</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Depth First&quot;</span><span class="p">,</span> \
<span class="linenos">229</span>            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">)</span>
<span class="linenos">230</span>        <span class="n">rb1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">231</span>        
<span class="linenos">232</span>        <span class="n">rb2</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">RadioButtonBox</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Breadth First&quot;</span><span class="p">,</span> \
<span class="linenos">233</span>            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">)</span>
<span class="linenos">234</span>        <span class="n">rb2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">235</span>
<span class="linenos">236</span>        <span class="n">rb3</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">RadioButtonBox</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Hill Climbing&quot;</span><span class="p">,</span> \
<span class="linenos">237</span>            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">)</span>
<span class="linenos">238</span>        <span class="n">rb3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">239</span>        
<span class="linenos">240</span>        <span class="n">rb4</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">RadioButtonBox</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Best First&quot;</span><span class="p">,</span> \
<span class="linenos">241</span>            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">)</span>
<span class="linenos">242</span>        <span class="n">rb4</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">243</span>        
<span class="linenos">244</span>        <span class="n">rb5</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Radiobutton</span><span class="p">(</span><span class="n">RadioButtonBox</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;A Star&quot;</span><span class="p">,</span> \
<span class="linenos">245</span>            <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rbSelection</span><span class="p">)</span>
<span class="linenos">246</span>        <span class="n">rb5</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">247</span>        
<span class="linenos">248</span>        <span class="n">sb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">run</span><span class="p">)</span>
<span class="linenos">249</span>        <span class="n">sb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">250</span>        
<span class="linenos">251</span>        <span class="n">kb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Stop&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">stop</span><span class="p">)</span>
<span class="linenos">252</span>        <span class="n">kb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>   
<span class="linenos">253</span>        
<span class="linenos">254</span>    <span class="k">def</span> <span class="nf">rbSelection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">255</span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">256</span>            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;DFS Search&quot;</span><span class="p">)</span>
<span class="linenos">257</span>            <span class="k">return</span> <span class="s2">&quot;dfs&quot;</span>
<span class="linenos">258</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">259</span>            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;BFS Search&quot;</span><span class="p">)</span>
<span class="linenos">260</span>            <span class="k">return</span> <span class="s2">&quot;bfs&quot;</span>
<span class="linenos">261</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="linenos">262</span>            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Hill Climbing Search&quot;</span><span class="p">)</span>
<span class="linenos">263</span>            <span class="k">return</span> <span class="s2">&quot;hill&quot;</span>
<span class="linenos">264</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="linenos">265</span>            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Best First Search&quot;</span><span class="p">)</span>
<span class="linenos">266</span>            <span class="k">return</span> <span class="s2">&quot;best&quot;</span>
<span class="linenos">267</span>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">searchType</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
<span class="linenos">268</span>            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;A* Search&quot;</span><span class="p">)</span>
<span class="linenos">269</span>            <span class="k">return</span> <span class="s2">&quot;astar&quot;</span>
<span class="linenos">270</span>
<span class="linenos">271</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">272</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="linenos">273</span>    <span class="n">animApp</span> <span class="o">=</span> <span class="n">MazeAnimateApplication</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">274</span>
<span class="linenos">275</span>    <span class="n">animApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">276</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">277</span>    
<span class="linenos">278</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">279</span>    <span class="n">main</span><span class="p">()</span>
<span class="linenos">280</span>    
<span class="linenos">281</span>    
</pre></div>
</div>
</section>
<section id="n-queens-problem">
<h2><span class="section-number">12.2. </span>N-Queens Problem<a class="headerlink" href="#n-queens-problem" title="Permalink to this heading">¶</a></h2>
<p>The N-Queens problem from the text can be solved using a depth first search with forward checking. A front-end program is provided so you can visualize the search for a solution. You can <a class="reference download internal" download="" href="../_downloads/721e0bfe9c81f2bae9e322e8989f14cf/queensanimate.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> the front-end code here.</p>
<p>The program is written as a front-end. Your challenge is to write the back-end code for this program. The architecture for your back-end is described at the top of the front-end code.
If you wish to visualize how this program works without writing your own back-end, you can <a class="reference download internal" download="" href="../_downloads/d32ec1b5d1c33f0ef9d650f5336a2793/qsearch.fas"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> the qsearch.fas file here. This file requires CLISP be installed to run. The qsearch.fas file must be placed in the same directory as the front-end queensanimate.py program to run.</p>
<p>Here is the front-end code for your reference.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  2</span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="linenos">  3</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">time</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># The following program will animate the n-queens algorithm. This front-end</span>
<span class="linenos">  8</span><span class="c1"># program and a back-end program communicate through pipes (both input and output)</span>
<span class="linenos">  9</span><span class="c1"># according to this architecture. When a command is sent to the back-end it is indicated </span>
<span class="linenos"> 10</span><span class="c1"># with a right arrow indicating something is written to the back-end program&#39;s </span>
<span class="linenos"> 11</span><span class="c1"># standard input. When the back-end program sends something to this front-end program</span>
<span class="linenos"> 12</span><span class="c1"># it is indicated with a left arrow. That means it is written to the standard</span>
<span class="linenos"> 13</span><span class="c1"># output of the back-end program. </span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="c1"># Each state in the search consists of the currently placed queens (up to the current </span>
<span class="linenos"> 16</span><span class="c1"># row) and the remaining available locations above the row the last queen was placed in.</span>
<span class="linenos"> 17</span><span class="c1"># The architecture below repeats this state information over and over until the search</span>
<span class="linenos"> 18</span><span class="c1"># has found a solution. </span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="c1"># front-end   back-end</span>
<span class="linenos"> 21</span><span class="c1">#   8 ---------&gt;       # A size is specified to the back-end program</span>
<span class="linenos"> 22</span><span class="c1">#   &lt;----------- 0 10  # these are the row column pairs of possibly assigned queen locations</span>
<span class="linenos"> 23</span><span class="c1">#   ...                # repeating until the search is complete</span>
<span class="linenos"> 24</span><span class="c1">#   &lt;----------- and   # The and is printed between the assigned and remaining locations</span>
<span class="linenos"> 25</span><span class="c1">#   &lt;----------- 1 2   # next comes the remaining locations</span>
<span class="linenos"> 26</span><span class="c1">#   ...                # repeating until done</span>
<span class="linenos"> 27</span><span class="c1">#   &lt;----------- done  # Then done is printed after each state is completely enumerated</span>
<span class="linenos"> 28</span><span class="c1">#   ...                # These states repeat until the search has concluded. </span>
<span class="linenos"> 29</span><span class="c1">#   &lt;----------- eof   # EOF is printed back to inidicate the end of the animation.</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="c1"># If you wish to implement your own backend you must alter the line of code below</span>
<span class="linenos"> 32</span><span class="c1"># that looks like this:</span>
<span class="linenos"> 33</span><span class="c1">#</span>
<span class="linenos"> 34</span><span class="c1"># proc = subprocess.Popen([&quot;clisp&quot;,&quot;qsearch.fas&quot;],stdout=subprocess.PIPE, \</span>
<span class="linenos"> 35</span><span class="c1">#    stdin=subprocess.PIPE,universal_newlines=True)</span>
<span class="linenos"> 36</span><span class="c1">#</span>
<span class="linenos"> 37</span><span class="c1"># You must replace clisp with the program that starts your program running. If you</span>
<span class="linenos"> 38</span><span class="c1"># have written your back-end with python 3.x then replace clisp with python3. </span>
<span class="linenos"> 39</span><span class="c1"># The qsearch.fas should be replaced by any command-line arguments to your program. If </span>
<span class="linenos"> 40</span><span class="c1"># you have written your program in python, then the argument should be the name of your</span>
<span class="linenos"> 41</span><span class="c1"># program which must be in the same directory as this front-end code. </span>
<span class="linenos"> 42</span><span class="c1">#</span>
<span class="linenos"> 43</span><span class="c1"># Output that you want to print for debugging purposes can be written to standard error</span>
<span class="linenos"> 44</span><span class="c1"># instead of standard output. In this way standard output can be used to communicate</span>
<span class="linenos"> 45</span><span class="c1"># with the front-end while you still see output printed to the terminal window for </span>
<span class="linenos"> 46</span><span class="c1"># debugging purposes. In python, standard error can be written to as follows:</span>
<span class="linenos"> 47</span><span class="c1">#</span>
<span class="linenos"> 48</span><span class="c1"># import sys</span>
<span class="linenos"> 49</span><span class="c1"># sys.stderr.write(&#39;Your text goes here.\n&#39;)</span>
<span class="linenos"> 50</span><span class="c1">#</span>
<span class="linenos"> 51</span><span class="c1"># This architecture must be adhered to strictly for this program to work. Here</span>
<span class="linenos"> 52</span><span class="c1"># is sample Lisp code that will handle this interaction.</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="c1">#(defun queens-search (size)</span>
<span class="linenos"> 55</span>   <span class="c1">#(print-state (dfs (initialize size) #&#39;(lambda (state) (eq (list-length </span>
<span class="linenos"> 56</span>   <span class="c1">#                (first state)) size))))</span>
<span class="linenos"> 57</span>   <span class="c1">#(format t &quot;eof~%&quot;))</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="c1">#(defun processCommand ()</span>
<span class="linenos"> 60</span>  <span class="c1">#(let ((size 8))</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span>    <span class="c1">#(setf size (parse-integer (read-line)))</span>
<span class="linenos"> 64</span>    <span class="c1">#(format *error-output* &quot;Lisp says - Size is ~D~%&quot;  size)</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span>    <span class="c1">#(queens-search size)))</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span><span class="c1">#(processCommand)</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="k">class</span> <span class="nc">QueensAnimateApplication</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos"> 74</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 75</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos"> 76</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos"> 77</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
<span class="linenos"> 78</span>        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 79</span>
<span class="linenos"> 80</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Queens Search Animation&quot;</span><span class="p">)</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos"> 85</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span>        <span class="k">def</span> <span class="nf">run</span><span class="p">():</span>
<span class="linenos"> 88</span>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos"> 89</span>                <span class="k">return</span>
<span class="linenos"> 90</span>            
<span class="linenos"> 91</span>            <span class="k">try</span><span class="p">:</span>
<span class="linenos"> 92</span>                <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">]</span>
<span class="linenos"> 93</span>                <span class="n">colorIndex</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 94</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 95</span>                <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span> 
<span class="linenos"> 96</span>                <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos"> 97</span>                <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 98</span>                <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">screen</span>  
<span class="linenos"> 99</span>                <span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sizevar</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">100</span>                <span class="n">cellWidth</span> <span class="o">=</span> <span class="mi">800</span><span class="o">/</span><span class="n">size</span>
<span class="linenos">101</span>                <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">102</span>            
<span class="linenos">103</span>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="linenos">104</span>                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="linenos">105</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">106</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">107</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">108</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="linenos">109</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="n">colorIndex</span><span class="p">])</span>
<span class="linenos">110</span>                        <span class="n">colorIndex</span><span class="o">=</span><span class="p">(</span><span class="n">colorIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span>
<span class="linenos">111</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">begin_fill</span><span class="p">()</span>
<span class="linenos">112</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">113</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">114</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">115</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">116</span>                        <span class="n">theTurtle</span><span class="o">.</span><span class="n">end_fill</span><span class="p">()</span>
<span class="linenos">117</span>                    <span class="k">if</span> <span class="p">(</span><span class="n">size</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
<span class="linenos">118</span>                        <span class="n">colorIndex</span> <span class="o">=</span> <span class="p">(</span><span class="n">colorIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span>
<span class="linenos">119</span>                        
<span class="linenos">120</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">121</span>                        
<span class="linenos">122</span>                <span class="n">matrix</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">123</span>                <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">124</span>                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="linenos">125</span>                    <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">126</span>                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
<span class="linenos">127</span>                        <span class="n">t</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">128</span>                        <span class="n">t</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">129</span>                        <span class="n">t</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="linenos">130</span>                        <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="n">cellWidth</span><span class="o">+</span><span class="n">cellWidth</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">131</span>                        <span class="n">t</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="n">cellWidth</span><span class="p">)</span>
<span class="linenos">132</span>                        <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="linenos">133</span>                        <span class="n">t</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">134</span>                        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">135</span>                    <span class="n">matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="linenos">136</span>                            
<span class="linenos">137</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">138</span>                
<span class="linenos">139</span>                <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;clisp&quot;</span><span class="p">,</span><span class="s2">&quot;qsearch.fas&quot;</span><span class="p">],</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> \
<span class="linenos">140</span>                    <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">141</span>                <span class="n">fromLisp</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span>
<span class="linenos">142</span>                <span class="n">toLisp</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdin</span>
<span class="linenos">143</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">size</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">144</span>                <span class="n">toLisp</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">145</span>                
<span class="linenos">146</span>                <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">147</span>                
<span class="linenos">148</span>                <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;eof&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos">149</span>                    <span class="c1"># process line of currently inspected node</span>
<span class="linenos">150</span>                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">:</span>
<span class="linenos">151</span>                        <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
<span class="linenos">152</span>                            <span class="n">cell</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">153</span>                            
<span class="linenos">154</span>                    <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;and&quot;</span><span class="p">:</span>
<span class="linenos">155</span>                        
<span class="linenos">156</span>                        <span class="n">lst</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="linenos">157</span>                        <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos">158</span>                        <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos">159</span>                        <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="linenos">160</span>                        <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">st</span><span class="p">()</span>
<span class="linenos">161</span>                        
<span class="linenos">162</span>                        <span class="c1"># read the next line</span>
<span class="linenos">163</span>                        <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">164</span>                        
<span class="linenos">165</span>                    <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">166</span>
<span class="linenos">167</span>                    <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;done&quot;</span><span class="p">:</span>
<span class="linenos">168</span>                        
<span class="linenos">169</span>                        <span class="n">lst</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="linenos">170</span>                        <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos">171</span>                        <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="linenos">172</span>                        <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="linenos">173</span>                        <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">st</span><span class="p">()</span>
<span class="linenos">174</span>                        
<span class="linenos">175</span>                        <span class="c1"># read the next line</span>
<span class="linenos">176</span>                        <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">177</span>                        
<span class="linenos">178</span>                    <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">179</span>                    <span class="c1">#time.sleep(1)</span>
<span class="linenos">180</span>                    <span class="c1"># read the next line</span>
<span class="linenos">181</span>                    <span class="n">line</span> <span class="o">=</span> <span class="n">fromLisp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">182</span>                 
<span class="linenos">183</span>
<span class="linenos">184</span>                <span class="n">proc</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
<span class="linenos">185</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">186</span>
<span class="linenos">187</span>                
<span class="linenos">188</span>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
<span class="linenos">189</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Alert&quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
<span class="linenos">190</span>                <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="linenos">191</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">192</span>                <span class="k">raise</span> <span class="n">ex</span>
<span class="linenos">193</span>                
<span class="linenos">194</span>            
<span class="linenos">195</span>                
<span class="linenos">196</span>        <span class="k">def</span> <span class="nf">stop</span><span class="p">():</span>
<span class="linenos">197</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">198</span>
<span class="linenos">199</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">200</span>
<span class="linenos">201</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">202</span>
<span class="linenos">203</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>
<span class="linenos">204</span>
<span class="linenos">205</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">)</span>
<span class="linenos">206</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">207</span>
<span class="linenos">208</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">209</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>         
<span class="linenos">210</span>
<span class="linenos">211</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RAISED</span><span class="p">,</span> \
<span class="linenos">212</span>            <span class="n">borderwidth</span><span class="o">=</span><span class="s2">&quot;5pt&quot;</span><span class="p">)</span>
<span class="linenos">213</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">214</span>        
<span class="linenos">215</span>        <span class="bp">self</span><span class="o">.</span><span class="n">sizevar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">216</span>        <span class="bp">self</span><span class="o">.</span><span class="n">sizevar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;8&quot;</span><span class="p">)</span>
<span class="linenos">217</span>        
<span class="linenos">218</span>        <span class="n">selectLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Problem Size&quot;</span><span class="p">)</span>
<span class="linenos">219</span>        <span class="n">selectLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">220</span>        
<span class="linenos">221</span>        <span class="n">sizeEntryBox</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sizevar</span><span class="p">)</span>
<span class="linenos">222</span>        <span class="n">sizeEntryBox</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">223</span>        
<span class="linenos">224</span>        <span class="n">sb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">run</span><span class="p">)</span>
<span class="linenos">225</span>        <span class="n">sb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">226</span>        
<span class="linenos">227</span>        <span class="n">kb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Stop&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">stop</span><span class="p">)</span>
<span class="linenos">228</span>        <span class="n">kb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>   
<span class="linenos">229</span>
<span class="linenos">230</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">231</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="linenos">232</span>    <span class="n">animApp</span> <span class="o">=</span> <span class="n">QueensAnimateApplication</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">233</span>
<span class="linenos">234</span>    <span class="n">animApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">235</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">236</span>    
<span class="linenos">237</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">238</span>    <span class="n">main</span><span class="p">()</span>
<span class="linenos">239</span>    
<span class="linenos">240</span>    
</pre></div>
</div>
</section>
<section id="connect-four">
<h2><span class="section-number">12.3. </span>Connect Four<a class="headerlink" href="#connect-four" title="Permalink to this heading">¶</a></h2>
<p>The connect four game presented in the text, like the other two program presented here, is written as a front-end/back-end pair. The front-end code can be <a class="reference download internal" download="" href="../_downloads/b00938f5cdf4a2fd768bcc41ed31429f/c4.py"><code class="xref download docutils literal notranslate"><span class="pre">downloaded</span></code></a> here. The front-end requires the <a class="reference download internal" download="" href="../_downloads/5277ad6e8d716d3a4e6c1ad7148fc8db/redchecker.gif"><code class="xref download docutils literal notranslate"><span class="pre">redchecker.gif</span></code></a> and the <a class="reference download internal" download="" href="../_downloads/dffdf0d140676f78557a479e348b79c6/blackchecker.gif"><code class="xref download docutils literal notranslate"><span class="pre">blackchecker</span></code></a> files be in the same directory.</p>
<p>Your challenge is to write the back-end code for this program that beats the author’s back-end code. The architecture for your back-end is described at the top of the front-end code.
If you wish to run this program works without writing your own back-end, you can <a class="reference download internal" download="" href="../_downloads/2a8c418e3393b094fcf39e46ca3aff33/c4.fas"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> the c4.fas file here. This file requires CLISP be installed to run. The c4.fas file must be placed in the same directory as the front-end c4.py program to run.</p>
<p>Here is the front-end code for your reference.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  2</span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="linenos">  3</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">time</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># The following program will play connect four. This front-end</span>
<span class="linenos">  8</span><span class="c1"># program and a back-end program communicate through pipes (both input and output)</span>
<span class="linenos">  9</span><span class="c1"># according to this architecture. When a command is sent it is indicated </span>
<span class="linenos"> 10</span><span class="c1"># with a right arrow indicating something is written to the other program&#39;s </span>
<span class="linenos"> 11</span><span class="c1"># standard input. When the other program sends something to this Python Program</span>
<span class="linenos"> 12</span><span class="c1"># it is indicated with a left arrow. That means it is written to the standard</span>
<span class="linenos"> 13</span><span class="c1"># output of the other program. </span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="c1"># front-end   back-end      </span>
<span class="linenos"> 16</span><span class="c1">#   0 -----------&gt;     # New Game is initiated by the front-end code</span>
<span class="linenos"> 17</span><span class="c1">#   &lt;----------- 0     # Back-end code says OK.</span>
<span class="linenos"> 18</span><span class="c1">#   2 M ---------&gt;     # Human Move followed by Move Value M which is 0-6.</span>
<span class="linenos"> 19</span><span class="c1">#                      # Move Value M will be on separate line.</span>
<span class="linenos"> 20</span><span class="c1">#   &lt;----------- 0     # Back-end code says OK.</span>
<span class="linenos"> 21</span><span class="c1">#   1 -----------&gt;     # Computer Move is indicated to back-end code.</span>
<span class="linenos"> 22</span><span class="c1">#   &lt;--------- 0 M     # Status OK and Move Value M which is 0-6.</span>
<span class="linenos"> 23</span><span class="c1">#   3 -----------&gt;     # Game Over?</span>
<span class="linenos"> 24</span><span class="c1">#   &lt;--------- Val     # Val is 0=Not Over, 1=Computer Won, 2=Human Won, 3=Tie.</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="c1"># If you wish to implement your own back-end you must alter the line of code below</span>
<span class="linenos"> 27</span><span class="c1"># that looks like this:</span>
<span class="linenos"> 28</span><span class="c1">#</span>
<span class="linenos"> 29</span><span class="c1"># proc = subprocess.Popen([&quot;clisp&quot;,&quot;c4.fas&quot;],stdout=subprocess.PIPE, \</span>
<span class="linenos"> 30</span><span class="c1">#    stdin=subprocess.PIPE,universal_newlines=True)</span>
<span class="linenos"> 31</span><span class="c1">#</span>
<span class="linenos"> 32</span><span class="c1"># You must replace clisp with the program that starts your program running. If you</span>
<span class="linenos"> 33</span><span class="c1"># have written your back-end with python 3.x then replace clisp with python3. </span>
<span class="linenos"> 34</span><span class="c1"># The c4.fas should be replaced by any command-line arguments to your program. If </span>
<span class="linenos"> 35</span><span class="c1"># you have written your program in python, then the argument should be the name of your</span>
<span class="linenos"> 36</span><span class="c1"># program which must be in the same directory as this front-end code. </span>
<span class="linenos"> 37</span><span class="c1">#</span>
<span class="linenos"> 38</span><span class="c1"># Output that you want to print for debugging purposes can be written to standard error</span>
<span class="linenos"> 39</span><span class="c1"># instead of standard output. In this way standard output can be used to communicate</span>
<span class="linenos"> 40</span><span class="c1"># with the front-end while you still see output printed to the terminal window for </span>
<span class="linenos"> 41</span><span class="c1"># debugging purposes. In python, standard error can be written to as follows:</span>
<span class="linenos"> 42</span><span class="c1">#</span>
<span class="linenos"> 43</span><span class="c1"># import sys</span>
<span class="linenos"> 44</span><span class="c1"># sys.stderr.write(&#39;Your text goes here.\n&#39;)</span>
<span class="linenos"> 45</span><span class="c1">#</span>
<span class="linenos"> 46</span><span class="c1"># This architecture must be adhered to strictly for this program to work. Here</span>
<span class="linenos"> 47</span><span class="c1"># is sample Lisp code that will handle this interaction. However, the other </span>
<span class="linenos"> 48</span><span class="c1"># program may be written in any programming language, including Python.</span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="c1">#(defun play ()</span>
<span class="linenos"> 51</span>  <span class="c1">#(let ((gameBoard (make-hash-table :size 10))</span>
<span class="linenos"> 52</span>        <span class="c1">#(memo (make-hash-table :size 27 :test #&#39;equalp))</span>
<span class="linenos"> 53</span>        <span class="c1">#(lastMove nil))</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span>    <span class="c1">#(do () (nil nil)</span>
<span class="linenos"> 56</span>        <span class="c1">#;(printBoard gameBoard)</span>
<span class="linenos"> 57</span>        <span class="c1">#(let ((msgId (read)))</span>
<span class="linenos"> 58</span>          <span class="c1">#(cond ((equal msgId 2) ;; Human turn to call human turn function</span>
<span class="linenos"> 59</span>                 <span class="c1">#(setf lastMove (humanTurn gameBoard)))</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span>                <span class="c1">#((equal msgId 0) ;; New Game message</span>
<span class="linenos"> 62</span>                 <span class="c1">#(progn </span>
<span class="linenos"> 63</span>                   <span class="c1">#(setf gameBoard (make-hash-table :size 10))</span>
<span class="linenos"> 64</span>                   <span class="c1">#(setf memo (make-hash-table :size 27 :test #&#39;equalp))</span>
<span class="linenos"> 65</span>                   <span class="c1">#(format t &quot;0~%&quot;)))</span>
<span class="linenos"> 66</span>                   <span class="c1">#;; Return a 0 to indicate the computer is ready</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span>                <span class="c1">#((equal msgId 1) ;; Computer Turn message</span>
<span class="linenos"> 69</span>                 <span class="c1">#(setf lastMove (computerTurn gameBoard)))</span>
<span class="linenos"> 70</span>                
<span class="linenos"> 71</span>                <span class="c1">#((equal msgId 3) ;; Get Game Status</span>
<span class="linenos"> 72</span>                 
<span class="linenos"> 73</span>                 <span class="c1">#(cond ((equal (evalBoard gameBoard lastMove) 1) (format t &quot;1~%&quot;))</span>
<span class="linenos"> 74</span>                       <span class="c1">#;; The Computer Won</span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span>                       <span class="c1">#((equal (evalBoard gameBoard lastMove) -1) (format t &quot;2~%&quot;))</span>
<span class="linenos"> 77</span>                       <span class="c1">#;; The Human Won</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>                       <span class="c1">#((fullBoard gameBoard) (format t &quot;3~%&quot;))</span>
<span class="linenos"> 80</span>                       <span class="c1">#;; It&#39;s a draw</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span>                       <span class="c1">#(t (format t &quot;0~%&quot;))))</span>
<span class="linenos"> 83</span>                       <span class="c1">#;; The game is not over yet.</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span>                <span class="c1">#(t (format t &quot;-1~%&quot;)))))))</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span><span class="n">Computer</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 88</span><span class="n">Human</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="k">class</span> <span class="nc">Tile</span><span class="p">(</span><span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">):</span>
<span class="linenos"> 91</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">canvas</span><span class="p">,</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">,</span><span class="n">app</span><span class="p">):</span>
<span class="linenos"> 92</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos"> 93</span>        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 94</span>        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">row</span>
<span class="linenos"> 95</span>        <span class="bp">self</span><span class="o">.</span><span class="n">col</span> <span class="o">=</span> <span class="n">col</span>
<span class="linenos"> 96</span>        <span class="bp">self</span><span class="o">.</span><span class="n">tttApplication</span> <span class="o">=</span> <span class="n">app</span>
<span class="linenos"> 97</span>        <span class="bp">self</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos"> 98</span>        <span class="bp">self</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos"> 99</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos">100</span>        
<span class="linenos">101</span>    <span class="k">def</span> <span class="nf">setShape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">horc</span><span class="p">,</span><span class="n">screen</span><span class="p">):</span>
<span class="linenos">102</span>        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">horc</span>
<span class="linenos">103</span>        
<span class="linenos">104</span>        <span class="k">if</span> <span class="n">horc</span> <span class="o">==</span> <span class="n">Computer</span><span class="p">:</span>
<span class="linenos">105</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;blackchecker.gif&quot;</span><span class="p">)</span> 
<span class="linenos">106</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">107</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;redchecker.gif&quot;</span><span class="p">)</span> 
<span class="linenos">108</span>        
<span class="linenos">109</span>        <span class="bp">self</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span> 
<span class="linenos">110</span>
<span class="linenos">111</span>    <span class="k">def</span> <span class="nf">getOwner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">112</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">val</span>
<span class="linenos">113</span>    
<span class="linenos">114</span>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">115</span>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">)</span>
<span class="linenos">116</span>        
<span class="linenos">117</span>    <span class="k">def</span> <span class="nf">drop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">screen</span><span class="p">):</span>
<span class="linenos">118</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">119</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">120</span>        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">121</span>        <span class="bp">self</span><span class="o">.</span><span class="n">st</span><span class="p">()</span>
<span class="linenos">122</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">55</span><span class="p">)</span>
<span class="linenos">123</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">45</span><span class="p">)</span>
<span class="linenos">124</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos">125</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">126</span>
<span class="linenos">127</span><span class="k">class</span> <span class="nc">Connect4Application</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>      
<span class="linenos">128</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">129</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">130</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">131</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
<span class="linenos">132</span>        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">133</span>
<span class="linenos">134</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">135</span>
<span class="linenos">136</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Connect Four&quot;</span><span class="p">)</span>
<span class="linenos">137</span>
<span class="linenos">138</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">139</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">140</span>                
<span class="linenos">141</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">142</span>
<span class="linenos">143</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">144</span>
<span class="linenos">145</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>
<span class="linenos">146</span>
<span class="linenos">147</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">148</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">149</span>
<span class="linenos">150</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">151</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>  
<span class="linenos">152</span>        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>  
<span class="linenos">153</span>        <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">700</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">154</span>        <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;blackchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos">155</span>        <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;redchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos">156</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">157</span>        <span class="n">screen</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="linenos">158</span>        
<span class="linenos">159</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">160</span>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<span class="linenos">161</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">162</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">163</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">164</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">165</span>            
<span class="linenos">166</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">167</span>            
<span class="linenos">168</span>        <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">169</span>        
<span class="linenos">170</span>        <span class="k">def</span> <span class="nf">checkStatus</span><span class="p">():</span>
<span class="linenos">171</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;3</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">172</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">173</span>            
<span class="linenos">174</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">175</span>            
<span class="linenos">176</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">177</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;I Won!!!!!&quot;</span><span class="p">)</span>
<span class="linenos">178</span>            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="linenos">179</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;You Won!!!!!&quot;</span><span class="p">)</span> 
<span class="linenos">180</span>            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="linenos">181</span>                 <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;It&#39;s a tie.&quot;</span><span class="p">)</span>
<span class="linenos">182</span>                 
<span class="linenos">183</span>            <span class="c1">#print(&quot;Status is &quot;, status)</span>
<span class="linenos">184</span>            <span class="k">return</span> <span class="n">status</span>
<span class="linenos">185</span>        
<span class="linenos">186</span>        <span class="k">def</span> <span class="nf">ComputerTurn</span><span class="p">():</span>
<span class="linenos">187</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;1</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">188</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">189</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">190</span>            <span class="c1">#print(&quot;Computer Turn Other Status = &quot;, status)</span>
<span class="linenos">191</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">192</span>                <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">193</span>                <span class="c1">#print(&quot;Move is&quot;, move)</span>
<span class="linenos">194</span>                <span class="n">row</span> <span class="o">=</span> <span class="n">move</span> <span class="o">//</span> <span class="mi">7</span>
<span class="linenos">195</span>                <span class="n">col</span> <span class="o">=</span> <span class="n">move</span> <span class="o">%</span> <span class="mi">7</span>
<span class="linenos">196</span>                
<span class="linenos">197</span>                <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">setShape</span><span class="p">(</span><span class="n">Computer</span><span class="p">,</span><span class="n">screen</span><span class="p">)</span>
<span class="linenos">198</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">199</span>
<span class="linenos">200</span>        <span class="k">def</span> <span class="nf">HumanTurn</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">201</span>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span> 
<span class="linenos">202</span>                <span class="k">return</span>
<span class="linenos">203</span>            
<span class="linenos">204</span>            <span class="c1">#status = checkStatus()</span>
<span class="linenos">205</span>            
<span class="linenos">206</span>            <span class="c1">#if status != 0:</span>
<span class="linenos">207</span>                <span class="c1">#return</span>
<span class="linenos">208</span>            
<span class="linenos">209</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">210</span>            <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">//</span> <span class="mi">100</span>
<span class="linenos">211</span>            
<span class="linenos">212</span>            <span class="n">row</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos">213</span>            <span class="k">while</span> <span class="n">row</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isvisible</span><span class="p">():</span>
<span class="linenos">214</span>                <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">1</span>
<span class="linenos">215</span>            
<span class="linenos">216</span>            <span class="k">if</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">217</span>                <span class="c1">#Then we clicked in a column that was already full.</span>
<span class="linenos">218</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">219</span>                <span class="k">return</span> 
<span class="linenos">220</span>              
<span class="linenos">221</span>            <span class="n">val</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">+</span> <span class="n">col</span>
<span class="linenos">222</span>            
<span class="linenos">223</span>            <span class="c1"># Do the Human Turn</span>
<span class="linenos">224</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;2</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">225</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">226</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">227</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">228</span>            
<span class="linenos">229</span>            <span class="n">status</span> <span class="o">=</span> <span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">230</span>            <span class="c1">#print(&quot;Status is &quot;,status)</span>
<span class="linenos">231</span>            
<span class="linenos">232</span>            <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">setShape</span><span class="p">(</span><span class="n">Human</span><span class="p">,</span><span class="n">screen</span><span class="p">)</span>
<span class="linenos">233</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">234</span>            
<span class="linenos">235</span>            <span class="c1"># Check the status of the game</span>
<span class="linenos">236</span>            <span class="n">status</span> <span class="o">=</span> <span class="n">checkStatus</span><span class="p">()</span>
<span class="linenos">237</span>            
<span class="linenos">238</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">239</span>                <span class="c1"># Do a Computer Turn</span>
<span class="linenos">240</span>                <span class="n">ComputerTurn</span><span class="p">()</span>
<span class="linenos">241</span>                <span class="n">checkStatus</span><span class="p">()</span>
<span class="linenos">242</span>            
<span class="linenos">243</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">244</span>            
<span class="linenos">245</span>    
<span class="linenos">246</span>        <span class="n">matrix</span> <span class="o">=</span> <span class="p">[]</span>       
<span class="linenos">247</span>        
<span class="linenos">248</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<span class="linenos">249</span>            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">250</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
<span class="linenos">251</span>                <span class="n">t</span> <span class="o">=</span> <span class="n">Tile</span><span class="p">(</span><span class="n">canvas</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="linenos">252</span>                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">253</span>            <span class="n">matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="linenos">254</span>            
<span class="linenos">255</span>        <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">256</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">HumanTurn</span><span class="p">)</span>
<span class="linenos">257</span>
<span class="linenos">258</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RAISED</span><span class="p">,</span><span class="n">borderwidth</span><span class="o">=</span><span class="s2">&quot;5pt&quot;</span><span class="p">)</span>
<span class="linenos">259</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">260</span>        
<span class="linenos">261</span>        <span class="k">def</span> <span class="nf">NewGame</span><span class="p">():</span>
<span class="linenos">262</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;0</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">263</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">264</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>            
<span class="linenos">265</span>    
<span class="linenos">266</span>            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">:</span>
<span class="linenos">267</span>                <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
<span class="linenos">268</span>                    <span class="n">token</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">269</span>                    
<span class="linenos">270</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">271</span>                    
<span class="linenos">272</span>        <span class="n">kb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pass&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">ComputerTurn</span><span class="p">)</span>
<span class="linenos">273</span>        <span class="n">kb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>  
<span class="linenos">274</span>        
<span class="linenos">275</span>        <span class="n">ng</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;New Game&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">NewGame</span><span class="p">)</span>
<span class="linenos">276</span>        <span class="n">ng</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>  
<span class="linenos">277</span>        
<span class="linenos">278</span>        
<span class="linenos">279</span>        <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;clisp&quot;</span><span class="p">,</span><span class="s2">&quot;c4.fas&quot;</span><span class="p">],</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> \
<span class="linenos">280</span>            <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">281</span>        <span class="n">fromOther</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span>
<span class="linenos">282</span>        <span class="n">toOther</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdin</span>   
<span class="linenos">283</span>        
<span class="linenos">284</span>        <span class="c1"># To write to the other program you should use commands like this</span>
<span class="linenos">285</span>        <span class="c1"># toOther.write(val+&quot;\n&quot;)</span>
<span class="linenos">286</span>        <span class="c1"># Don&#39;t forget to flush the buffer</span>
<span class="linenos">287</span>        <span class="c1"># toOther.flush()        </span>
<span class="linenos">288</span>        
<span class="linenos">289</span>        <span class="c1"># To read from the other program you write</span>
<span class="linenos">290</span>        <span class="c1"># line = fromOther.readline().strip()        </span>
<span class="linenos">291</span>        
<span class="linenos">292</span>
<span class="linenos">293</span>
<span class="linenos">294</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">295</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="linenos">296</span>    <span class="n">animApp</span> <span class="o">=</span> <span class="n">Connect4Application</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">297</span>
<span class="linenos">298</span>    <span class="n">animApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">299</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">300</span>    
<span class="linenos">301</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">302</span>    <span class="n">main</span><span class="p">()</span>
<span class="linenos">303</span>    
<span class="linenos">304</span>    
</pre></div>
</div>
</section>
<section id="figures-from-text">
<h2><span class="section-number">12.4. </span>Figures from Text<a class="headerlink" href="#figures-from-text" title="Permalink to this heading">¶</a></h2>
<figure class="align-default" id="id3">
<img alt="../_images/mazedfsannotated.png" src="../_images/mazedfsannotated.png" />
<figcaption>
<p><span class="caption-text">Fig. 1: Depth First Search of a Maze</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<img alt="../_images/mazebfs.png" src="../_images/mazebfs.png" />
<figcaption>
<p><span class="caption-text">Fig. 2: Breadth First Search of a Maze</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="../_images/mazehill.png" src="../_images/mazehill.png" />
<figcaption>
<p><span class="caption-text">Fig. 3: Hill Climbing Search of a Maze</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="../_images/knighttour.png" src="../_images/knighttour.png" />
<figcaption>
<p><span class="caption-text">Fig. 4: A Closed 12 x 12 Knight’s Tour</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<img alt="../_images/nqueens.png" src="../_images/nqueens.png" />
<figcaption>
<p><span class="caption-text">Fig. 5: A 25-Queens Solution</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id8">
<img alt="../_images/mazebestfirst.png" src="../_images/mazebestfirst.png" />
<figcaption>
<p><span class="caption-text">Fig. 6: Best First Search of a Maze</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id9">
<img alt="../_images/mazeastar.png" src="../_images/mazeastar.png" />
<figcaption>
<p><span class="caption-text">Fig. 7: A-Star Search of a Maze</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<img alt="../_images/connect4.png" src="../_images/connect4.png" />
<figcaption>
<p><span class="caption-text">Fig. 8: The Connect Four Game</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chap1/chap1.html">1. Python Programming 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap2/chap2.html">2. Computational Complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap3/chap3.html">3. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap4/chap4.html">4. Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap5/chap5.html">5. Sets and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap6/chap6.html">6. Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap7/chap7.html">7. Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap11/chap11.html">8. Membership Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap8/chap8.html">9. Heaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap9/chap9.html">10. Balanced Binary Search Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap10/chap10.html">11. B-Trees</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">12. Heuristic Search</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#searching-mazes">12.1. Searching Mazes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#n-queens-problem">12.2. N-Queens Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-four">12.3. Connect Four</a></li>
<li class="toctree-l2"><a class="reference internal" href="#figures-from-text">12.4. Figures from Text</a></li>
</ul>
</li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../chap10/chap10.html" title="11. B-Trees"
              >previous</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/chap12/chap12.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Kent D. Lee and Steve Hubbard.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>