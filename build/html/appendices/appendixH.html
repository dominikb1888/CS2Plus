
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Appendix H: Complete Programs &#8212; Data Structures and Algorithms with Python</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/agogo.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/csbook.JPG" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Data Structures and Algorithms with Python</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="appendix-h-complete-programs">
<span id="appendixh"></span><h1>Appendix H: Complete Programs<a class="headerlink" href="#appendix-h-complete-programs" title="Permalink to this heading">¶</a></h1>
<section id="the-draw-program">
<span id="drawingprogram"></span><h2>The Draw Program<a class="headerlink" href="#the-draw-program" title="Permalink to this heading">¶</a></h2>
<p>Here is the complete Draw program implementation. This is the tkinter GUI version that reads and writes XML files.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># The imports include turtle graphics and tkinter modules.</span>
<span class="linenos">  2</span><span class="c1"># The colorchooser and filedialog modules let the user</span>
<span class="linenos">  3</span><span class="c1"># pick a color and a filename.</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">tkinter.colorchooser</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">tkinter.filedialog</span>
<span class="linenos">  8</span><span class="kn">import</span> <span class="nn">xml.dom.minidom</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="c1"># The following classes define the different commands that</span>
<span class="linenos"> 11</span><span class="c1"># are supported by the drawing application.</span>
<span class="linenos"> 12</span><span class="k">class</span> <span class="nc">GoToCommand</span><span class="p">:</span>
<span class="linenos"> 13</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 14</span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="linenos"> 15</span>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 16</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 17</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>    <span class="c1"># The draw method for each command draws the command</span>
<span class="linenos"> 20</span>    <span class="c1"># using the given turtle</span>
<span class="linenos"> 21</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 22</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 23</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 24</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span>    <span class="c1"># The __str__ method is a special method that is called</span>
<span class="linenos"> 27</span>    <span class="c1"># when a command is converted to a string. The string</span>
<span class="linenos"> 28</span>    <span class="c1"># version of the command is how it appears in the graphics</span>
<span class="linenos"> 29</span>    <span class="c1"># file format.</span>
<span class="linenos"> 30</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 31</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command x=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; y=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> \
<span class="linenos"> 32</span>               <span class="s1">&#39;&quot; width=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> \
<span class="linenos"> 33</span>               <span class="o">+</span> <span class="s1">&#39;&quot; color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;GoTo&lt;/Command&gt;&#39;</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="k">class</span> <span class="nc">CircleCommand</span><span class="p">:</span>
<span class="linenos"> 36</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radius</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 37</span>        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
<span class="linenos"> 38</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 39</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 42</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 43</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 44</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 47</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command radius=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; width=&quot;&#39;</span> <span class="o">+</span> \
<span class="linenos"> 48</span>               <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;Circle&lt;/Command&gt;&#39;</span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="k">class</span> <span class="nc">BeginFillCommand</span><span class="p">:</span>
<span class="linenos"> 51</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
<span class="linenos"> 52</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 55</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 56</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">begin_fill</span><span class="p">()</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 59</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;BeginFill&lt;/Command&gt;&#39;</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="k">class</span> <span class="nc">EndFillCommand</span><span class="p">:</span>
<span class="linenos"> 62</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 63</span>        <span class="k">pass</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 66</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">end_fill</span><span class="p">()</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 69</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;EndFill&lt;/Command&gt;&quot;</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="k">class</span> <span class="nc">PenUpCommand</span><span class="p">:</span>
<span class="linenos"> 72</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 73</span>        <span class="k">pass</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 76</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 79</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;PenUp&lt;/Command&gt;&quot;</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span><span class="k">class</span> <span class="nc">PenDownCommand</span><span class="p">:</span>
<span class="linenos"> 82</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 83</span>        <span class="k">pass</span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 86</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 89</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;PenDown&lt;/Command&gt;&quot;</span>
<span class="linenos"> 90</span>
<span class="linenos"> 91</span><span class="c1"># This is the container class for a graphics sequence. It is meant</span>
<span class="linenos"> 92</span><span class="c1"># to hold the graphics commands sequence.</span>
<span class="linenos"> 93</span><span class="k">class</span> <span class="nc">GraphicsSequence</span><span class="p">:</span>
<span class="linenos"> 94</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 95</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 96</span>
<span class="linenos"> 97</span>    <span class="c1"># The append method is used to add commands to the sequence.</span>
<span class="linenos"> 98</span>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">item</span><span class="p">):</span>
<span class="linenos"> 99</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
<span class="linenos">100</span>
<span class="linenos">101</span>    <span class="c1"># This method is used by the undo function. It slices the sequence</span>
<span class="linenos">102</span>    <span class="c1"># to remove the last item</span>
<span class="linenos">103</span>    <span class="k">def</span> <span class="nf">removeLast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">104</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos">105</span>
<span class="linenos">106</span>    <span class="c1"># This special method is called when iterating over the sequence.</span>
<span class="linenos">107</span>    <span class="c1"># Each time yield is called another element of the sequence is returned</span>
<span class="linenos">108</span>    <span class="c1"># to the iterator (i.e. the for loop that called this.)</span>
<span class="linenos">109</span>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">110</span>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">:</span>
<span class="linenos">111</span>            <span class="k">yield</span> <span class="n">c</span>
<span class="linenos">112</span>
<span class="linenos">113</span>    <span class="c1"># This is called when the len function is called on the sequence.</span>
<span class="linenos">114</span>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">115</span>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">)</span>
<span class="linenos">116</span>
<span class="linenos">117</span>    <span class="c1"># The write method writes an XML file to the given filename</span>
<span class="linenos">118</span>    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">filename</span><span class="p">):</span>
<span class="linenos">119</span>        <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="linenos">120</span>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">121</span>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;GraphicsCommands&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">122</span>        <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
<span class="linenos">123</span>            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">124</span>
<span class="linenos">125</span>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;/GraphicsCommands&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">126</span>
<span class="linenos">127</span>        <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="linenos">128</span>
<span class="linenos">129</span>    <span class="c1"># The parse method adds the contents of an XML file to this sequence</span>
<span class="linenos">130</span>    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">filename</span><span class="p">):</span>
<span class="linenos">131</span>        <span class="n">xmldoc</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">dom</span><span class="o">.</span><span class="n">minidom</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">132</span>
<span class="linenos">133</span>        <span class="n">graphicsCommandsElement</span> <span class="o">=</span> <span class="n">xmldoc</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;GraphicsCommands&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">134</span>
<span class="linenos">135</span>        <span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">graphicsCommandsElement</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;Command&quot;</span><span class="p">)</span>
<span class="linenos">136</span>
<span class="linenos">137</span>        <span class="k">for</span> <span class="n">commandElement</span> <span class="ow">in</span> <span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">138</span>            <span class="n">command</span> <span class="o">=</span> <span class="n">commandElement</span><span class="o">.</span><span class="n">firstChild</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">139</span>            <span class="n">attr</span> <span class="o">=</span> <span class="n">commandElement</span><span class="o">.</span><span class="n">attributes</span>
<span class="linenos">140</span>            <span class="k">if</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;GoTo&quot;</span><span class="p">:</span>
<span class="linenos">141</span>                <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">142</span>                <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">143</span>                <span class="n">width</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">144</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">145</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">146</span>
<span class="linenos">147</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;Circle&quot;</span><span class="p">:</span>
<span class="linenos">148</span>                <span class="n">radius</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;radius&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">149</span>                <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">150</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">151</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">152</span>
<span class="linenos">153</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;BeginFill&quot;</span><span class="p">:</span>
<span class="linenos">154</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">155</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">156</span>
<span class="linenos">157</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;EndFill&quot;</span><span class="p">:</span>
<span class="linenos">158</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">159</span>
<span class="linenos">160</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;PenUp&quot;</span><span class="p">:</span>
<span class="linenos">161</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">162</span>
<span class="linenos">163</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;PenDown&quot;</span><span class="p">:</span>
<span class="linenos">164</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">165</span>            <span class="k">else</span><span class="p">:</span>
<span class="linenos">166</span>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unknown Command: &quot;</span> <span class="o">+</span> <span class="n">command</span><span class="p">)</span>
<span class="linenos">167</span>
<span class="linenos">168</span>            <span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">169</span>
<span class="linenos">170</span><span class="c1"># This class defines the drawing application. The following line says that</span>
<span class="linenos">171</span><span class="c1"># the DrawingApplication class inherits from the Frame class. This means</span>
<span class="linenos">172</span><span class="k">class</span> <span class="nc">DrawingApplication</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos">173</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">174</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">175</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">176</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
<span class="linenos">177</span>        <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">GraphicsSequence</span><span class="p">()</span>
<span class="linenos">178</span>
<span class="linenos">179</span>    <span class="c1"># This method is called to create all the widgets, place them in the GUI,</span>
<span class="linenos">180</span>    <span class="c1"># and define the event handlers for the application.</span>
<span class="linenos">181</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">182</span>
<span class="linenos">183</span>        <span class="c1"># The master is the root window. The title is set as below.</span>
<span class="linenos">184</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Draw&quot;</span><span class="p">)</span>
<span class="linenos">185</span>
<span class="linenos">186</span>        <span class="c1"># Here is how to create a menu bar. The tearoff=0 means that menus</span>
<span class="linenos">187</span>        <span class="c1"># can&#39;t be separated from the window which is a feature of tkinter.</span>
<span class="linenos">188</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">189</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">190</span>
<span class="linenos">191</span>        <span class="c1"># This code is called by the &quot;New&quot; menu item below when it is selected.</span>
<span class="linenos">192</span>        <span class="c1"># The same applies for loadFile, addToFile, and saveFile below. The</span>
<span class="linenos">193</span>        <span class="c1"># &quot;Exit&quot; menu item below calls quit on the &quot;master&quot; or root window.</span>
<span class="linenos">194</span>        <span class="k">def</span> <span class="nf">newWindow</span><span class="p">():</span>
<span class="linenos">195</span>            <span class="c1"># This sets up the turtle to be ready for a new picture to be</span>
<span class="linenos">196</span>            <span class="c1"># drawn. It also sets the sequence back to empty. It is necessary</span>
<span class="linenos">197</span>            <span class="c1"># for the graphicsCommands sequence to be in the object (i.e.</span>
<span class="linenos">198</span>            <span class="c1"># self.graphicsCommands) because otherwise the statement:</span>
<span class="linenos">199</span>            <span class="c1"># graphicsCommands = GraphicsSequence()</span>
<span class="linenos">200</span>            <span class="c1"># would make this variable a local variable in the newWindow</span>
<span class="linenos">201</span>            <span class="c1"># method. If it were local, it would not be set anymore once the</span>
<span class="linenos">202</span>            <span class="c1"># newWindow method returned.</span>
<span class="linenos">203</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">204</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">205</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">206</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">207</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">208</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">209</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">GraphicsSequence</span><span class="p">()</span>
<span class="linenos">210</span>
<span class="linenos">211</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">newWindow</span><span class="p">)</span>
<span class="linenos">212</span>
<span class="linenos">213</span>        <span class="k">def</span> <span class="nf">loadFile</span><span class="p">():</span>
<span class="linenos">214</span>
<span class="linenos">215</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">216</span>
<span class="linenos">217</span>            <span class="n">newWindow</span><span class="p">()</span>
<span class="linenos">218</span>
<span class="linenos">219</span>            <span class="c1"># This re-initializes the sequence for the new picture.</span>
<span class="linenos">220</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">GraphicsSequence</span><span class="p">()</span>
<span class="linenos">221</span>
<span class="linenos">222</span>            <span class="c1"># calling parse will read the graphics commands from the file.</span>
<span class="linenos">223</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">224</span>
<span class="linenos">225</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">226</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">227</span>
<span class="linenos">228</span>            <span class="c1"># This line is necessary to update the window after the picture is drawn.</span>
<span class="linenos">229</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">230</span>
<span class="linenos">231</span>
<span class="linenos">232</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">loadFile</span><span class="p">)</span>
<span class="linenos">233</span>
<span class="linenos">234</span>        <span class="k">def</span> <span class="nf">addToFile</span><span class="p">():</span>
<span class="linenos">235</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">236</span>
<span class="linenos">237</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">238</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">239</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">240</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">241</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">242</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">243</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">244</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">245</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">246</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">247</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">248</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">249</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">250</span>
<span class="linenos">251</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">252</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">253</span>
<span class="linenos">254</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">255</span>
<span class="linenos">256</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load Into...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">addToFile</span><span class="p">)</span>
<span class="linenos">257</span>
<span class="linenos">258</span>        <span class="k">def</span> <span class="nf">saveFile</span><span class="p">():</span>
<span class="linenos">259</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Save Picture As...&quot;</span><span class="p">)</span>
<span class="linenos">260</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">261</span>
<span class="linenos">262</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save As...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">saveFile</span><span class="p">)</span>
<span class="linenos">263</span>
<span class="linenos">264</span>
<span class="linenos">265</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">266</span>
<span class="linenos">267</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">268</span>
<span class="linenos">269</span>        <span class="c1"># This tells the root window to display the newly created menu bar.</span>
<span class="linenos">270</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>
<span class="linenos">271</span>
<span class="linenos">272</span>        <span class="c1"># Here several widgets are created. The canvas is the drawing area on</span>
<span class="linenos">273</span>        <span class="c1"># the left side of the window.</span>
<span class="linenos">274</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">275</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">276</span>
<span class="linenos">277</span>        <span class="c1"># By creating a RawTurtle, we can have the turtle draw on this canvas.</span>
<span class="linenos">278</span>        <span class="c1"># Otherwise, a RawTurtle and a Turtle are exactly the same.</span>
<span class="linenos">279</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">280</span>
<span class="linenos">281</span>        <span class="c1"># This makes the shape of the turtle a circle.</span>
<span class="linenos">282</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="linenos">283</span>        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
<span class="linenos">284</span>
<span class="linenos">285</span>        <span class="c1"># This causes the application to not update the screen unless</span>
<span class="linenos">286</span>        <span class="c1"># screen.update() is called. This is necessary for the ondrag event</span>
<span class="linenos">287</span>        <span class="c1"># handler below. Without it, the program bombs after dragging the</span>
<span class="linenos">288</span>        <span class="c1"># turtle around for a while.</span>
<span class="linenos">289</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">290</span>
<span class="linenos">291</span>        <span class="c1"># This is the area on the right side of the window where all the</span>
<span class="linenos">292</span>        <span class="c1"># buttons, labels, and entry boxes are located. The pad creates some empty</span>
<span class="linenos">293</span>        <span class="c1"># space around the side. The side puts the sideBar on the right side of the</span>
<span class="linenos">294</span>        <span class="c1"># this frame. The fill tells it to fill in all space available on the right</span>
<span class="linenos">295</span>        <span class="c1"># side.</span>
<span class="linenos">296</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">297</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">298</span>
<span class="linenos">299</span>        <span class="c1"># This is a label widget. Packing it puts it at the top of the sidebar.</span>
<span class="linenos">300</span>        <span class="n">pointLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Width&quot;</span><span class="p">)</span>
<span class="linenos">301</span>        <span class="n">pointLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">302</span>
<span class="linenos">303</span>        <span class="c1"># This entry widget allows the user to pick a width for their lines.</span>
<span class="linenos">304</span>        <span class="c1"># With the widthSize variable below you can write widthSize.get() to get</span>
<span class="linenos">305</span>        <span class="c1"># the contents of the entry widget and widthSize.set(val) to set the value</span>
<span class="linenos">306</span>        <span class="c1"># of the entry widget to val. Initially the widthSize is set to 1. str(1) is</span>
<span class="linenos">307</span>        <span class="c1"># needed because the entry widget must be given a string.</span>
<span class="linenos">308</span>        <span class="n">widthSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">309</span>        <span class="n">widthEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">widthSize</span><span class="p">)</span>
<span class="linenos">310</span>        <span class="n">widthEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">311</span>        <span class="n">widthSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">312</span>
<span class="linenos">313</span>        <span class="n">radiusLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Radius&quot;</span><span class="p">)</span>
<span class="linenos">314</span>        <span class="n">radiusLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">315</span>        <span class="n">radiusSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">316</span>        <span class="n">radiusEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">radiusSize</span><span class="p">)</span>
<span class="linenos">317</span>        <span class="n">radiusSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="linenos">318</span>        <span class="n">radiusEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">319</span>
<span class="linenos">320</span>        <span class="c1"># A button widget calls an event handler when it is pressed. The circleHandler</span>
<span class="linenos">321</span>        <span class="c1"># function below is the event handler when the Draw Circle button is pressed.</span>
<span class="linenos">322</span>        <span class="k">def</span> <span class="nf">circleHandler</span><span class="p">():</span>
<span class="linenos">323</span>            <span class="c1"># When drawing, a command is created and then the command is drawn by calling</span>
<span class="linenos">324</span>            <span class="c1"># the draw method. Adding the command to the graphicsCommands sequence means the</span>
<span class="linenos">325</span>            <span class="c1"># application will remember the picture.</span>
<span class="linenos">326</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">radiusSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">327</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">328</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">329</span>
<span class="linenos">330</span>            <span class="c1"># These two lines are needed to update the screen and to put the focus back</span>
<span class="linenos">331</span>            <span class="c1"># in the drawing canvas. This is necessary because when pressing &quot;u&quot; to undo,</span>
<span class="linenos">332</span>            <span class="c1"># the screen must have focus to receive the key press.</span>
<span class="linenos">333</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">334</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">335</span>
<span class="linenos">336</span>        <span class="c1"># This creates the button widget in the sideBar. The fill=tkinter.BOTH causes the</span>
<span class="linenos">337</span>        <span class="c1"># button to expand to fill the entire width of the sideBar.</span>
<span class="linenos">338</span>        <span class="n">circleButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Draw Circle&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">circleHandler</span><span class="p">)</span>
<span class="linenos">339</span>        <span class="n">circleButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">340</span>
<span class="linenos">341</span>        <span class="c1"># The color mode 255 below allows colors to be specified in RGB form (i.e. Red/</span>
<span class="linenos">342</span>        <span class="c1"># Green/Blue). The mode allows the Red value to be set by a two digit hexadecimal</span>
<span class="linenos">343</span>        <span class="c1"># number ranging from 00-FF. The same applies for Blue and Green values. The</span>
<span class="linenos">344</span>        <span class="c1"># color choosers below return a string representing the selected color and a slice</span>
<span class="linenos">345</span>        <span class="c1"># is taken to extract the #RRGGBB hexadecimal string that the color choosers return.</span>
<span class="linenos">346</span>        <span class="n">screen</span><span class="o">.</span><span class="n">colormode</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="linenos">347</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Color&quot;</span><span class="p">)</span>
<span class="linenos">348</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">349</span>        <span class="n">penColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">350</span>        <span class="n">penEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">penColor</span><span class="p">)</span>
<span class="linenos">351</span>        <span class="n">penEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">352</span>        <span class="c1"># This is the color black.</span>
<span class="linenos">353</span>        <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">354</span>
<span class="linenos">355</span>        <span class="k">def</span> <span class="nf">getPenColor</span><span class="p">():</span>
<span class="linenos">356</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">357</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">358</span>                <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">359</span>
<span class="linenos">360</span>        <span class="n">penColorButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Pen Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getPenColor</span><span class="p">)</span>
<span class="linenos">361</span>        <span class="n">penColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">362</span>
<span class="linenos">363</span>        <span class="n">fillLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fill Color&quot;</span><span class="p">)</span>
<span class="linenos">364</span>        <span class="n">fillLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">365</span>        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">366</span>        <span class="n">fillEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">fillColor</span><span class="p">)</span>
<span class="linenos">367</span>        <span class="n">fillEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">368</span>        <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">369</span>
<span class="linenos">370</span>        <span class="k">def</span> <span class="nf">getFillColor</span><span class="p">():</span>
<span class="linenos">371</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">372</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">373</span>                <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">374</span>
<span class="linenos">375</span>        <span class="n">fillColorButton</span> <span class="o">=</span> \
<span class="linenos">376</span>            <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Fill Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getFillColor</span><span class="p">)</span>
<span class="linenos">377</span>        <span class="n">fillColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">378</span>
<span class="linenos">379</span>
<span class="linenos">380</span>        <span class="k">def</span> <span class="nf">beginFillHandler</span><span class="p">():</span>
<span class="linenos">381</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">fillColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">382</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">383</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">384</span>
<span class="linenos">385</span>        <span class="n">beginFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Begin Fill&quot;</span><span class="p">,</span> \
<span class="linenos">386</span>                          <span class="n">command</span><span class="o">=</span><span class="n">beginFillHandler</span><span class="p">)</span>
<span class="linenos">387</span>        <span class="n">beginFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">388</span>
<span class="linenos">389</span>        <span class="k">def</span> <span class="nf">endFillHandler</span><span class="p">():</span>
<span class="linenos">390</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">391</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">392</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">393</span>
<span class="linenos">394</span>        <span class="n">endFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;End Fill&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">endFillHandler</span><span class="p">)</span>
<span class="linenos">395</span>        <span class="n">endFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">396</span>
<span class="linenos">397</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">398</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">399</span>
<span class="linenos">400</span>        <span class="k">def</span> <span class="nf">penUpHandler</span><span class="p">():</span>
<span class="linenos">401</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">402</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">403</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Up&quot;</span><span class="p">)</span>
<span class="linenos">404</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">405</span>
<span class="linenos">406</span>        <span class="n">penUpButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Up&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penUpHandler</span><span class="p">)</span>
<span class="linenos">407</span>        <span class="n">penUpButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">408</span>
<span class="linenos">409</span>        <span class="k">def</span> <span class="nf">penDownHandler</span><span class="p">():</span>
<span class="linenos">410</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">411</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">412</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">413</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">414</span>
<span class="linenos">415</span>        <span class="n">penDownButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Down&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penDownHandler</span><span class="p">)</span>
<span class="linenos">416</span>        <span class="n">penDownButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">417</span>
<span class="linenos">418</span>        <span class="c1"># Here is another event handler. This one handles mouse clicks on the screen.</span>
<span class="linenos">419</span>        <span class="k">def</span> <span class="nf">clickHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">420</span>            <span class="c1"># When a mouse click occurs, get the widthSize entry value and set the width of the</span>
<span class="linenos">421</span>            <span class="c1"># pen to the widthSize value. The int(widthSize.get()) is needed because</span>
<span class="linenos">422</span>            <span class="c1"># the width is an integer, but the entry widget stores it as a string.</span>
<span class="linenos">423</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">424</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">425</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">426</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">427</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">428</span>
<span class="linenos">429</span>        <span class="c1"># Here is how we tie the clickHandler to mouse clicks.</span>
<span class="linenos">430</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">clickHandler</span><span class="p">)</span>
<span class="linenos">431</span>
<span class="linenos">432</span>        <span class="k">def</span> <span class="nf">dragHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">433</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">434</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">435</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">436</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">437</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">438</span>
<span class="linenos">439</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ondrag</span><span class="p">(</span><span class="n">dragHandler</span><span class="p">)</span>
<span class="linenos">440</span>
<span class="linenos">441</span>        <span class="c1"># the undoHandler undoes the last command by removing it from the</span>
<span class="linenos">442</span>        <span class="c1"># sequence and then redrawing the entire picture.</span>
<span class="linenos">443</span>        <span class="k">def</span> <span class="nf">undoHandler</span><span class="p">():</span>
<span class="linenos">444</span>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">445</span>                <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">removeLast</span><span class="p">()</span>
<span class="linenos">446</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">447</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">448</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">449</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">450</span>                <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">451</span>                    <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">452</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">453</span>                <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">454</span>
<span class="linenos">455</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">undoHandler</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
<span class="linenos">456</span>        <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">457</span>
<span class="linenos">458</span><span class="c1"># The main function in our GUI program is very simple. It creates the</span>
<span class="linenos">459</span><span class="c1"># root window. Then it creates the DrawingApplication frame which creates</span>
<span class="linenos">460</span><span class="c1"># all the widgets and has the logic for the event handlers. Calling mainloop</span>
<span class="linenos">461</span><span class="c1"># on the frames makes it start listening for events. The mainloop function will</span>
<span class="linenos">462</span><span class="c1"># return when the application is exited.</span>
<span class="linenos">463</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">464</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="linenos">465</span>    <span class="n">drawingApp</span> <span class="o">=</span> <span class="n">DrawingApplication</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">466</span>
<span class="linenos">467</span>    <span class="n">drawingApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">468</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">469</span>
<span class="linenos">470</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">471</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-scope-program">
<span id="scope-prog"></span><h2>The Scope Program<a class="headerlink" href="#the-scope-program" title="Permalink to this heading">¶</a></h2>
<p>Here is the complete code for the scope.py program that appeared in chapter 3.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="n">PI</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span>

<span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="n">radius</span><span class="p">):</span>
    <span class="n">theArea</span> <span class="o">=</span> <span class="n">PI</span> <span class="o">*</span> <span class="n">radius</span> <span class="o">**</span> <span class="mi">2</span>

    <span class="k">return</span> <span class="n">theArea</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="n">historyOfPrompts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">historyOfOutput</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">getInput</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
        <span class="n">historyOfPrompts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">showOutput</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="n">historyOfOutput</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="n">rString</span> <span class="o">=</span> <span class="n">getInput</span><span class="p">(</span><span class="s2">&quot;Please enter the radius of a circle: &quot;</span><span class="p">)</span>

    <span class="n">r</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">rString</span><span class="p">)</span>

    <span class="n">val</span> <span class="o">=</span> <span class="n">area</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

    <span class="n">showOutput</span><span class="p">(</span><span class="s2">&quot;The area of the circle is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-sort-animation">
<span id="sortanim"></span><h2>The Sort Animation<a class="headerlink" href="#the-sort-animation" title="Permalink to this heading">¶</a></h2>
<p>Here is the sort animation program described in chapter 4.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">import</span> <span class="nn">turtle</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;dot&quot;</span><span class="p">,((</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;dot&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;(&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xcor</span><span class="p">())</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span><span class="o">+</span><span class="s2">&quot;)&quot;</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ycor</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">ycor</span><span class="p">()</span>

<span class="c1"># This class defines the animation application. The following line says that</span>
<span class="c1"># the SortAnimation class inherits from the Frame class.</span>
<span class="k">class</span> <span class="nc">SortAnimation</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paused</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>


    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">):</span>
            <span class="n">pivotIndex</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">pivot</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">pivotIndex</span><span class="p">]</span>

            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">stop</span><span class="p">,</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="c1"># Why twice? Because once doesn&#39;t seem to display</span>
            <span class="c1"># the line the first time through for some reason</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">stop</span><span class="p">,</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">stop</span><span class="o">-</span><span class="mi">1</span>

            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span><span class="p">:</span>
                <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pivot</span> <span class="o">&lt;</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
                <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="ow">and</span> <span class="n">pivot</span> <span class="o">&lt;</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">j</span><span class="o">-=</span><span class="mi">1</span>

                <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span><span class="p">:</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                    <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
                    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
                    <span class="n">j</span><span class="o">-=</span><span class="mi">1</span>

            <span class="n">seq</span><span class="p">[</span><span class="n">pivotIndex</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">seq</span><span class="p">[</span><span class="n">pivotIndex</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">pivotIndex</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">pivotIndex</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">pivot</span>
            <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span><span class="n">pivot</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">j</span>


        <span class="k">def</span> <span class="nf">quicksortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;=</span> <span class="n">stop</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">pivotIndex</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">quicksortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">pivotIndex</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">quicksortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">pivotIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">quicksort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
            <span class="n">quicksortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">stop</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="n">stop</span> <span class="o">-</span> <span class="n">start</span>
            <span class="n">log</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">mid</span>

            <span class="c1"># Merge the two lists while each has more elements</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">mid</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                    <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
                <span class="c1">#screen.update()</span>

            <span class="c1"># Copy in the rest of the start to mid sequence</span>
            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">mid</span><span class="p">:</span>
                <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
                <span class="c1">#screen.update()</span>

                    <span class="c1"># Many merge sort implementations copy the rest</span>
                <span class="c1"># of the sequence from j to stop at this point.</span>
                <span class="c1"># This is not necessary since in the next part</span>
                <span class="c1"># of the code the same part of the sequence would</span>
                <span class="c1"># be copied right back to the same place. In the</span>
                <span class="c1"># animation this results in a dot remaining black</span>
                <span class="c1"># at some points until it is caught up in a later</span>
                <span class="c1"># merge operation.</span>
                <span class="c1"># while j &lt; stop:</span>
                <span class="c1">#    lst.append(seq[j])</span>
                <span class="c1">#    seq[j].goto(j,seq[j].ycor())</span>
                <span class="c1">#    j+=1</span>

            <span class="c1"># Copy the elements back to the original sequence</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)):</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">start</span><span class="o">+</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="o">+</span><span class="n">i</span><span class="p">,</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">mergeSortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;=</span> <span class="n">stop</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">stop</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">length</span> <span class="o">=</span> <span class="n">stop</span><span class="o">-</span><span class="n">start</span>
            <span class="n">log</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="c1"># Why twice? Because once doesn&#39;t seem to display</span>
            <span class="c1"># the line the first time through for some reason</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">mergeSortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">mergeSortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

            <span class="n">merge</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">log</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">mergeSort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
            <span class="n">mergeSortRecursively</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
            <span class="n">minIndex</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                    <span class="n">minIndex</span> <span class="o">=</span> <span class="n">i</span>
                    <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="n">minIndex</span>

        <span class="k">def</span> <span class="nf">selectionSort</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)):</span>
                <span class="n">minIndex</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">minIndex</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">minIndex</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">pause</span><span class="p">():</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">paused</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
                <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">stopping</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paused</span><span class="p">:</span>
                <span class="n">pause</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pause</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
                <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Sort Animations&quot;</span><span class="p">)</span>

        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">clear</span><span class="p">():</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">newWindow</span><span class="p">():</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Clear&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">newWindow</span><span class="p">)</span>
        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>

        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>

        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
        <span class="n">theTurtle</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="n">speedLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Animation Speed&quot;</span><span class="p">)</span>
        <span class="n">speedLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
        <span class="n">speed</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="n">speedEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">speed</span><span class="p">)</span>
        <span class="n">speedEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
        <span class="n">speed</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;10&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">selSortHandler</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Selection Sort Animation&quot;</span><span class="p">)</span>
            <span class="n">seq</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
                <span class="n">p</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">j</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">199</span><span class="p">)</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

            <span class="n">selectionSort</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">button</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Selection Sort&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">selSortHandler</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">mergeSortHandler</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Merge Sort Animation&quot;</span><span class="p">)</span>
            <span class="n">seq</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
                <span class="n">p</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">j</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">199</span><span class="p">)</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">mergeSort</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="n">button</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Merge Sort&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">mergeSortHandler</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">quickSortHandler</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">clear</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
            <span class="n">theTurtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Quicksort Animation&quot;</span><span class="p">)</span>
            <span class="n">seq</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
                <span class="n">p</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stopping</span><span class="p">():</span>
                    <span class="k">return</span>

                <span class="n">j</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">199</span><span class="p">)</span>

                <span class="n">p</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">ycor</span><span class="p">())</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                <span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">quicksort</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">False</span>


        <span class="n">button</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Quicksort&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">quickSortHandler</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">pauseHandler</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paused</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paused</span>

        <span class="n">button</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pause&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">pauseHandler</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">stopHandler</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paused</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">button</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Stop&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">stopHandler</span><span class="p">)</span>
        <span class="n">button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

<span class="c1"># The main function in our GUI program is very simple. It creates the</span>
<span class="c1"># root window. Then it creates the SortAnimation frame which creates</span>
<span class="c1"># all the widgets and has the logic for the event handlers. Calling mainloop</span>
<span class="c1"># on the frames makes it start listening for events. The mainloop function will</span>
<span class="c1"># return when the application is exited.</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
    <span class="n">anim</span> <span class="o">=</span> <span class="n">SortAnimation</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

    <span class="n">anim</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-tic-tac-toe-application">
<span id="tictactoe"></span><h2>The Tic Tac Toe Application<a class="headerlink" href="#the-tic-tac-toe-application" title="Permalink to this heading">¶</a></h2>
<p>This is the starting code for an exercise in creating a Tic Tac Toe application.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">turtle</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">tkinter.messagebox</span>
<span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">screenMin</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">screenMax</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">Human</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">Computer</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">Board</span><span class="p">:</span>
    <span class="c1"># When a board is constructed, you may want to make a copy of the board.</span>
    <span class="c1"># This can be a shallow copy of the board because Turtle objects are</span>
    <span class="c1"># Immutable from the perspective of a board object.</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">board</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">screen</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">screen</span>
        <span class="k">if</span> <span class="n">screen</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">board</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">screen</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">rowlst</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">board</span><span class="o">==</span><span class="kc">None</span><span class="p">:</span>
                    <span class="n">rowlst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Dummy</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rowlst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rowlst</span><span class="p">)</span>

    <span class="c1"># Accessor method for the screen</span>
    <span class="k">def</span> <span class="nf">getscreen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen</span>

    <span class="c1"># The getitem method is used to index into the board. It should</span>
    <span class="c1"># return a row of the board. That row itself is indexable (it is just</span>
    <span class="c1"># a list) so accessing a row and column in the board can be written</span>
    <span class="c1"># board[row][column] because of this method.</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

    <span class="c1"># This method should return true if the two boards, self and other,</span>
    <span class="c1"># represent exactly the same state.</span>
    <span class="c1"># READER EXERCISE: YOU MUST COMPLETE THIS FUNCTION</span>
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="c1"># This method will mutate this board to contain all dummy</span>
    <span class="c1"># turtles. This way the board can be reset when a new game</span>
    <span class="c1"># is selected. It should NOT be used except when starting</span>
    <span class="c1"># a new game.</span>
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">Dummy</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># This method should return an integer representing the</span>
    <span class="c1"># state of the board. If the computer has won, return 1.</span>
    <span class="c1"># If the human has won, return -1. Otherwise, return 0.</span>
    <span class="c1"># READER EXERCISE: YOU MUST COMPLETE THIS FUNCTION</span>
    <span class="k">def</span> <span class="nf">eval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="c1"># This method should return True if the board</span>
    <span class="c1"># is completely filled up (no dummy turtles).</span>
    <span class="c1"># Otherwise, it should return False.</span>
    <span class="c1"># READER EXERCISE: YOU MUST COMPLETE THIS FUNCTION</span>
    <span class="k">def</span> <span class="nf">full</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="c1"># This method should draw the X&#39;s and O&#39;s</span>
    <span class="c1"># Of this board on the screen.</span>
    <span class="k">def</span> <span class="nf">drawXOs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">st</span><span class="p">()</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

<span class="c1"># This class is just for placeholder objects when no move has been made</span>
<span class="c1"># yet at a position in the board. Having eval() return 0 is convenient when no</span>
<span class="c1"># move has been made.</span>
<span class="k">class</span> <span class="nc">Dummy</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">eval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">goto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="c1"># In the X and O classes below the constructor begins by initializing the</span>
<span class="c1"># RawTurtle part of the object with the call to super().__init__(canvas). The</span>
<span class="c1"># super() call returns the class of the superclass (the class above the X or O</span>
<span class="c1"># in the class hierarchy). In this case, the superclass is RawTurtle. Then,</span>
<span class="c1"># calling __init__ on the superclass initializes the part of the object that is</span>
<span class="c1"># a RawTurtle.</span>
<span class="k">class</span> <span class="nc">X</span><span class="p">(</span><span class="n">RawTurtle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">,((</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">36</span><span class="p">),(</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">44</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">44</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">36</span><span class="p">),</span> \
                             <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="mi">36</span><span class="p">),(</span><span class="mi">40</span><span class="p">,</span><span class="mi">44</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="mi">44</span><span class="p">),(</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="mi">36</span><span class="p">),(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">36</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">eval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Computer</span>

<span class="k">class</span> <span class="nc">O</span><span class="p">(</span><span class="n">RawTurtle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">eval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Human</span>

<span class="c1"># The minimax function is given a player (1 = Computer, -1 = Human) and a</span>
<span class="c1"># board object. When the player = Computer, minimax returns the maximum</span>
<span class="c1"># value of all possible moves that the Computer could make. When the player =</span>
<span class="c1"># Human then minimax returns the minimum value of all possible moves the Human</span>
<span class="c1"># could make. Minimax works by assuming that at each move the Computer will pick</span>
<span class="c1"># its best move and the Human will pick its best move. It does this by making a</span>
<span class="c1"># move for the player whose turn it is, and then recursively calling minimax.</span>
<span class="c1"># The base case results when, given the state of the board, someone has won or</span>
<span class="c1"># the board is full.</span>
<span class="c1"># READER EXERCISE: YOU MUST COMPLETE THIS FUNCTION</span>
<span class="k">def</span> <span class="nf">minimax</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="n">board</span><span class="p">):</span>
    <span class="k">pass</span>



<span class="k">class</span> <span class="nc">TicTacToe</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paused</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turn</span> <span class="o">=</span> <span class="n">Human</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="n">cv</span> <span class="o">=</span> <span class="n">ScrolledCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">600</span><span class="p">)</span>
        <span class="n">cv</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">RawTurtle</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
        <span class="n">screen</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>

        <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="n">screenMin</span><span class="p">,</span><span class="n">screenMin</span><span class="p">,</span><span class="n">screenMax</span><span class="p">,</span><span class="n">screenMax</span><span class="p">)</span>
        <span class="n">screen</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>

        <span class="n">frame</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="n">board</span> <span class="o">=</span> <span class="n">Board</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">screen</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">drawGrid</span><span class="p">():</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="n">screenMin</span><span class="p">,</span><span class="n">screenMin</span><span class="p">,</span><span class="n">screenMax</span><span class="p">,</span><span class="n">screenMax</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">RawTurtle</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
            <span class="n">t</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
            <span class="n">t</span><span class="o">.</span><span class="n">pu</span><span class="p">()</span>
            <span class="n">t</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">t</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
                <span class="n">t</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                <span class="n">t</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">290</span><span class="p">)</span>
                <span class="n">t</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">)</span>
                <span class="n">t</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
                <span class="n">t</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">290</span><span class="p">,</span><span class="n">i</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">)</span>

            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>


        <span class="k">def</span> <span class="nf">newGame</span><span class="p">():</span>
            <span class="c1">#drawGrid()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">turn</span> <span class="o">=</span> <span class="n">Human</span>
            <span class="n">board</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span><span class="kc">False</span>
            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>


        <span class="k">def</span> <span class="nf">startHandler</span><span class="p">():</span>
            <span class="n">newGame</span><span class="p">()</span>

        <span class="n">drawGrid</span><span class="p">()</span>

        <span class="n">startButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;New Game&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">startHandler</span><span class="p">)</span>
        <span class="n">startButton</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">quitHandler</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

        <span class="n">quitButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Quit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">quitHandler</span><span class="p">)</span>
        <span class="n">quitButton</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">computerTurn</span><span class="p">():</span>
            <span class="c1"># The locked variable prevents another event from being</span>
            <span class="c1"># processed while the computer is making up its mind.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="c1"># Call Minimax to find the best move to make.</span>
            <span class="c1"># READER EXERCISE: YOU MUST COMPLETE THIS CODE</span>
            <span class="c1"># After writing this code, the maxMove tuple should</span>
            <span class="c1"># contain the best move for the computer. For instance,</span>
            <span class="c1"># if the best move is in the first row and third column</span>
            <span class="c1"># then maxMove would be (0,2).</span>

            <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">maxMove</span>
            <span class="n">board</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">False</span>


        <span class="k">def</span> <span class="nf">mouseClick</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">locked</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span>
                <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span>

                <span class="n">board</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">cv</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">turn</span> <span class="o">=</span> <span class="n">Computer</span>

                <span class="n">board</span><span class="o">.</span><span class="n">drawXOs</span><span class="p">()</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">board</span><span class="o">.</span><span class="n">full</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">abs</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">eval</span><span class="p">())</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">computerTurn</span><span class="p">()</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">turn</span> <span class="o">=</span> <span class="n">Human</span>

                    <span class="n">board</span><span class="o">.</span><span class="n">drawXOs</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">locked</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">if</span> <span class="n">board</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span><span class="s2">&quot;X wins!!!&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">board</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span><span class="s2">&quot;O wins. How did that happen?&quot;</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">board</span><span class="o">.</span><span class="n">full</span><span class="p">():</span>
                    <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showwarning</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span><span class="s2">&quot;It was a tie.&quot;</span><span class="p">)</span>

        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">mouseClick</span><span class="p">)</span>

        <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Tic Tac Toe&quot;</span><span class="p">)</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">TicTacToe</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">application</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-connect-four-front-end">
<span id="c4"></span><h2>The Connect Four Front-End<a class="headerlink" href="#the-connect-four-front-end" title="Permalink to this heading">¶</a></h2>
<p>This is the starting code for an exercise in creating a connect four application. This code provides a front-end to another program that must conform to the architecture discussed at the top of this code. Pictures for the red and black checkers can be found on the text’s website. The pictures must be placed in the same directory as this application.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  2</span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="linenos">  3</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">time</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># The following program will play connect four. This</span>
<span class="linenos">  8</span><span class="c1"># program and a another program communicate through pipes (both input and output)</span>
<span class="linenos">  9</span><span class="c1"># according to this architecture. When a command is sent it is indicated</span>
<span class="linenos"> 10</span><span class="c1"># with a right arrow indicating something is written to the other program&#39;s</span>
<span class="linenos"> 11</span><span class="c1"># standard input. When the other program sends something to this Python Program</span>
<span class="linenos"> 12</span><span class="c1"># it is indicated with a left arrow. That means it is written to the standard</span>
<span class="linenos"> 13</span><span class="c1"># output of the other program.</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="c1"># Python        Other</span>
<span class="linenos"> 16</span><span class="c1">#   0 -----------&gt;     # New Game is initiated by the Other Code</span>
<span class="linenos"> 17</span><span class="c1">#   &lt;----------- 0     # Other Code says OK.</span>
<span class="linenos"> 18</span><span class="c1">#   2 M ---------&gt;     # Human Move followed by Move Value M which is 0-6.</span>
<span class="linenos"> 19</span><span class="c1">#                      # Move Value M will be on separate line.</span>
<span class="linenos"> 20</span><span class="c1">#   &lt;----------- 0     # Other Code says OK.</span>
<span class="linenos"> 21</span><span class="c1">#   1 -----------&gt;     # Computer Move is indicated to Other Code</span>
<span class="linenos"> 22</span><span class="c1">#   &lt;--------- 0 M     # Status OK and Move Value M which is 0-6.</span>
<span class="linenos"> 23</span><span class="c1">#   3 -----------&gt;     # Game Over?</span>
<span class="linenos"> 24</span><span class="c1">#   &lt;--------- Val     # Val is 0=Not Over, 1=Computer Won, 2=Human Won, 3=Tie.</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="c1"># This architecture must be adhered to strictly for this program to work. Here</span>
<span class="linenos"> 27</span><span class="c1"># is sample Lisp code that will handle this interaction. However, the other</span>
<span class="linenos"> 28</span><span class="c1"># program may be written in any programming language, including Python.</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="c1">#(defun play ()</span>
<span class="linenos"> 31</span>  <span class="c1">#(let ((gameBoard (make-hash-table :size 10))</span>
<span class="linenos"> 32</span>        <span class="c1">#(memo (make-hash-table :size 27 :test #&#39;equalp))</span>
<span class="linenos"> 33</span>        <span class="c1">#(lastMove nil))</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span>    <span class="c1">#(do () (nil nil)</span>
<span class="linenos"> 36</span>        <span class="c1">#;(printBoard gameBoard)</span>
<span class="linenos"> 37</span>        <span class="c1">#(let ((msgId (read)))</span>
<span class="linenos"> 38</span>          <span class="c1">#(cond ((equal msgId 2) ;; Human turn to call human turn function</span>
<span class="linenos"> 39</span>                 <span class="c1">#(setf lastMove (humanTurn gameBoard)))</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span>                <span class="c1">#((equal msgId 0) ;; New Game message</span>
<span class="linenos"> 42</span>                 <span class="c1">#(progn</span>
<span class="linenos"> 43</span>                   <span class="c1">#(setf gameBoard (make-hash-table :size 10))</span>
<span class="linenos"> 44</span>                   <span class="c1">#(setf memo (make-hash-table :size 27 :test #&#39;equalp))</span>
<span class="linenos"> 45</span>                   <span class="c1">#(format t &quot;0~%&quot;)))</span>
<span class="linenos"> 46</span>                   <span class="c1">#;; Return a 0 to indicate the computer is ready</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span>                <span class="c1">#((equal msgId 1) ;; Computer Turn message</span>
<span class="linenos"> 49</span>                 <span class="c1">#(setf lastMove (computerTurn gameBoard)))</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span>                <span class="c1">#((equal msgId 3) ;; Get Game Status</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span>                 <span class="c1">#(cond ((equal (evalBoard gameBoard lastMove) 1) (format t &quot;1~%&quot;))</span>
<span class="linenos"> 54</span>                       <span class="c1">#;; The Computer Won</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span>                       <span class="c1">#((equal (evalBoard gameBoard lastMove) -1) (format t &quot;2~%&quot;))</span>
<span class="linenos"> 57</span>                       <span class="c1">#;; The Human Won</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span>                       <span class="c1">#((fullBoard gameBoard) (format t &quot;3~%&quot;))</span>
<span class="linenos"> 60</span>                       <span class="c1">#;; It&#39;s a draw</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span>                       <span class="c1">#(t (format t &quot;0~%&quot;))))</span>
<span class="linenos"> 63</span>                       <span class="c1">#;; The game is not over yet.</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span>                <span class="c1">#(t (format t &quot;-1~%&quot;)))))))</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="n">Computer</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 68</span><span class="n">Human</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos"> 69</span>
<span class="linenos"> 70</span><span class="k">class</span> <span class="nc">Tile</span><span class="p">(</span><span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">):</span>
<span class="linenos"> 71</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">canvas</span><span class="p">,</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">,</span><span class="n">app</span><span class="p">):</span>
<span class="linenos"> 72</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos"> 73</span>        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 74</span>        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">row</span>
<span class="linenos"> 75</span>        <span class="bp">self</span><span class="o">.</span><span class="n">col</span> <span class="o">=</span> <span class="n">col</span>
<span class="linenos"> 76</span>        <span class="bp">self</span><span class="o">.</span><span class="n">tttApplication</span> <span class="o">=</span> <span class="n">app</span>
<span class="linenos"> 77</span>        <span class="bp">self</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos"> 78</span>        <span class="bp">self</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos"> 79</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span>    <span class="k">def</span> <span class="nf">setShape</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">horc</span><span class="p">,</span><span class="n">screen</span><span class="p">):</span>
<span class="linenos"> 82</span>        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">horc</span>
<span class="linenos"> 83</span>
<span class="linenos"> 84</span>        <span class="k">if</span> <span class="n">horc</span> <span class="o">==</span> <span class="n">Computer</span><span class="p">:</span>
<span class="linenos"> 85</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;blackchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos"> 86</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 87</span>            <span class="bp">self</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;redchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos"> 88</span>
<span class="linenos"> 89</span>        <span class="bp">self</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
<span class="linenos"> 90</span>
<span class="linenos"> 91</span>    <span class="k">def</span> <span class="nf">getOwner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 92</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">val</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span>    <span class="k">def</span> <span class="nf">clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 95</span>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">)</span>
<span class="linenos"> 96</span>
<span class="linenos"> 97</span>    <span class="k">def</span> <span class="nf">drop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">screen</span><span class="p">):</span>
<span class="linenos"> 98</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 99</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">100</span>        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">101</span>        <span class="bp">self</span><span class="o">.</span><span class="n">st</span><span class="p">()</span>
<span class="linenos">102</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">55</span><span class="p">)</span>
<span class="linenos">103</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">45</span><span class="p">)</span>
<span class="linenos">104</span>        <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos">105</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="k">class</span> <span class="nc">Connect4Application</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos">108</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">109</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">110</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">111</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>
<span class="linenos">112</span>        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">113</span>
<span class="linenos">114</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">115</span>
<span class="linenos">116</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Connect Four&quot;</span><span class="p">)</span>
<span class="linenos">117</span>
<span class="linenos">118</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">119</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">120</span>
<span class="linenos">121</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">122</span>
<span class="linenos">123</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">124</span>
<span class="linenos">125</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>
<span class="linenos">126</span>
<span class="linenos">127</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">128</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">129</span>
<span class="linenos">130</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">131</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">132</span>        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
<span class="linenos">133</span>        <span class="n">screen</span><span class="o">.</span><span class="n">setworldcoordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">700</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">134</span>        <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;blackchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos">135</span>        <span class="n">screen</span><span class="o">.</span><span class="n">register_shape</span><span class="p">(</span><span class="s2">&quot;redchecker.gif&quot;</span><span class="p">)</span>
<span class="linenos">136</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">137</span>        <span class="n">screen</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">(</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span>
<span class="linenos">138</span>
<span class="linenos">139</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">140</span>        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<span class="linenos">141</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">142</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">143</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">144</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">145</span>
<span class="linenos">146</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">147</span>
<span class="linenos">148</span>        <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">149</span>
<span class="linenos">150</span>        <span class="k">def</span> <span class="nf">checkStatus</span><span class="p">():</span>
<span class="linenos">151</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;3</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">152</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">153</span>
<span class="linenos">154</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">155</span>
<span class="linenos">156</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="linenos">157</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;I Won!!!!!&quot;</span><span class="p">)</span>
<span class="linenos">158</span>            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="linenos">159</span>                <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;You Won!!!!!&quot;</span><span class="p">)</span>
<span class="linenos">160</span>            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="linenos">161</span>                 <span class="n">tkinter</span><span class="o">.</span><span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Game Over&quot;</span><span class="p">,</span> <span class="s2">&quot;It&#39;s a tie.&quot;</span><span class="p">)</span>
<span class="linenos">162</span>
<span class="linenos">163</span>            <span class="c1">#print(&quot;Status is &quot;, status)</span>
<span class="linenos">164</span>            <span class="k">return</span> <span class="n">status</span>
<span class="linenos">165</span>
<span class="linenos">166</span>        <span class="k">def</span> <span class="nf">ComputerTurn</span><span class="p">():</span>
<span class="linenos">167</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;1</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">168</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">169</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">170</span>            <span class="c1">#print(&quot;Computer Turn Other Status = &quot;, status)</span>
<span class="linenos">171</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">172</span>                <span class="n">move</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">173</span>                <span class="c1">#print(&quot;Move is&quot;, move)</span>
<span class="linenos">174</span>                <span class="n">row</span> <span class="o">=</span> <span class="n">move</span> <span class="o">//</span> <span class="mi">7</span>
<span class="linenos">175</span>                <span class="n">col</span> <span class="o">=</span> <span class="n">move</span> <span class="o">%</span> <span class="mi">7</span>
<span class="linenos">176</span>
<span class="linenos">177</span>                <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">setShape</span><span class="p">(</span><span class="n">Computer</span><span class="p">,</span><span class="n">screen</span><span class="p">)</span>
<span class="linenos">178</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">179</span>
<span class="linenos">180</span>        <span class="k">def</span> <span class="nf">HumanTurn</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">181</span>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
<span class="linenos">182</span>                <span class="k">return</span>
<span class="linenos">183</span>
<span class="linenos">184</span>            <span class="c1">#status = checkStatus()</span>
<span class="linenos">185</span>
<span class="linenos">186</span>            <span class="c1">#if status != 0:</span>
<span class="linenos">187</span>                <span class="c1">#return</span>
<span class="linenos">188</span>
<span class="linenos">189</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">190</span>            <span class="n">col</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">//</span> <span class="mi">100</span>
<span class="linenos">191</span>
<span class="linenos">192</span>            <span class="n">row</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos">193</span>            <span class="k">while</span> <span class="n">row</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">isvisible</span><span class="p">():</span>
<span class="linenos">194</span>                <span class="n">row</span> <span class="o">=</span> <span class="n">row</span> <span class="o">-</span> <span class="mi">1</span>
<span class="linenos">195</span>
<span class="linenos">196</span>            <span class="k">if</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">197</span>                <span class="c1">#Then we clicked in a column that was already full.</span>
<span class="linenos">198</span>                <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">199</span>                <span class="k">return</span>
<span class="linenos">200</span>
<span class="linenos">201</span>            <span class="n">val</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="mi">7</span> <span class="o">+</span> <span class="n">col</span>
<span class="linenos">202</span>
<span class="linenos">203</span>            <span class="c1"># Do the Human Turn</span>
<span class="linenos">204</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;2</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">205</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">206</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">207</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">208</span>
<span class="linenos">209</span>            <span class="n">status</span> <span class="o">=</span> <span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">210</span>            <span class="c1">#print(&quot;Status is &quot;,status)</span>
<span class="linenos">211</span>
<span class="linenos">212</span>            <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">setShape</span><span class="p">(</span><span class="n">Human</span><span class="p">,</span><span class="n">screen</span><span class="p">)</span>
<span class="linenos">213</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">214</span>
<span class="linenos">215</span>            <span class="c1"># Check the status of the game</span>
<span class="linenos">216</span>            <span class="n">status</span> <span class="o">=</span> <span class="n">checkStatus</span><span class="p">()</span>
<span class="linenos">217</span>
<span class="linenos">218</span>            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">219</span>                <span class="c1"># Do a Computer Turn</span>
<span class="linenos">220</span>                <span class="n">ComputerTurn</span><span class="p">()</span>
<span class="linenos">221</span>                <span class="n">checkStatus</span><span class="p">()</span>
<span class="linenos">222</span>
<span class="linenos">223</span>            <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">224</span>
<span class="linenos">225</span>
<span class="linenos">226</span>        <span class="n">matrix</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">227</span>
<span class="linenos">228</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
<span class="linenos">229</span>            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos">230</span>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
<span class="linenos">231</span>                <span class="n">t</span> <span class="o">=</span> <span class="n">Tile</span><span class="p">(</span><span class="n">canvas</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="linenos">232</span>                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">233</span>            <span class="n">matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="linenos">234</span>
<span class="linenos">235</span>        <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">236</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">HumanTurn</span><span class="p">)</span>
<span class="linenos">237</span>
<span class="linenos">238</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">relief</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RAISED</span><span class="p">,</span><span class="n">borderwidth</span><span class="o">=</span><span class="s2">&quot;5pt&quot;</span><span class="p">)</span>
<span class="linenos">239</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">240</span>
<span class="linenos">241</span>        <span class="k">def</span> <span class="nf">NewGame</span><span class="p">():</span>
<span class="linenos">242</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;0</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">243</span>            <span class="n">toOther</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
<span class="linenos">244</span>            <span class="n">status</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fromOther</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="linenos">245</span>
<span class="linenos">246</span>            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">:</span>
<span class="linenos">247</span>                <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
<span class="linenos">248</span>                    <span class="n">token</span><span class="o">.</span><span class="n">ht</span><span class="p">()</span>
<span class="linenos">249</span>
<span class="linenos">250</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">251</span>
<span class="linenos">252</span>        <span class="n">kb</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pass&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">ComputerTurn</span><span class="p">)</span>
<span class="linenos">253</span>        <span class="n">kb</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">254</span>
<span class="linenos">255</span>        <span class="n">ng</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;New Game&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">NewGame</span><span class="p">)</span>
<span class="linenos">256</span>        <span class="n">ng</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">257</span>
<span class="linenos">258</span>
<span class="linenos">259</span>        <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s2">&quot;clisp&quot;</span><span class="p">,</span><span class="s2">&quot;c4.fas&quot;</span><span class="p">],</span><span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> \
<span class="linenos">260</span>            <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span><span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">261</span>        <span class="n">fromOther</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdout</span>
<span class="linenos">262</span>        <span class="n">toOther</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="n">stdin</span>
<span class="linenos">263</span>
<span class="linenos">264</span>        <span class="c1"># To write to the other program you should use commands like this</span>
<span class="linenos">265</span>        <span class="c1"># toOther.write(val+&quot;\n&quot;)</span>
<span class="linenos">266</span>        <span class="c1"># Don&#39;t forget to flush the buffer</span>
<span class="linenos">267</span>        <span class="c1"># toOther.flush()</span>
<span class="linenos">268</span>
<span class="linenos">269</span>        <span class="c1"># To read from the other program you write</span>
<span class="linenos">270</span>        <span class="c1"># line = fromOther.readline().strip()</span>
<span class="linenos">271</span>
<span class="linenos">272</span>
<span class="linenos">273</span>
<span class="linenos">274</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">275</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="linenos">276</span>    <span class="n">animApp</span> <span class="o">=</span> <span class="n">Connect4Application</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">277</span>
<span class="linenos">278</span>    <span class="n">animApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">279</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">280</span>
<span class="linenos">281</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">282</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../chap1/chap1.html">1. Python Programming 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap2/chap2.html">2. Computational Complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap3/chap3.html">3. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap4/chap4.html">4. Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap5/chap5.html">5. Sets and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap6/chap6.html">6. Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap7/chap7.html">7. Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap11/chap11.html">8. Membership Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap8/chap8.html">9. Heaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap9/chap9.html">10. Balanced Binary Search Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap10/chap10.html">11. B-Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap12/chap12.html">12. Heuristic Search</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/appendices/appendixH.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Kent D. Lee and Steve Hubbard.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>