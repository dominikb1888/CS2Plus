
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>10. Balanced Binary Search Trees &#8212; Data Structures and Algorithms with Python</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/agogo.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="11. B-Trees" href="../chap10/chap10.html" />
    <link rel="prev" title="9. Heaps" href="../chap8/chap8.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/csbook.JPG" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Data Structures and Algorithms with Python</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../chap8/chap8.html" title="9. Heaps"
             accesskey="P">previous</a> |
          <a href="../chap10/chap10.html" title="11. B-Trees"
             accesskey="N">next</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="balanced-binary-search-trees">
<span id="balancedtreechap"></span><h1><span class="section-number">10. </span>Balanced Binary Search Trees<a class="headerlink" href="#balanced-binary-search-trees" title="Permalink to this heading">¶</a></h1>
<p>In <a class="reference internal" href="../chap6/chap6.html#chap6">chapter 6</a> binary search trees were defined along with a recursive insert algorithm. The discussion of binary search trees pointed out they have problems in some cases. Binary search trees can become unbalanced, actually quite often. When a tree is unbalanced the complexity of insert, delete, and lookup operations can get as bad as <img class="math" src="../_images/math/529a0c57cd2fea8b0566dea7a79f2dd436bc280b.png" alt="\Theta(n)"/>. This problem with unbalanced binary search trees was the motivation for the development of height-balanced AVL trees by G. M. Adelson-Velskii and E. M. Landis, two Soviet computer scientists, in 1962. AVL trees were named for these two inventors. Their paper on AVL trees <a href="#id1"><span class="problematic" id="id2">:cite:`avltrees`</span></a> described the first algorithm for maintaining balanced binary search trees. The chapter goes on to discuss Splay Trees as another example of balanced binary search trees.</p>
<section id="avl-tree-implementations">
<h2><span class="section-number">10.1. </span>AVL Tree Implementations<a class="headerlink" href="#avl-tree-implementations" title="Permalink to this heading">¶</a></h2>
<p>AVL trees maintain their own balance. The balance can be maintained in one of two ways. Either the height of each node in the tree can be maintained or the balance of each node in the tree can be maintained. If maintaining the height, there is a little more work to be done to adjust heights all the way up the tree. If balance is maintained then the code gets a little trickier, but there balances only need to be adjusted up to a pivot node.</p>
<p>In addition, AVL trees can be implemented with recursive or iterative <em>insert</em> and <em>delete</em> methods. Both are described in the text.</p>
<section id="iteratively-implemented-avl-tree">
<h3><span class="section-number">10.1.1. </span>Iteratively Implemented AVL Tree<a class="headerlink" href="#iteratively-implemented-avl-tree" title="Permalink to this heading">¶</a></h3>
<p>You can <a class="reference download internal" download="" href="../_downloads/db3243544f1ffc1d7b45513fc4c15395/avltree.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> avltree.py to work on an iterative implementation of AVL Trees.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">  2</span><span class="sd">  File:  avltree.py</span>
<span class="linenos">  3</span><span class="sd">  Author: Steve Hubbard,  and</span>
<span class="linenos">  4</span><span class="sd">  Date:</span>
<span class="linenos">  5</span><span class="sd">  Description:  This module provides the AVLNode and AVLTree classes.</span>
<span class="linenos">  6</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">stack</span> <span class="kn">import</span> <span class="n">Stack</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="k">class</span> <span class="nc">AVLNode</span><span class="p">:</span>
<span class="linenos"> 11</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">balance</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="linenos"> 12</span>      <span class="bp">self</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span>
<span class="linenos"> 13</span>      <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 14</span>      <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 15</span>      <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span>   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 18</span>      <span class="sd">&#39;&#39;&#39;  This performs an inorder traversal of the tree rooted at self,</span>
<span class="linenos"> 19</span><span class="sd">         using recursion.  Return the corresponding string.</span>
<span class="linenos"> 20</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 21</span>      <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos"> 22</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 23</span>         <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="o">+</span>  <span class="n">st</span>  <span class="c1"># A recursive call: str(self.left)</span>
<span class="linenos"> 24</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 25</span>         <span class="n">st</span> <span class="o">=</span> <span class="n">st</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>  <span class="c1"># Another recursive call</span>
<span class="linenos"> 26</span>      <span class="k">return</span> <span class="n">st</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span>   <span class="k">def</span> <span class="nf">rotateLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 29</span>      <span class="sd">&#39;&#39;&#39;  Perform a left rotation of the subtree rooted at the</span>
<span class="linenos"> 30</span><span class="sd">       receiver.  Answer the root node of the new subtree.</span>
<span class="linenos"> 31</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 32</span>      <span class="n">child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span>
<span class="linenos"> 33</span>      <span class="k">if</span> <span class="p">(</span><span class="n">child</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 34</span>         <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;Error!  No right child in rotateLeft.&#39;</span> <span class="p">)</span>
<span class="linenos"> 35</span>         <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># redundant</span>
<span class="linenos"> 36</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 37</span>         <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">left</span>
<span class="linenos"> 38</span>         <span class="n">child</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span>
<span class="linenos"> 39</span>         <span class="k">return</span> <span class="n">child</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span>   <span class="k">def</span> <span class="nf">rotateRight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 42</span>      <span class="sd">&#39;&#39;&#39;  Perform a right rotation of the subtree rooted at the</span>
<span class="linenos"> 43</span><span class="sd">       receiver.  Answer the root node of the new subtree.</span>
<span class="linenos"> 44</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 45</span>      <span class="n">child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span>
<span class="linenos"> 46</span>      <span class="k">if</span> <span class="p">(</span><span class="n">child</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 47</span>         <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;Error!  No left child in rotateRight.&#39;</span> <span class="p">)</span>
<span class="linenos"> 48</span>         <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># redundant</span>
<span class="linenos"> 49</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 50</span>         <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">right</span>
<span class="linenos"> 51</span>         <span class="n">child</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="bp">self</span>
<span class="linenos"> 52</span>         <span class="k">return</span> <span class="n">child</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span>   <span class="k">def</span> <span class="nf">rotateRightThenLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 55</span>      <span class="sd">&#39;&#39;&#39;Perform a double inside left rotation at the receiver.  We</span>
<span class="linenos"> 56</span><span class="sd">       assume the receiver has a right child (the bad child), which has a left</span>
<span class="linenos"> 57</span><span class="sd">       child. We rotate right at the bad child then rotate left at the pivot</span>
<span class="linenos"> 58</span><span class="sd">       node, self. Answer the root node of the new subtree.  We call this</span>
<span class="linenos"> 59</span><span class="sd">       case 3, subcase 2.</span>
<span class="linenos"> 60</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 61</span>      <span class="k">pass</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span>   <span class="k">def</span> <span class="nf">rotateLeftThenRight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 64</span>      <span class="sd">&#39;&#39;&#39;Perform a double inside right rotation at the receiver.  We</span>
<span class="linenos"> 65</span><span class="sd">       assume the receiver has a left child (the bad child) which has a right</span>
<span class="linenos"> 66</span><span class="sd">       child. We rotate left at the bad child, then rotate right at</span>
<span class="linenos"> 67</span><span class="sd">       the pivot, self.  Answer the root node of the new subtree. We call this</span>
<span class="linenos"> 68</span><span class="sd">       case 3, subcase 2.</span>
<span class="linenos"> 69</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 70</span>      <span class="k">pass</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span><span class="k">class</span> <span class="nc">AVLTree</span><span class="p">:</span>
<span class="linenos"> 73</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 74</span>      <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 75</span>      <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 76</span>
<span class="linenos"> 77</span>   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 78</span>      <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;There are &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; nodes in the AVL tree.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos"> 79</span>      <span class="k">return</span>  <span class="n">st</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>  <span class="c1"># Using the string hook for AVL nodes</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span>   <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos"> 82</span>      <span class="sd">&#39;&#39;&#39;  Add a new node with item newItem, if there is not a match in the</span>
<span class="linenos"> 83</span><span class="sd">        tree.  Perform any rotations necessary to maintain the AVL tree,</span>
<span class="linenos"> 84</span><span class="sd">        including any needed updates to the balances of the nodes.  Most of the</span>
<span class="linenos"> 85</span><span class="sd">        actual work is done by other methods.</span>
<span class="linenos"> 86</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 87</span>      <span class="k">pass</span>
<span class="linenos"> 88</span>
<span class="linenos"> 89</span>   <span class="k">def</span> <span class="nf">adjustBalances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos"> 90</span>      <span class="sd">&#39;&#39;&#39;  We adjust the balances of all the nodes in theStack, up to and</span>
<span class="linenos"> 91</span><span class="sd">         including the pivot node, if any.  Later rotations may cause</span>
<span class="linenos"> 92</span><span class="sd">         some of the balances to change.</span>
<span class="linenos"> 93</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 94</span>      <span class="k">pass</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span>   <span class="k">def</span> <span class="nf">case1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos"> 97</span>      <span class="sd">&#39;&#39;&#39;  There is no pivot node.  Adjust the balances of all the nodes</span>
<span class="linenos"> 98</span><span class="sd">         in theStack.</span>
<span class="linenos"> 99</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">100</span>      <span class="bp">self</span><span class="o">.</span><span class="n">adjustBalances</span><span class="p">(</span><span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">)</span>
<span class="linenos">101</span>
<span class="linenos">102</span>   <span class="k">def</span> <span class="nf">case2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos">103</span>      <span class="sd">&#39;&#39;&#39; The pivot node exists.  We have inserted a new node into the</span>
<span class="linenos">104</span><span class="sd">         subtree of the pivot of smaller height.  Hence, we need to adjust</span>
<span class="linenos">105</span><span class="sd">         the balances of all the nodes in the stack up to and including</span>
<span class="linenos">106</span><span class="sd">         that of the pivot node.  No rotations are needed.</span>
<span class="linenos">107</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">108</span>      <span class="bp">self</span><span class="o">.</span><span class="n">adjustBalances</span><span class="p">(</span><span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">)</span>
<span class="linenos">109</span>
<span class="linenos">110</span>   <span class="k">def</span> <span class="nf">case3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos">111</span>      <span class="sd">&#39;&#39;&#39;  The pivot node exists.  We have inserted a new node into the</span>
<span class="linenos">112</span><span class="sd">         larger height subtree of the pivot node.  Hence rebalancing and</span>
<span class="linenos">113</span><span class="sd">         rotations are needed.</span>
<span class="linenos">114</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">115</span>      <span class="bp">self</span><span class="o">.</span><span class="n">adjustBalances</span><span class="p">(</span><span class="n">theStack</span><span class="p">,</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">newItem</span><span class="p">)</span>
<span class="linenos">116</span>      <span class="c1"># Lots more!!!!</span>
<span class="linenos">117</span>
<span class="linenos">118</span>   <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newItem</span><span class="p">):</span>
<span class="linenos">119</span>      <span class="sd">&#39;&#39;&#39;  The AVL tree is not empty.  We search for newItem. This method will</span>
<span class="linenos">120</span><span class="sd">        return a tuple: (pivot, theStack, parent, found).</span>
<span class="linenos">121</span><span class="sd">        In this tuple, if there is a pivot node, we return a reference to it</span>
<span class="linenos">122</span><span class="sd">        (or None). We create a stack of nodes along the search path -- theStack.</span>
<span class="linenos">123</span><span class="sd">        We indicate whether or not we found an item which matches newItem.  We</span>
<span class="linenos">124</span><span class="sd">        also return a reference to the last node the search examined -- referred</span>
<span class="linenos">125</span><span class="sd">        to here as the parent.  (Note that if we find an object, the parent is</span>
<span class="linenos">126</span><span class="sd">        reference to that matching node.)  If there is no match, parent is a</span>
<span class="linenos">127</span><span class="sd">        reference to the node used to add a child in insert().</span>
<span class="linenos">128</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">129</span>      <span class="k">pass</span>
<span class="linenos">130</span>
<span class="linenos">131</span>
<span class="linenos">132</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">133</span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Our names are &quot;</span><span class="p">)</span>
<span class="linenos">134</span>   <span class="nb">print</span><span class="p">()</span>
<span class="linenos">135</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">136</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span> <span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">137</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">138</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="mi">290</span><span class="p">)</span>
<span class="linenos">139</span>   <span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">140</span><span class="sd">   print(a)</span>
<span class="linenos">141</span><span class="sd">   print(b)</span>
<span class="linenos">142</span><span class="sd">   &#39;&#39;&#39;</span>
<span class="linenos">143</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">AVLTree</span><span class="p">()</span>
<span class="linenos">144</span>   <span class="n">t</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">b</span>
<span class="linenos">145</span>   <span class="n">b</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">a</span>
<span class="linenos">146</span>   <span class="n">a</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">c</span>
<span class="linenos">147</span>   <span class="n">b</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">d</span>
<span class="linenos">148</span>   <span class="n">t</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">4</span>
<span class="linenos">149</span>   <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="linenos">150</span>
<span class="linenos">151</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="linenos">152</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="linenos">153</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">AVLNode</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="linenos">154</span>   <span class="n">a</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">b</span>
<span class="linenos">155</span>   <span class="n">b</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">c</span>
<span class="linenos">156</span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing rotateLeftThenRight()&quot;</span><span class="p">)</span>
<span class="linenos">157</span>   <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">rotateLeftThenRight</span><span class="p">())</span>
<span class="linenos">158</span>
<span class="linenos">159</span>   <span class="p">(</span><span class="n">pivot</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">-</span><span class="mi">70</span><span class="p">)</span>
<span class="linenos">160</span>   <span class="nb">print</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span>
<span class="linenos">161</span>   <span class="nb">print</span><span class="p">()</span>
<span class="linenos">162</span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The items in the nodes of the stack are: &quot;</span><span class="p">)</span>
<span class="linenos">163</span>   <span class="k">while</span> <span class="ow">not</span> <span class="n">theStack</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">():</span>
<span class="linenos">164</span>      <span class="n">current</span> <span class="o">=</span> <span class="n">theStack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="linenos">165</span>      <span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
<span class="linenos">166</span>   <span class="nb">print</span><span class="p">()</span>
<span class="linenos">167</span>
<span class="linenos">168</span>   <span class="p">(</span><span class="n">pivot</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="linenos">169</span>   <span class="nb">print</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span>
<span class="linenos">170</span>
<span class="linenos">171</span>   <span class="p">(</span><span class="n">pivot</span><span class="p">,</span> <span class="n">theStack</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
<span class="linenos">172</span>   <span class="nb">print</span><span class="p">(</span><span class="n">pivot</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="n">found</span><span class="p">)</span>
<span class="linenos">173</span>
<span class="linenos">174</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span> <span class="n">main</span><span class="p">()</span>
<span class="linenos">175</span><span class="sd">&#39;&#39;&#39;  The output from main():</span>
<span class="linenos">176</span><span class="sd">[evaluate avltree.py]</span>
<span class="linenos">177</span><span class="sd">Our names are</span>
<span class="linenos">178</span><span class="sd">There are 4 nodes in the AVL tree.</span>
<span class="linenos">179</span><span class="sd">-100 0</span>
<span class="linenos">180</span><span class="sd">20 -1</span>
<span class="linenos">181</span><span class="sd">30 -1</span>
<span class="linenos">182</span><span class="sd">290 0</span>
<span class="linenos">183</span>
<span class="linenos">184</span><span class="sd">Testing rotateLeftThenRight()</span>
<span class="linenos">185</span><span class="sd">30 0</span>
<span class="linenos">186</span><span class="sd">40 0</span>
<span class="linenos">187</span><span class="sd">50 0</span>
<span class="linenos">188</span>
<span class="linenos">189</span><span class="sd">20 -100 False</span>
<span class="linenos">190</span>
<span class="linenos">191</span><span class="sd">The items in the nodes of the stack are:</span>
<span class="linenos">192</span><span class="sd">-100</span>
<span class="linenos">193</span><span class="sd">20</span>
<span class="linenos">194</span><span class="sd">30</span>
<span class="linenos">195</span>
<span class="linenos">196</span><span class="sd">20 20 False</span>
<span class="linenos">197</span><span class="sd">20 -100 True</span>
<span class="linenos">198</span><span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</section>
<section id="recursively-implemented-avl-tree">
<h3><span class="section-number">10.1.2. </span>Recursively Implemented AVL Tree<a class="headerlink" href="#recursively-implemented-avl-tree" title="Permalink to this heading">¶</a></h3>
<p>AVL trees may also be implemented recursively meaning that the insert and delete methods can be written recursively. The outline of this implementation can be seen in the text. It is relatively short and is not provided for download.</p>
</section>
</section>
<section id="splay-tree-implementations">
<h2><span class="section-number">10.2. </span>Splay Tree Implementations<a class="headerlink" href="#splay-tree-implementations" title="Permalink to this heading">¶</a></h2>
<p>Splay trees do not maintain the balance or height. Instead they rely on rotations that always rotate a inserted or accessed element to the root of the tree. In doing this they maintain a balance in the tree, often exploiting spatial locality. Again, splay trees may be implemented recursively or iteratively.</p>
<section id="iteratively-implemented-splay-tree">
<h3><span class="section-number">10.2.1. </span>Iteratively Implemented Splay Tree<a class="headerlink" href="#iteratively-implemented-splay-tree" title="Permalink to this heading">¶</a></h3>
<p>You can <a class="reference download internal" download="" href="../_downloads/7eb53529420b5d8bbe39aff8963e6e6e/splaytree.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> splaytree.py to work on an iterative implementation of splay trees. To run this program you will need to <a class="reference download internal" download="" href="../_downloads/dcaaacfd38fb4eeadb233c851f3a79c5/stack.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> stack.py module and you’ll need to <a class="reference download internal" download="" href="../_downloads/aecccb8ade3facb9215388db7fccc7f7/person.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> person.py module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">  2</span><span class="sd"> File: splaytree.py</span>
<span class="linenos">  3</span><span class="sd"> Author(s): Steve Hubbard and </span>
<span class="linenos">  4</span><span class="sd"> Date: 9/17/13</span>
<span class="linenos">  5</span><span class="sd"> Description: This module implements the SplayTree class and the</span>
<span class="linenos">  6</span><span class="sd">   SplayNode class.  The classes use bottom up splaying rather than </span>
<span class="linenos">  7</span><span class="sd">   top down splaying.  We do not allow duplicate objects in the tree.</span>
<span class="linenos">  8</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="kn">from</span> <span class="nn">person</span> <span class="kn">import</span> <span class="n">Person</span>
<span class="linenos"> 11</span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="linenos"> 12</span><span class="kn">from</span> <span class="nn">stack</span> <span class="kn">import</span> <span class="n">Stack</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="k">class</span> <span class="nc">SplayNode</span><span class="p">:</span>
<span class="linenos"> 15</span>   <span class="sd">&#39;&#39;&#39; This module implements the SplayNode class. This</span>
<span class="linenos"> 16</span><span class="sd">     class in turn is used by the SplayTree class.  The classes</span>
<span class="linenos"> 17</span><span class="sd">     use bottom up splaying rather than top down splaying.  We</span>
<span class="linenos"> 18</span><span class="sd">     do not allow duplicate objects in the tree.</span>
<span class="linenos"> 19</span><span class="sd">   &#39;&#39;&#39;</span>
<span class="linenos"> 20</span>   
<span class="linenos"> 21</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 22</span>      <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
<span class="linenos"> 23</span>      <span class="bp">self</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span>
<span class="linenos"> 24</span>      <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span>   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
<span class="linenos"> 27</span>      <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span>
<span class="linenos"> 28</span>      <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 29</span>         <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos"> 30</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 31</span>         <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">)</span> <span class="c1"># recursion</span>
<span class="linenos"> 32</span>      <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 33</span>      <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 34</span>         <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos"> 35</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 36</span>         <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">)</span> <span class="c1"># recursion</span>
<span class="linenos"> 37</span>      <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
<span class="linenos"> 38</span>      <span class="k">return</span> <span class="n">st</span>
<span class="linenos"> 39</span>   
<span class="linenos"> 40</span>   <span class="k">def</span> <span class="nf">inorder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 41</span>      <span class="sd">&#39;&#39;&#39; Perform an inorder traversal of the subtree rooted at</span>
<span class="linenos"> 42</span><span class="sd">        the receiver.  Print each item in this subtree during</span>
<span class="linenos"> 43</span><span class="sd">        the traversal.  This is done with recursion.</span>
<span class="linenos"> 44</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 45</span>      <span class="k">pass</span>
<span class="linenos"> 46</span>      
<span class="linenos"> 47</span>   <span class="k">def</span> <span class="nf">insertInNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anItem</span><span class="p">):</span>
<span class="linenos"> 48</span>      <span class="sd">&#39;&#39;&#39; Try to insert a copy of anItem into the bottom up splay</span>
<span class="linenos"> 49</span><span class="sd">       tree rooted at the receiver.  If anItem is already in the tree,</span>
<span class="linenos"> 50</span><span class="sd">       do not insert an extra copy. In any case, splay the new node,</span>
<span class="linenos"> 51</span><span class="sd">       or the last node on the search path, to the root.  The method</span>
<span class="linenos"> 52</span><span class="sd">       will answer a tuple.  The first element is True or False</span>
<span class="linenos"> 53</span><span class="sd">       according to whether a new element was added or not.  The</span>
<span class="linenos"> 54</span><span class="sd">       second element is the new root node.</span>
<span class="linenos"> 55</span><span class="sd">       &#39;&#39;&#39;</span>
<span class="linenos"> 56</span>       <span class="k">pass</span>
<span class="linenos"> 57</span>   
<span class="linenos"> 58</span>   <span class="k">def</span> <span class="nf">rotateLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 59</span>      <span class="sd">&#39;&#39;&#39;  Perform a left rotation of the subtree rooted at the</span>
<span class="linenos"> 60</span><span class="sd">       receiver.  Answer the root node of the new subtree.  </span>
<span class="linenos"> 61</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 62</span>      <span class="n">child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span>
<span class="linenos"> 63</span>      <span class="k">if</span> <span class="p">(</span><span class="n">child</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 64</span>         <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;Error!  No right child in rotateLeft. &#39;</span> <span class="p">)</span>
<span class="linenos"> 65</span>         <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># redundant</span>
<span class="linenos"> 66</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 67</span>         <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">left</span>
<span class="linenos"> 68</span>         <span class="n">child</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="bp">self</span>
<span class="linenos"> 69</span>         <span class="k">return</span> <span class="n">child</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span>   <span class="k">def</span> <span class="nf">splayToRoot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stack</span><span class="p">):</span>
<span class="linenos"> 72</span>      <span class="sd">&#39;&#39;&#39;  Perform a bottom up splay beginning at the node at the</span>
<span class="linenos"> 73</span><span class="sd">       top of the stack.  Answer the root of the new tree.</span>
<span class="linenos"> 74</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos"> 75</span>      <span class="k">pass</span>
<span class="linenos"> 76</span>      
<span class="linenos"> 77</span>   <span class="sd">&#39;&#39;&#39;  Many more methods! &#39;&#39;&#39;</span>
<span class="linenos"> 78</span>      
<span class="linenos"> 79</span>
<span class="linenos"> 80</span><span class="k">class</span> <span class="nc">SplayTree</span><span class="p">:</span>
<span class="linenos"> 81</span>   
<span class="linenos"> 82</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 83</span>      <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos"> 84</span>      <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span>   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 87</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 88</span>         <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="linenos"> 89</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 90</span>         <span class="k">return</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 91</span>   
<span class="linenos"> 92</span>   <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anItem</span><span class="p">):</span>
<span class="linenos"> 93</span>      <span class="sd">&#39;&#39;&#39;  Atempt to find a match (==) for anItem in the receiver.</span>
<span class="linenos"> 94</span><span class="sd">      If found, splay the corresponding node to the root and answer</span>
<span class="linenos"> 95</span><span class="sd">      the item of the node. If not found, splay the last node on</span>
<span class="linenos"> 96</span><span class="sd">      the search path to the root. In this case, answer None.  If</span>
<span class="linenos"> 97</span><span class="sd">      found, we remove the node and make the largest element of the</span>
<span class="linenos"> 98</span><span class="sd">      new left subtree (from the splaying of the node to the root</span>
<span class="linenos"> 99</span><span class="sd">      position) the new root node of the tree.  Of course finding</span>
<span class="linenos">100</span><span class="sd">      the largest element uses a splaying on that left subtree.</span>
<span class="linenos">101</span><span class="sd">      If there is no left subtree, the right subtree becomes the</span>
<span class="linenos">102</span><span class="sd">      root.  This may leave us with an empty tree.  If found,</span>
<span class="linenos">103</span><span class="sd">      decrement the size of the tree and answer the item deleted.</span>
<span class="linenos">104</span><span class="sd">      If not found, answer None.</span>
<span class="linenos">105</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">106</span>      <span class="k">pass</span>
<span class="linenos">107</span>
<span class="linenos">108</span>   <span class="k">def</span> <span class="nf">findMax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">109</span>      <span class="sd">&#39;&#39;&#39; Find the largest element in the splay tree.  Splay that</span>
<span class="linenos">110</span><span class="sd">      element to the root.  Answer a deep copy of the element.</span>
<span class="linenos">111</span><span class="sd">      If the tree is empty, answer None.</span>
<span class="linenos">112</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">113</span>      <span class="k">pass</span> 
<span class="linenos">114</span>
<span class="linenos">115</span>   <span class="k">def</span> <span class="nf">findMin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">116</span>      <span class="sd">&#39;&#39;&#39; Find the smallest element in the splay tree.  Splay that</span>
<span class="linenos">117</span><span class="sd">      element to the root.  Answer a deep copy of the element.  If</span>
<span class="linenos">118</span><span class="sd">      the tree is empty, answer None.</span>
<span class="linenos">119</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">120</span>      <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos">121</span>         <span class="k">return</span> <span class="kc">None</span>
<span class="linenos">122</span>      <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">findMin</span><span class="p">()</span>
<span class="linenos">123</span>      <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">getItem</span><span class="p">())</span>
<span class="linenos">124</span>
<span class="linenos">125</span>   <span class="k">def</span> <span class="nf">getSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">126</span>      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
<span class="linenos">127</span>
<span class="linenos">128</span>   <span class="k">def</span> <span class="nf">inorder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">129</span>      <span class="sd">&#39;&#39;&#39; Print the contents of the receiver, in inorder.</span>
<span class="linenos">130</span><span class="sd">        Print one item per line.</span>
<span class="linenos">131</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">132</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">133</span>         <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">inorder</span><span class="p">()</span>
<span class="linenos">134</span>
<span class="linenos">135</span>   <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anItem</span><span class="p">):</span>
<span class="linenos">136</span>      <span class="sd">&#39;&#39;&#39; Insert a deep copy of anItem into the bottom up splay tree.</span>
<span class="linenos">137</span><span class="sd">      If anItem is already present in the tree, do not insert a new </span>
<span class="linenos">138</span><span class="sd">      copy of anItem.  If anItem is added, increment the size of</span>
<span class="linenos">139</span><span class="sd">      the receiver.  In either case, we splay from</span>
<span class="linenos">140</span><span class="sd">      the last node.  If anItem was added, answer anItem.  If not,</span>
<span class="linenos">141</span><span class="sd">      answer None.</span>
<span class="linenos">142</span><span class="sd">      &#39;&#39;&#39;</span>
<span class="linenos">143</span>      <span class="k">pass</span>
<span class="linenos">144</span>         
<span class="linenos">145</span>   <span class="k">def</span> <span class="nf">retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anItem</span><span class="p">):</span>
<span class="linenos">146</span>      <span class="k">pass</span>
<span class="linenos">147</span>
<span class="linenos">148</span>   <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anItem</span><span class="p">):</span>
<span class="linenos">149</span>      <span class="k">pass</span>
<span class="linenos">150</span>
<span class="linenos">151</span>
<span class="linenos">152</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">153</span>   
<span class="linenos">154</span>   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;My name is &#39;</span><span class="p">)</span>
<span class="linenos">155</span>   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test the SplayNode class: &#39;</span><span class="p">)</span>
<span class="linenos">156</span>   
<span class="linenos">157</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">158</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">159</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">160</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">rotateLeft</span><span class="p">()</span>
<span class="linenos">161</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">162</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;((((*10*)20(*25*))30(*35*))40(*45*))&#39;</span> <span class="p">)</span>
<span class="linenos">163</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">164</span>
<span class="linenos">165</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">166</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">167</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">168</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">rotateRight</span><span class="p">()</span>
<span class="linenos">169</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">170</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;((*10*)20((*25*)30((*35*)40(*45*))))&#39;</span> <span class="p">)</span>
<span class="linenos">171</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">172</span>   
<span class="linenos">173</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">174</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">175</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">176</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">177</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">178</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">179</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">180</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">root</span> <span class="p">)</span>
<span class="linenos">181</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">182</span>
<span class="linenos">183</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">184</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">185</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">186</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">187</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">188</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">189</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">190</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rotateRightThenLeft</span><span class="p">()</span>
<span class="linenos">191</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">192</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span>  \
<span class="linenos">193</span>   <span class="s1">&#39;(((((*10*)20(*25*))30((*35*)40(*45*)))50(*55*))60((*65*)70((*80*)90(*100*))))&#39;</span> <span class="p">)</span>
<span class="linenos">194</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">195</span>
<span class="linenos">196</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">197</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">198</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">199</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">200</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">201</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">202</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">203</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">rotateLeftThenRight</span><span class="p">()</span>
<span class="linenos">204</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">205</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span>  \
<span class="linenos">206</span>   <span class="s1">&#39;((((*10*)20(*25*))30(*35*))40((*45*)50(((*55*)60(*65*))70((*80*)90(*100*)))))&#39;</span> <span class="p">)</span>
<span class="linenos">207</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">208</span>
<span class="linenos">209</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">210</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">211</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">212</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">213</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">214</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">215</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">216</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">doubleRotateLeft</span><span class="p">()</span>
<span class="linenos">217</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">218</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span>  \
<span class="linenos">219</span>   <span class="s1">&#39;((((((*10*)20(*25*))30((*35*)40(*45*)))50((*55*)60(*65*)))70(*80*))90(*100*))&#39;</span> <span class="p">)</span>
<span class="linenos">220</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">221</span>   
<span class="linenos">222</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">223</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">224</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">225</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">226</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">227</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">228</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">229</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">doubleRotateRight</span><span class="p">()</span>
<span class="linenos">230</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">231</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> \
<span class="linenos">232</span>   <span class="s1">&#39;((*10*)20((*25*)30(((*35*)40(*45*))50(((*55*)60(*65*))70((*80*)90(*100*))))))&#39;</span> <span class="p">)</span>
<span class="linenos">233</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<span class="linenos">234</span>   
<span class="linenos">235</span>   <span class="n">a</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">236</span>   <span class="n">b</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">35</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">45</span><span class="p">))</span>
<span class="linenos">237</span>   <span class="n">c</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">238</span>   <span class="n">d</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">55</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">65</span><span class="p">))</span>
<span class="linenos">239</span>   <span class="n">e</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="linenos">240</span>   <span class="n">f</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="linenos">241</span>   <span class="n">root</span> <span class="o">=</span> <span class="n">SplayNode</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<span class="linenos">242</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span>
<span class="linenos">243</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
<span class="linenos">244</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> \
<span class="linenos">245</span>   <span class="s1">&#39;((((*10*)20(*25*))30*)35((*40(*45*))50(((*55*)60(*65*))70((*80*)90(*100*)))))&#39;</span><span class="p">)</span>
<span class="linenos">246</span>
<span class="linenos">247</span>   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test the SplayTree class: &#39;</span><span class="p">)</span>
<span class="linenos">248</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">249</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">250</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">251</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">252</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">253</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">254</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">255</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">256</span>   <span class="n">t</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">257</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;(*1(((*2(*3*))4(*5*))6(*7*)))&#39;</span><span class="p">)</span>
<span class="linenos">258</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;The size of the tree is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">getSize</span><span class="p">())</span> <span class="p">)</span>
<span class="linenos">259</span>   
<span class="linenos">260</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">261</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">262</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">263</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">264</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">265</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">266</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">267</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">268</span>   <span class="n">t</span><span class="o">.</span><span class="n">findMin</span><span class="p">()</span>
<span class="linenos">269</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span>  <span class="s1">&#39;(*1(((*2(*3*))4(*5*))6(*7*)))&#39;</span><span class="p">)</span>
<span class="linenos">270</span>   
<span class="linenos">271</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">272</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">273</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">274</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">275</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">276</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">277</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">278</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">279</span>   <span class="n">t</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">280</span>   <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">281</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span>  <span class="s1">&#39;((*1*)2((*4(*5*))6(*7*)))&#39;</span> <span class="p">)</span>
<span class="linenos">282</span>   
<span class="linenos">283</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">284</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">285</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">286</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">287</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">288</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">289</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">290</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">291</span>   <span class="n">t</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">292</span>   <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">293</span>   <span class="n">t</span><span class="o">.</span><span class="n">findMax</span><span class="p">()</span>
<span class="linenos">294</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;((((*1*)2(*4(*5*)))6*)7*)&#39;</span><span class="p">)</span>
<span class="linenos">295</span>
<span class="linenos">296</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">297</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
<span class="linenos">298</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jill&#39;</span><span class="p">,</span><span class="mi">35</span><span class="p">))</span>
<span class="linenos">299</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jon&#39;</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
<span class="linenos">300</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jack&#39;</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">301</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
<span class="linenos">302</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jud&#39;</span><span class="p">,</span><span class="mi">95</span><span class="p">))</span>
<span class="linenos">303</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Joey&#39;</span><span class="p">,</span><span class="mi">27</span><span class="p">))</span>
<span class="linenos">304</span>   <span class="n">st</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">305</span>   <span class="n">t</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
<span class="linenos">306</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">307</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
<span class="linenos">308</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">309</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">310</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">))</span>
<span class="linenos">311</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">312</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">313</span>   <span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">findMax</span><span class="p">()</span>
<span class="linenos">314</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">315</span>   <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="linenos">316</span>   <span class="nb">print</span><span class="p">(</span> <span class="n">t</span> <span class="p">)</span>
<span class="linenos">317</span>
<span class="linenos">318</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;The size of the tree is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">getSize</span><span class="p">())</span> <span class="p">)</span>
<span class="linenos">319</span>
<span class="linenos">320</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">321</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">322</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">323</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">324</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">325</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">326</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">327</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">328</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="linenos">329</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;((((*1*)2*)3*)3.5(((*4*)5(*6*))7*))&#39;</span> <span class="p">)</span>
<span class="linenos">330</span>   
<span class="linenos">331</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">332</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">333</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">334</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">335</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">336</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">337</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="linenos">338</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="linenos">339</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="linenos">340</span>   <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mf">3.5</span><span class="p">)</span>
<span class="linenos">341</span>   <span class="nb">print</span><span class="p">(</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;(((*1*)2*)3(((*4*)5(*6*))7*))&#39;</span><span class="p">)</span>
<span class="linenos">342</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;The size of the tree is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">getSize</span><span class="p">())</span> <span class="p">)</span>
<span class="linenos">343</span>   
<span class="linenos">344</span>
<span class="linenos">345</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">346</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">347</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">348</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">349</span>   <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">350</span>   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;The size of the tree is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">getSize</span><span class="p">())</span> <span class="p">)</span>
<span class="linenos">351</span>
<span class="linenos">352</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree</span><span class="p">()</span>
<span class="linenos">353</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
<span class="linenos">354</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jill&#39;</span><span class="p">,</span><span class="mi">35</span><span class="p">))</span>
<span class="linenos">355</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jon&#39;</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
<span class="linenos">356</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jack&#39;</span><span class="p">,</span><span class="mi">25</span><span class="p">))</span>
<span class="linenos">357</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
<span class="linenos">358</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jud&#39;</span><span class="p">,</span><span class="mi">95</span><span class="p">))</span>
<span class="linenos">359</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Joey&#39;</span><span class="p">,</span><span class="mi">27</span><span class="p">))</span>
<span class="linenos">360</span>   <span class="n">t</span><span class="o">.</span><span class="n">inorder</span><span class="p">()</span>
<span class="linenos">361</span>      
<span class="linenos">362</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span> <span class="n">main</span><span class="p">()</span>
<span class="linenos">363</span>
<span class="linenos">364</span><span class="sd">&#39;&#39;&#39; Output, from splaytree.py, wrapped around!</span>
<span class="linenos">365</span><span class="sd">[evaluate splaytree.py]</span>
<span class="linenos">366</span><span class="sd">My name is </span>
<span class="linenos">367</span><span class="sd">Test the SplayNode class: </span>
<span class="linenos">368</span><span class="sd">((((*10*)20(*25*))30(*35*))40(*45*))</span>
<span class="linenos">369</span><span class="sd">True</span>
<span class="linenos">370</span>
<span class="linenos">371</span><span class="sd">((*10*)20((*25*)30((*35*)40(*45*))))</span>
<span class="linenos">372</span><span class="sd">True</span>
<span class="linenos">373</span>
<span class="linenos">374</span><span class="sd">((((*10*)20(*25*))30((*35*)40(*45*)))50(((*55*)60(*65*))70((*80*)90(*100*))))</span>
<span class="linenos">375</span>
<span class="linenos">376</span><span class="sd">(((((*10*)20(*25*))30((*35*)40(*45*)))50(*55*))60((*65*)70((*80*)90(*100*))))</span>
<span class="linenos">377</span><span class="sd">True</span>
<span class="linenos">378</span>
<span class="linenos">379</span><span class="sd">((((*10*)20(*25*))30(*35*))40((*45*)50(((*55*)60(*65*))70((*80*)90(*100*)))))</span>
<span class="linenos">380</span><span class="sd">True</span>
<span class="linenos">381</span>
<span class="linenos">382</span><span class="sd">((((((*10*)20(*25*))30((*35*)40(*45*)))50((*55*)60(*65*)))70(*80*))90(*100*))</span>
<span class="linenos">383</span><span class="sd">True</span>
<span class="linenos">384</span>
<span class="linenos">385</span><span class="sd">((*10*)20((*25*)30(((*35*)40(*45*))50(((*55*)60(*65*))70((*80*)90(*100*))))))</span>
<span class="linenos">386</span><span class="sd">True</span>
<span class="linenos">387</span>
<span class="linenos">388</span><span class="sd">((((*10*)20(*25*))30*)35((*40(*45*))50(((*55*)60(*65*))70((*80*)90(*100*)))))</span>
<span class="linenos">389</span><span class="sd">True</span>
<span class="linenos">390</span><span class="sd">Test the SplayTree class: </span>
<span class="linenos">391</span><span class="sd">True</span>
<span class="linenos">392</span><span class="sd">The size of the tree is 7</span>
<span class="linenos">393</span><span class="sd">True</span>
<span class="linenos">394</span><span class="sd">True</span>
<span class="linenos">395</span><span class="sd">True</span>
<span class="linenos">396</span><span class="sd">((((*Name: Jon Id: 15 (*Name: James Id: 25 *))Name: Joey Id: 27 *)</span>
<span class="linenos">397</span><span class="sd">                                   Name: John Id: 30 *)Name: Jud Id: 95 *)</span>
<span class="linenos">398</span><span class="sd">The size of the tree is 5</span>
<span class="linenos">399</span><span class="sd">True</span>
<span class="linenos">400</span><span class="sd">True</span>
<span class="linenos">401</span><span class="sd">The size of the tree is 7</span>
<span class="linenos">402</span><span class="sd">The size of the tree is 2</span>
<span class="linenos">403</span><span class="sd">Name: Jon Id: 15 </span>
<span class="linenos">404</span><span class="sd">Name: Joe Id: 25 </span>
<span class="linenos">405</span><span class="sd">Name: Joey Id: 27 </span>
<span class="linenos">406</span><span class="sd">Name: John Id: 30 </span>
<span class="linenos">407</span><span class="sd">Name: Jill Id: 35 </span>
<span class="linenos">408</span><span class="sd">Name: Jud Id: 95 </span>
<span class="linenos">409</span>
<span class="linenos">410</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">411</span>   
<span class="linenos">412</span>      
<span class="linenos">413</span>   
<span class="linenos">414</span>      
</pre></div>
</div>
</section>
<section id="recursively-implemented-splay-tree">
<h3><span class="section-number">10.2.2. </span>Recursively Implemented Splay Tree<a class="headerlink" href="#recursively-implemented-splay-tree" title="Permalink to this heading">¶</a></h3>
<p>A recursive implementation of splay trees relies on keeping track of the left or right double rotations as the recursive insert or lookup returns up the tree. To accomplish this you must call a rotate function. Calling <em>rotate[“RL”](pivot)</em> would call the rotate right then left double rotation. The <em>rotate</em> variable is a dictionary (i.e. hash table) in the code provided here.</p>
<p>You can <a class="reference download internal" download="" href="../_downloads/527d00337adbc599e26373a7803f40ed/splay.py"><code class="xref download docutils literal notranslate"><span class="pre">download</span></code></a> splay.py file to begin working on the recursive splay tree implementation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">  2</span><span class="sd"> File: splay.py</span>
<span class="linenos">  3</span><span class="sd"> Author: Kent D. Lee</span>
<span class="linenos">  4</span><span class="sd"> Date: 8/21/2014</span>
<span class="linenos">  5</span><span class="sd"> Description: This module implements the SplayTree class. This</span>
<span class="linenos">  6</span><span class="sd">   class uses the SplayNode class.  The classes</span>
<span class="linenos">  7</span><span class="sd">   use bottom up splaying rather than top down splaying.  We</span>
<span class="linenos">  8</span><span class="sd">   do not allow duplicate objects in the tree.</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="sd">   Delete is not implemented in this file currently. Test code</span>
<span class="linenos"> 11</span><span class="sd">   should be added to thoroughly test insert, lookup, and delete. </span>
<span class="linenos"> 12</span><span class="sd">   Recall that looking up a value rotates it to the root. Deleting </span>
<span class="linenos"> 13</span><span class="sd">   an item rotates its parent to the root. </span>
<span class="linenos"> 14</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="k">def</span> <span class="nf">rotateLeft</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 17</span>   <span class="k">pass</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="k">def</span> <span class="nf">rotateRight</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 20</span>   <span class="k">pass</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="k">def</span> <span class="nf">rotateRL</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 23</span>   <span class="k">pass</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span><span class="k">def</span> <span class="nf">rotateLR</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 26</span>   <span class="k">pass</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="k">def</span> <span class="nf">rotateRR</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 29</span>   <span class="k">pass</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="k">def</span> <span class="nf">rotateLL</span><span class="p">(</span><span class="n">pivot</span><span class="p">):</span>
<span class="linenos"> 32</span>   <span class="k">pass</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="n">rotate</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos"> 35</span><span class="n">rotate</span><span class="p">[</span><span class="s2">&quot;RL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateRL</span>
<span class="linenos"> 36</span><span class="n">rotate</span><span class="p">[</span><span class="s2">&quot;LR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateLR</span>
<span class="linenos"> 37</span><span class="n">rotate</span><span class="p">[</span><span class="s2">&quot;RR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateRR</span>
<span class="linenos"> 38</span><span class="n">rotate</span><span class="p">[</span><span class="s2">&quot;LL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateLL</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="n">singleRotate</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos"> 41</span><span class="n">singleRotate</span><span class="p">[</span><span class="s2">&quot;R&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateRight</span>
<span class="linenos"> 42</span><span class="n">singleRotate</span><span class="p">[</span><span class="s2">&quot;L&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rotateLeft</span>
<span class="linenos"> 43</span>
<span class="linenos"> 44</span><span class="k">class</span> <span class="nc">SplayTree</span><span class="p">:</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span>   <span class="k">class</span> <span class="nc">SplayNode</span><span class="p">:</span>
<span class="linenos"> 47</span>      <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 48</span>         <span class="bp">self</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span>
<span class="linenos"> 49</span>         <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left</span>
<span class="linenos"> 50</span>         <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right</span>
<span class="linenos"> 51</span>         
<span class="linenos"> 52</span>      <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 53</span>         <span class="n">st</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span>
<span class="linenos"> 54</span>         <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 55</span>            <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos"> 56</span>         <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 57</span>            <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">)</span>
<span class="linenos"> 58</span>         <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 59</span>         <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 60</span>            <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;*&#39;</span>
<span class="linenos"> 61</span>         <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 62</span>            <span class="n">st</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
<span class="linenos"> 63</span>         <span class="n">st</span> <span class="o">+=</span> <span class="s1">&#39;)&#39;</span>
<span class="linenos"> 64</span>         <span class="k">return</span> <span class="n">st</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 67</span>      <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 68</span>      <span class="bp">self</span><span class="o">.</span><span class="n">rString</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 69</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span>   <span class="c1"># Pass searching = True if just searching and not </span>
<span class="linenos"> 72</span>   <span class="c1"># really inserting. If the item is found, true is </span>
<span class="linenos"> 73</span>   <span class="c1"># returned. If the item is not found, an exception</span>
<span class="linenos"> 74</span>   <span class="c1"># containing false is raised. </span>
<span class="linenos"> 75</span>
<span class="linenos"> 76</span>   <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">item</span><span class="p">,</span><span class="n">searching</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span>      <span class="k">def</span> <span class="nf">__insert</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="n">item</span><span class="p">):</span>
<span class="linenos"> 79</span>         <span class="sd">&#39;&#39;&#39; return the new root after inserting</span>
<span class="linenos"> 80</span><span class="sd">             item into the tree currently rooted at </span>
<span class="linenos"> 81</span><span class="sd">             root. If searching for the value and not </span>
<span class="linenos"> 82</span><span class="sd">             inserting, then raise Exception(False) if </span>
<span class="linenos"> 83</span><span class="sd">             the item is not found. </span>
<span class="linenos"> 84</span><span class="sd">         &#39;&#39;&#39;</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span>         <span class="k">return</span> <span class="n">root</span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span>      <span class="bp">self</span><span class="o">.</span><span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span>      <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">__insert</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 91</span>
<span class="linenos"> 92</span>      <span class="c1"># Handle any single rotation that must </span>
<span class="linenos"> 93</span>      <span class="c1"># be done after inserting the value. </span>
<span class="linenos"> 94</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rString</span> <span class="ow">in</span> <span class="n">singleRotate</span><span class="p">:</span>
<span class="linenos"> 95</span>         <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">singleRotate</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">rString</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="linenos"> 96</span>
<span class="linenos"> 97</span>      <span class="bp">self</span><span class="o">.</span><span class="n">rString</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span>      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">found</span>
<span class="linenos">100</span>
<span class="linenos">101</span>   <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">item</span><span class="p">):</span>
<span class="linenos">102</span>
<span class="linenos">103</span>      <span class="k">try</span><span class="p">:</span>
<span class="linenos">104</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">105</span>      <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">inst</span><span class="p">:</span>
<span class="linenos">106</span>         <span class="k">if</span> <span class="n">inst</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
<span class="linenos">107</span>            <span class="k">return</span> <span class="kc">False</span>
<span class="linenos">108</span>
<span class="linenos">109</span>         <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">inst</span><span class="p">)</span>
<span class="linenos">110</span>            
<span class="linenos">111</span>   <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">112</span>      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">113</span>         <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="linenos">114</span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos">115</span>         <span class="k">return</span> <span class="s2">&quot;&quot;</span>
<span class="linenos">116</span>
<span class="linenos">117</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">118</span>   <span class="c1"># This should print the following.</span>
<span class="linenos">119</span>   <span class="c1">#(*20*)</span>
<span class="linenos">120</span>   <span class="c1">#((*20*)30*)</span>
<span class="linenos">121</span>   <span class="c1">#(*5(*20(*30*)))</span>
<span class="linenos">122</span>   <span class="c1">#((*5*)8(*20(*30*)))</span>
<span class="linenos">123</span>   <span class="c1">#(((*5*)8((*20*)30*))42*)</span>
<span class="linenos">124</span>   <span class="c1">#(((*5*)8*)15((*20(*30*))42*))</span>
<span class="linenos">125</span>   <span class="c1">#(((*5*)8*)10(*15((*20(*30*))42*)))   </span>
<span class="linenos">126</span>   <span class="n">t</span> <span class="o">=</span> <span class="n">SplayTree2</span><span class="p">()</span>
<span class="linenos">127</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="linenos">128</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">129</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="linenos">130</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">131</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">132</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">133</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="linenos">134</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">135</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="linenos">136</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">137</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="linenos">138</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">139</span>   <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   
<span class="linenos">140</span>   <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
<span class="linenos">141</span>
<span class="linenos">142</span>
<span class="linenos">143</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span> <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="figures-from-text">
<h2><span class="section-number">10.3. </span>Figures from Text<a class="headerlink" href="#figures-from-text" title="Permalink to this heading">¶</a></h2>
<figure class="align-default" id="id3">
<img alt="../_images/avlcase1.png" src="../_images/avlcase1.png" />
<figcaption>
<p><span class="caption-text">Fig. 1: AVL Tree Case 1 - No Pivot Node</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id4">
<img alt="../_images/avlcase2.png" src="../_images/avlcase2.png" />
<figcaption>
<p><span class="caption-text">Fig. 2: AVL Tree Case 2 - No Rotate</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="../_images/avlcase3a.png" src="../_images/avlcase3a.png" />
<figcaption>
<p><span class="caption-text">Fig. 3: AVL Tree Case 3A - Single Rotation</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="../_images/avlcase3b.png" src="../_images/avlcase3b.png" />
<figcaption>
<p><span class="caption-text">Fig. 4: AVL Tree Case 3B - Double Rotation</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<img alt="../_images/avlcase3bstep1.png" src="../_images/avlcase3bstep1.png" />
<figcaption>
<p><span class="caption-text">Fig. 5: AVL Tree Case 3B Step 1 Rotate Toward</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id8">
<img alt="../_images/avlcase3bstep2.png" src="../_images/avlcase3bstep2.png" />
<figcaption>
<p><span class="caption-text">Fig. 6: AVL Tree Case 3B Step 2 Rotate Away</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id9">
<img alt="../_images/rotateright.png" src="../_images/rotateright.png" />
<figcaption>
<p><span class="caption-text">Fig. 7: AVL Tree Case 3A Right Rotation</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<img alt="../_images/rotateleft.png" src="../_images/rotateleft.png" />
<figcaption>
<p><span class="caption-text">Fig. 8: AVL Tree Case 3A Left Rotation</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id11">
<img alt="../_images/rotate3BStep1and2.png" src="../_images/rotate3BStep1and2.png" />
<figcaption>
<p><span class="caption-text">Fig. 9: AVL Tree Case 3B Steps 1 and 2</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id12">
<img alt="../_images/splayrightright.png" src="../_images/splayrightright.png" />
<figcaption>
<p><span class="caption-text">Fig. 10: Splay Tree Double-Right Rotate</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id13">
<img alt="../_images/splayleftleft.png" src="../_images/splayleftleft.png" />
<figcaption>
<p><span class="caption-text">Fig. 11: Splay Tree Double-Left Rotate</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id14">
<img alt="../_images/splayrightleft.png" src="../_images/splayrightleft.png" />
<figcaption>
<p><span class="caption-text">Fig. 12: Splay Tree Right-Left Rotate</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id15">
<img alt="../_images/splayleftright.png" src="../_images/splayleftright.png" />
<figcaption>
<p><span class="caption-text">Fig. 13: Splay Tree Left-Right Rotate</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id16">
<img alt="../_images/splaysample.png" src="../_images/splaysample.png" />
<figcaption>
<p><span class="caption-text">Fig. 14: Splay Tree Example</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id17">
<img alt="../_images/InsertLookupAverage.png" src="../_images/InsertLookupAverage.png" />
<figcaption>
<p><span class="caption-text">Fig. 15: Average Insert/Lookup Time</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chap1/chap1.html">1. Python Programming 101</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap2/chap2.html">2. Computational Complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap3/chap3.html">3. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap4/chap4.html">4. Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap5/chap5.html">5. Sets and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap6/chap6.html">6. Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap7/chap7.html">7. Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap11/chap11.html">8. Membership Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap8/chap8.html">9. Heaps</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">10. Balanced Binary Search Trees</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#avl-tree-implementations">10.1. AVL Tree Implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iteratively-implemented-avl-tree">10.1.1. Iteratively Implemented AVL Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recursively-implemented-avl-tree">10.1.2. Recursively Implemented AVL Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#splay-tree-implementations">10.2. Splay Tree Implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#iteratively-implemented-splay-tree">10.2.1. Iteratively Implemented Splay Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recursively-implemented-splay-tree">10.2.2. Recursively Implemented Splay Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#figures-from-text">10.3. Figures from Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chap10/chap10.html">11. B-Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap12/chap12.html">12. Heuristic Search</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../chap8/chap8.html" title="9. Heaps"
              >previous</a> |
            <a href="../chap10/chap10.html" title="11. B-Trees"
              >next</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/chap9/chap9.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Kent D. Lee and Steve Hubbard.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>