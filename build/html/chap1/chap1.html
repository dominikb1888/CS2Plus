
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>1. Python Programming 101 &#8212; Data Structures and Algorithms with Python</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/agogo.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Computational Complexity" href="../chap2/chap2.html" />
    <link rel="prev" title="Welcome!" href="../index.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/csbook.JPG" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Data Structures and Algorithms with Python</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="../index.html" title="Welcome!"
             accesskey="P">previous</a> |
          <a href="../chap2/chap2.html" title="2. Computational Complexity"
             accesskey="N">next</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="python-programming-101">
<h1><span class="section-number">1. </span>Python Programming 101<a class="headerlink" href="#python-programming-101" title="Permalink to this heading">¶</a></h1>
<p>This first chapter introduces Python to readers that have never programmed in Python before. It also provides instructions for installing Python on your computer. The Wing Integrated Development Environment (IDE) is recommended for students learning to program. Wing IDE 101 is the free version of the IDE for educational use. The chapter goes on to introduce classes, objects, and object-oriented programming by developing a drawing application using the Tkinter graphical user interface library.</p>
<p>An understanding of object-oriented programming concepts presented in this chapter is necessary before reading the rest of the text. The PyList datatype presented in this chapter is also used in subsequent chapters including chapter 2. Even if the reader has worked through an introductory text or has a basic understanding of Python, there are concepts from this first chapter that are used throughout the text.</p>
<section id="the-dog-class">
<h2><span class="section-number">1.1. </span>The Dog Class<a class="headerlink" href="#the-dog-class" title="Permalink to this heading">¶</a></h2>
<p>You can download the <a class="reference download internal" download="" href="../_downloads/4cbdff65004fc9bf3667dbbafa672aac/dog.py"><code class="xref download docutils literal notranslate"><span class="pre">Dog</span> <span class="pre">class</span></code></a> by clicking here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span> <span class="nc">Dog</span><span class="p">:</span>
<span class="linenos"> 2</span>    <span class="c1"># This is the constructor for the class. It is called whenever a Dog</span>
<span class="linenos"> 3</span>    <span class="c1"># object is created. The reference called &quot;self&quot; is created by Python</span>
<span class="linenos"> 4</span>    <span class="c1"># and made to point to the space for the newly created object. Python</span>
<span class="linenos"> 5</span>    <span class="c1"># does this automatically for us but we have to have &quot;self&quot; as the first</span>
<span class="linenos"> 6</span>    <span class="c1"># parameter to the __init__ method (i.e. the constructor). </span>
<span class="linenos"> 7</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">speakText</span><span class="p">):</span>
<span class="linenos"> 8</span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<span class="linenos"> 9</span>        <span class="bp">self</span><span class="o">.</span><span class="n">month</span> <span class="o">=</span> <span class="n">month</span>
<span class="linenos">10</span>        <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">day</span>
<span class="linenos">11</span>        <span class="bp">self</span><span class="o">.</span><span class="n">year</span> <span class="o">=</span> <span class="n">year</span>
<span class="linenos">12</span>        <span class="bp">self</span><span class="o">.</span><span class="n">speakText</span> <span class="o">=</span> <span class="n">speakText</span>
<span class="linenos">13</span>        
<span class="linenos">14</span>    <span class="c1"># This is an accessor method that returns the speakText stored in the</span>
<span class="linenos">15</span>    <span class="c1"># object. Notice that &quot;self&quot; is a parameter. Every method has &quot;self&quot; as its</span>
<span class="linenos">16</span>    <span class="c1"># first parameter. The &quot;self&quot; parameter is a reference to the current </span>
<span class="linenos">17</span>    <span class="c1"># object. The current object appears on the left hand side of the dot (i.e.</span>
<span class="linenos">18</span>    <span class="c1"># the .) when the method is called. </span>
<span class="linenos">19</span>    <span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">20</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">speakText</span>
<span class="linenos">21</span>    
<span class="linenos">22</span>    <span class="c1"># Here is an accessor method to get the name</span>
<span class="linenos">23</span>    <span class="k">def</span> <span class="nf">getName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">24</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
<span class="linenos">25</span>    
<span class="linenos">26</span>    <span class="c1"># This is another accessor method that uses the birthday information to </span>
<span class="linenos">27</span>    <span class="c1"># return a string representing the date.</span>
<span class="linenos">28</span>    <span class="k">def</span> <span class="nf">birthDate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">29</span>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
<span class="linenos">30</span>    
<span class="linenos">31</span>    <span class="c1"># This is a mutator method that changes the speakText of the Dog object.</span>
<span class="linenos">32</span>    <span class="k">def</span> <span class="nf">changeBark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">bark</span><span class="p">):</span>
<span class="linenos">33</span>        <span class="bp">self</span><span class="o">.</span><span class="n">speakText</span> <span class="o">=</span> <span class="n">bark</span>
<span class="linenos">34</span>        
<span class="linenos">35</span>    <span class="c1"># When creating the new puppy we don&#39;t know it&#39;s birthday. Pick the </span>
<span class="linenos">36</span>    <span class="c1"># first dog&#39;s birthday plus one year. The speakText will be the </span>
<span class="linenos">37</span>    <span class="c1"># concatenation of both dog&#39;s text. The dog on the left side of the + </span>
<span class="linenos">38</span>    <span class="c1"># operator is the object referenced by the &quot;self&quot; parameter. The </span>
<span class="linenos">39</span>    <span class="c1"># &quot;otherDog&quot; parameter is the dog on the right side of the + operator. </span>
<span class="linenos">40</span>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherDog</span><span class="p">):</span>
<span class="linenos">41</span>        <span class="k">return</span> <span class="n">Dog</span><span class="p">(</span><span class="s2">&quot;Puppy of &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot; and &quot;</span> <span class="o">+</span> <span class="n">otherDog</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> \
<span class="linenos">42</span>                   <span class="bp">self</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> \
<span class="linenos">43</span>                   <span class="bp">self</span><span class="o">.</span><span class="n">speakText</span> <span class="o">+</span> <span class="n">otherDog</span><span class="o">.</span><span class="n">speakText</span><span class="p">)</span>
<span class="linenos">44</span>  
<span class="linenos">45</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>      
<span class="linenos">46</span>    <span class="n">boyDog</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">(</span><span class="s2">&quot;Mesa&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="s2">&quot;WOOOOF&quot;</span><span class="p">)</span>
<span class="linenos">47</span>    <span class="n">girlDog</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">(</span><span class="s2">&quot;Sequoia&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="s2">&quot;barkbark&quot;</span><span class="p">)</span>
<span class="linenos">48</span>    <span class="nb">print</span><span class="p">(</span><span class="n">boyDog</span><span class="o">.</span><span class="n">speak</span><span class="p">())</span>
<span class="linenos">49</span>    <span class="nb">print</span><span class="p">(</span><span class="n">girlDog</span><span class="o">.</span><span class="n">speak</span><span class="p">())</span>
<span class="linenos">50</span>    <span class="nb">print</span><span class="p">(</span><span class="n">boyDog</span><span class="o">.</span><span class="n">birthDate</span><span class="p">())</span>
<span class="linenos">51</span>    <span class="nb">print</span><span class="p">(</span><span class="n">girlDog</span><span class="o">.</span><span class="n">birthDate</span><span class="p">())</span>
<span class="linenos">52</span>    <span class="n">boyDog</span><span class="o">.</span><span class="n">changeBark</span><span class="p">(</span><span class="s2">&quot;woofywoofy&quot;</span><span class="p">)</span>
<span class="linenos">53</span>    <span class="nb">print</span><span class="p">(</span><span class="n">boyDog</span><span class="o">.</span><span class="n">speak</span><span class="p">())</span>
<span class="linenos">54</span>    <span class="n">puppy</span> <span class="o">=</span> <span class="n">boyDog</span> <span class="o">+</span> <span class="n">girlDog</span>
<span class="linenos">55</span>    <span class="nb">print</span><span class="p">(</span><span class="n">puppy</span><span class="o">.</span><span class="n">speak</span><span class="p">())</span>
<span class="linenos">56</span>    <span class="nb">print</span><span class="p">(</span><span class="n">puppy</span><span class="o">.</span><span class="n">getName</span><span class="p">())</span>
<span class="linenos">57</span>    <span class="nb">print</span><span class="p">(</span><span class="n">puppy</span><span class="o">.</span><span class="n">birthDate</span><span class="p">())</span>
<span class="linenos">58</span>    
<span class="linenos">59</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">60</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-variable-length-records-draw-program">
<h2><span class="section-number">1.2. </span>The Variable Length Records Draw Program<a class="headerlink" href="#the-variable-length-records-draw-program" title="Permalink to this heading">¶</a></h2>
<p>You can download the <a class="reference download internal" download="" href="../_downloads/140a42a441a7d1045410839c1fb5793d/drawWithVariableLengthRecords.py"><code class="xref download docutils literal notranslate"><span class="pre">draw</span> <span class="pre">program</span> <span class="pre">with</span> <span class="pre">variable</span> <span class="pre">length</span> <span class="pre">records</span></code></a> by clicking this link.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># The imports include turtle graphics and tkinter modules. </span>
<span class="linenos">  2</span><span class="c1"># The colorchooser and filedialog modules let the user</span>
<span class="linenos">  3</span><span class="c1"># pick a color and a filename.</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">tkinter.colorchooser</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">tkinter.filedialog</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="c1"># The following classes define the different commands that </span>
<span class="linenos"> 10</span><span class="c1"># are supported by the drawing application. </span>
<span class="linenos"> 11</span><span class="k">class</span> <span class="nc">GoToCommand</span><span class="p">:</span>
<span class="linenos"> 12</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 13</span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="linenos"> 14</span>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 15</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 16</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 17</span>        
<span class="linenos"> 18</span>    <span class="c1"># The draw method for each command draws the command</span>
<span class="linenos"> 19</span>    <span class="c1"># using the given turtle</span>
<span class="linenos"> 20</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 21</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 22</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 23</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="linenos"> 24</span>        
<span class="linenos"> 25</span>    <span class="c1"># The __str__ method is a special method that is called</span>
<span class="linenos"> 26</span>    <span class="c1"># when a command is converted to a string. The string</span>
<span class="linenos"> 27</span>    <span class="c1"># version of the command is how it appears in the graphics</span>
<span class="linenos"> 28</span>    <span class="c1"># file format. </span>
<span class="linenos"> 29</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 30</span>        <span class="k">return</span> <span class="s2">&quot;goto</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> \
<span class="linenos"> 31</span>               <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> 
<span class="linenos"> 32</span>        
<span class="linenos"> 33</span><span class="k">class</span> <span class="nc">CircleCommand</span><span class="p">:</span>
<span class="linenos"> 34</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radius</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 35</span>        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
<span class="linenos"> 36</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 37</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 38</span>        
<span class="linenos"> 39</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 40</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 41</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 42</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
<span class="linenos"> 43</span>        
<span class="linenos"> 44</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 45</span>        <span class="k">return</span> <span class="s2">&quot;circle</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
<span class="linenos"> 46</span>        
<span class="linenos"> 47</span><span class="k">class</span> <span class="nc">BeginFillCommand</span><span class="p">:</span>
<span class="linenos"> 48</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
<span class="linenos"> 49</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 50</span>        
<span class="linenos"> 51</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 52</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 53</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">begin_fill</span><span class="p">()</span>
<span class="linenos"> 54</span>        
<span class="linenos"> 55</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 56</span>        <span class="k">return</span> <span class="s2">&quot;beginfill</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
<span class="linenos"> 57</span>        
<span class="linenos"> 58</span><span class="k">class</span> <span class="nc">EndFillCommand</span><span class="p">:</span>
<span class="linenos"> 59</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 60</span>        <span class="k">pass</span>
<span class="linenos"> 61</span>    
<span class="linenos"> 62</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 63</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">end_fill</span><span class="p">()</span>
<span class="linenos"> 64</span>        
<span class="linenos"> 65</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 66</span>        <span class="k">return</span> <span class="s2">&quot;endfill&quot;</span>
<span class="linenos"> 67</span>        
<span class="linenos"> 68</span><span class="k">class</span> <span class="nc">PenUpCommand</span><span class="p">:</span>
<span class="linenos"> 69</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 70</span>        <span class="k">pass</span>
<span class="linenos"> 71</span>    
<span class="linenos"> 72</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 73</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos"> 74</span>        
<span class="linenos"> 75</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 76</span>        <span class="k">return</span> <span class="s2">&quot;penup&quot;</span>
<span class="linenos"> 77</span>        
<span class="linenos"> 78</span><span class="k">class</span> <span class="nc">PenDownCommand</span><span class="p">:</span>
<span class="linenos"> 79</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 80</span>        <span class="k">pass</span>
<span class="linenos"> 81</span>    
<span class="linenos"> 82</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 83</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos"> 84</span>        
<span class="linenos"> 85</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 86</span>        <span class="k">return</span> <span class="s2">&quot;pendown&quot;</span>
<span class="linenos"> 87</span>
<span class="linenos"> 88</span><span class="c1"># This is the container class for a graphics sequence. It is meant</span>
<span class="linenos"> 89</span><span class="c1"># to hold the graphics commands sequence. </span>
<span class="linenos"> 90</span><span class="k">class</span> <span class="nc">PyList</span><span class="p">:</span>
<span class="linenos"> 91</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 92</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 93</span>        
<span class="linenos"> 94</span>    <span class="c1"># The append method is used to add commands to the sequence.</span>
<span class="linenos"> 95</span>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">item</span><span class="p">):</span>
<span class="linenos"> 96</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
<span class="linenos"> 97</span>        
<span class="linenos"> 98</span>    <span class="c1"># This method is used by the undo function. It slices the sequence</span>
<span class="linenos"> 99</span>    <span class="c1"># to remove the last item</span>
<span class="linenos">100</span>    <span class="k">def</span> <span class="nf">removeLast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">101</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos">102</span>       
<span class="linenos">103</span>    <span class="c1"># This special method is called when iterating over the sequence.</span>
<span class="linenos">104</span>    <span class="c1"># Each time yield is called another element of the sequence is returned</span>
<span class="linenos">105</span>    <span class="c1"># to the iterator (i.e. the for loop that called this.)</span>
<span class="linenos">106</span>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">107</span>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">:</span>
<span class="linenos">108</span>            <span class="k">yield</span> <span class="n">c</span>
<span class="linenos">109</span>    
<span class="linenos">110</span>    <span class="c1"># This is called when the len function is called on the sequence.        </span>
<span class="linenos">111</span>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">112</span>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">)</span>
<span class="linenos">113</span>       
<span class="linenos">114</span><span class="c1"># This class defines the drawing application. The following line says that</span>
<span class="linenos">115</span><span class="c1"># the DrawingApplication class inherits from the Frame class. This means</span>
<span class="linenos">116</span><span class="k">class</span> <span class="nc">DrawingApplication</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos">117</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">118</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">119</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">120</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>    
<span class="linenos">121</span>        <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">122</span>
<span class="linenos">123</span>    <span class="c1"># This method is called to load a file containing graphics commands</span>
<span class="linenos">124</span>    <span class="c1"># and add them to the self.graphicsCommands sequence.</span>
<span class="linenos">125</span>    <span class="k">def</span> <span class="nf">loadSequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">file</span><span class="p">):</span>
<span class="linenos">126</span>        <span class="n">command</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> 
<span class="linenos">127</span>        
<span class="linenos">128</span>        <span class="k">while</span> <span class="n">command</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<span class="linenos">129</span>            
<span class="linenos">130</span>            <span class="k">if</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;goto&quot;</span><span class="p">:</span>
<span class="linenos">131</span>                <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">132</span>                <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">133</span>                <span class="n">width</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">134</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">135</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">136</span>    
<span class="linenos">137</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;circle&quot;</span><span class="p">:</span>
<span class="linenos">138</span>                <span class="n">radius</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">139</span>                <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
<span class="linenos">140</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">141</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">142</span>    
<span class="linenos">143</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;beginfill&quot;</span><span class="p">:</span>
<span class="linenos">144</span>                <span class="n">color</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">145</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">146</span>    
<span class="linenos">147</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;endfill&quot;</span><span class="p">:</span>
<span class="linenos">148</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">149</span>                
<span class="linenos">150</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;penup&quot;</span><span class="p">:</span>
<span class="linenos">151</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">152</span>                
<span class="linenos">153</span>            <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;pendown&quot;</span><span class="p">:</span>
<span class="linenos">154</span>                <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">155</span>            <span class="k">else</span><span class="p">:</span>
<span class="linenos">156</span>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unknown Command: &quot;</span> <span class="o">+</span> <span class="n">command</span><span class="p">)</span> 
<span class="linenos">157</span>    
<span class="linenos">158</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">159</span>            <span class="n">command</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">160</span>        
<span class="linenos">161</span>    <span class="c1"># This method is called to create all the widgets, place them in the GUI,</span>
<span class="linenos">162</span>    <span class="c1"># and define the event handlers for the application.</span>
<span class="linenos">163</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">164</span>        
<span class="linenos">165</span>        <span class="c1"># The master is the root window. The title is set as below. </span>
<span class="linenos">166</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Draw&quot;</span><span class="p">)</span>
<span class="linenos">167</span>        
<span class="linenos">168</span>        <span class="c1"># Here is how to create a menu bar. The tearoff=0 means that menus</span>
<span class="linenos">169</span>        <span class="c1"># can&#39;t be separated from the window which is a feature of tkinter.</span>
<span class="linenos">170</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">171</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">172</span>        
<span class="linenos">173</span>        <span class="c1"># This code is called by the &quot;New&quot; menu item below when it is selected.</span>
<span class="linenos">174</span>        <span class="c1"># The same applies for loadFile, addToFile, and saveFile below. The </span>
<span class="linenos">175</span>        <span class="c1"># &quot;Exit&quot; menu item below calls quit on the &quot;master&quot; or root window. </span>
<span class="linenos">176</span>        <span class="k">def</span> <span class="nf">newWindow</span><span class="p">():</span>
<span class="linenos">177</span>            <span class="c1"># This sets up the turtle to be ready for a new picture to be </span>
<span class="linenos">178</span>            <span class="c1"># drawn. It also sets the sequence back to empty. It is necessary</span>
<span class="linenos">179</span>            <span class="c1"># for the graphicsCommands sequence to be in the object (i.e. </span>
<span class="linenos">180</span>            <span class="c1"># self.graphicsCommands) because otherwise the statement:</span>
<span class="linenos">181</span>            <span class="c1"># graphicsCommands = PyList()</span>
<span class="linenos">182</span>            <span class="c1"># would make this variable a local variable in the newWindow </span>
<span class="linenos">183</span>            <span class="c1"># method. If it were local, it would not be set anymore once the</span>
<span class="linenos">184</span>            <span class="c1"># newWindow method returned.</span>
<span class="linenos">185</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">186</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">187</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">188</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>  
<span class="linenos">189</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">190</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">191</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">192</span>            
<span class="linenos">193</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">newWindow</span><span class="p">)</span>
<span class="linenos">194</span>            
<span class="linenos">195</span>        <span class="k">def</span> <span class="nf">loadFile</span><span class="p">():</span>
<span class="linenos">196</span>
<span class="linenos">197</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">198</span>            <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="linenos">199</span>            
<span class="linenos">200</span>            <span class="n">newWindow</span><span class="p">()</span>
<span class="linenos">201</span>            
<span class="linenos">202</span>            <span class="c1"># This re-initializes the sequence for the new picture. </span>
<span class="linenos">203</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">204</span>            
<span class="linenos">205</span>            <span class="c1"># calling loadSequence will read the graphics commands from the file.</span>
<span class="linenos">206</span>            <span class="bp">self</span><span class="o">.</span><span class="n">loadSequence</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="linenos">207</span>               
<span class="linenos">208</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">209</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">210</span>                
<span class="linenos">211</span>            <span class="c1"># This line is necessary to update the window after the picture is drawn.</span>
<span class="linenos">212</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">213</span>            
<span class="linenos">214</span>            
<span class="linenos">215</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">loadFile</span><span class="p">)</span>
<span class="linenos">216</span>        
<span class="linenos">217</span>        <span class="k">def</span> <span class="nf">addToFile</span><span class="p">():</span>
<span class="linenos">218</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">219</span>            <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="linenos">220</span>            
<span class="linenos">221</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">222</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">223</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">224</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">225</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">226</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">227</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">228</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">229</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">230</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">231</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">232</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">233</span>            <span class="bp">self</span><span class="o">.</span><span class="n">loadSequence</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="linenos">234</span>               
<span class="linenos">235</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">236</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">237</span>                
<span class="linenos">238</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>            
<span class="linenos">239</span>        
<span class="linenos">240</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load Into...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">addToFile</span><span class="p">)</span>
<span class="linenos">241</span>        
<span class="linenos">242</span>        <span class="k">def</span> <span class="nf">saveFile</span><span class="p">():</span>
<span class="linenos">243</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Save Picture As...&quot;</span><span class="p">)</span>
<span class="linenos">244</span>            <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="linenos">245</span>            
<span class="linenos">246</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">247</span>                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">248</span>                
<span class="linenos">249</span>            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="linenos">250</span>            
<span class="linenos">251</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save As...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">saveFile</span><span class="p">)</span>
<span class="linenos">252</span>        
<span class="linenos">253</span>
<span class="linenos">254</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">255</span>        
<span class="linenos">256</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">257</span>        
<span class="linenos">258</span>        <span class="c1"># This tells the root window to display the newly created menu bar.</span>
<span class="linenos">259</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>    
<span class="linenos">260</span>        
<span class="linenos">261</span>        <span class="c1"># Here several widgets are created. The canvas is the drawing area on </span>
<span class="linenos">262</span>        <span class="c1"># the left side of the window. </span>
<span class="linenos">263</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">264</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">265</span>        
<span class="linenos">266</span>        <span class="c1"># By creating a RawTurtle, we can have the turtle draw on this canvas. </span>
<span class="linenos">267</span>        <span class="c1"># Otherwise, a RawTurtle and a Turtle are exactly the same.</span>
<span class="linenos">268</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">269</span>        
<span class="linenos">270</span>        <span class="c1"># This makes the shape of the turtle a circle. </span>
<span class="linenos">271</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="linenos">272</span>        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
<span class="linenos">273</span>        
<span class="linenos">274</span>        <span class="c1"># This causes the application to not update the screen unless </span>
<span class="linenos">275</span>        <span class="c1"># screen.update() is called. This is necessary for the ondrag event</span>
<span class="linenos">276</span>        <span class="c1"># handler below. Without it, the program bombs after dragging the </span>
<span class="linenos">277</span>        <span class="c1"># turtle around for a while.</span>
<span class="linenos">278</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">279</span>    
<span class="linenos">280</span>        <span class="c1"># This is the area on the right side of the window where all the </span>
<span class="linenos">281</span>        <span class="c1"># buttons, labels, and entry boxes are located. The pad creates some empty </span>
<span class="linenos">282</span>        <span class="c1"># space around the side. The side puts the sideBar on the right side of the </span>
<span class="linenos">283</span>        <span class="c1"># this frame. The fill tells it to fill in all space available on the right</span>
<span class="linenos">284</span>        <span class="c1"># side. </span>
<span class="linenos">285</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">286</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">287</span>        
<span class="linenos">288</span>        <span class="c1"># This is a label widget. Packing it puts it at the top of the sidebar.</span>
<span class="linenos">289</span>        <span class="n">pointLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Width&quot;</span><span class="p">)</span>
<span class="linenos">290</span>        <span class="n">pointLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">291</span>        
<span class="linenos">292</span>        <span class="c1"># This entry widget allows the user to pick a width for their lines. </span>
<span class="linenos">293</span>        <span class="c1"># With the widthSize variable below you can write widthSize.get() to get</span>
<span class="linenos">294</span>        <span class="c1"># the contents of the entry widget and widthSize.set(val) to set the value</span>
<span class="linenos">295</span>        <span class="c1"># of the entry widget to val. Initially the widthSize is set to 1. str(1) is needed because</span>
<span class="linenos">296</span>        <span class="c1"># the entry widget must be given a string. </span>
<span class="linenos">297</span>        <span class="n">widthSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">298</span>        <span class="n">widthEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">widthSize</span><span class="p">)</span>
<span class="linenos">299</span>        <span class="n">widthEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">300</span>        <span class="n">widthSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">301</span>        
<span class="linenos">302</span>        <span class="n">radiusLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Radius&quot;</span><span class="p">)</span>
<span class="linenos">303</span>        <span class="n">radiusLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">304</span>        <span class="n">radiusSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">305</span>        <span class="n">radiusEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">radiusSize</span><span class="p">)</span>
<span class="linenos">306</span>        <span class="n">radiusSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="linenos">307</span>        <span class="n">radiusEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">308</span>        
<span class="linenos">309</span>        <span class="c1"># A button widget calls an event handler when it is pressed. The circleHandler</span>
<span class="linenos">310</span>        <span class="c1"># function below is the event handler when the Draw Circle button is pressed. </span>
<span class="linenos">311</span>        <span class="k">def</span> <span class="nf">circleHandler</span><span class="p">():</span>
<span class="linenos">312</span>            <span class="c1"># When drawing, a command is created and then the command is drawn by calling</span>
<span class="linenos">313</span>            <span class="c1"># the draw method. Adding the command to the graphicsCommands sequence means the</span>
<span class="linenos">314</span>            <span class="c1"># application will remember the picture. </span>
<span class="linenos">315</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">radiusSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">316</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">317</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">318</span>            
<span class="linenos">319</span>            <span class="c1"># These two lines are needed to update the screen and to put the focus back</span>
<span class="linenos">320</span>            <span class="c1"># in the drawing canvas. This is necessary because when pressing &quot;u&quot; to undo,</span>
<span class="linenos">321</span>            <span class="c1"># the screen must have focus to receive the key press. </span>
<span class="linenos">322</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">323</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">324</span>        
<span class="linenos">325</span>        <span class="c1"># This creates the button widget in the sideBar. The fill=tkinter.BOTH causes the button</span>
<span class="linenos">326</span>        <span class="c1"># to expand to fill the entire width of the sideBar.</span>
<span class="linenos">327</span>        <span class="n">circleButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Draw Circle&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">circleHandler</span><span class="p">)</span>
<span class="linenos">328</span>        <span class="n">circleButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>             
<span class="linenos">329</span>
<span class="linenos">330</span>        <span class="c1"># The color mode 255 below allows colors to be specified in RGB form (i.e. Red/</span>
<span class="linenos">331</span>        <span class="c1"># Green/Blue). The mode allows the Red value to be set by a two digit hexadecimal</span>
<span class="linenos">332</span>        <span class="c1"># number ranging from 00-FF. The same applies for Blue and Green values. The </span>
<span class="linenos">333</span>        <span class="c1"># color choosers below return a string representing the selected color and a slice</span>
<span class="linenos">334</span>        <span class="c1"># is taken to extract the #RRGGBB hexadecimal string that the color choosers return.</span>
<span class="linenos">335</span>        <span class="n">screen</span><span class="o">.</span><span class="n">colormode</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="linenos">336</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Color&quot;</span><span class="p">)</span>
<span class="linenos">337</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">338</span>        <span class="n">penColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">339</span>        <span class="n">penEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">penColor</span><span class="p">)</span>
<span class="linenos">340</span>        <span class="n">penEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">341</span>        <span class="c1"># This is the color black.</span>
<span class="linenos">342</span>        <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>  
<span class="linenos">343</span>        
<span class="linenos">344</span>        <span class="k">def</span> <span class="nf">getPenColor</span><span class="p">():</span>
<span class="linenos">345</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">346</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">347</span>                <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">348</span>            
<span class="linenos">349</span>        <span class="n">penColorButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Pen Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getPenColor</span><span class="p">)</span>
<span class="linenos">350</span>        <span class="n">penColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>           
<span class="linenos">351</span>            
<span class="linenos">352</span>        <span class="n">fillLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fill Color&quot;</span><span class="p">)</span>
<span class="linenos">353</span>        <span class="n">fillLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">354</span>        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">355</span>        <span class="n">fillEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">fillColor</span><span class="p">)</span>
<span class="linenos">356</span>        <span class="n">fillEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">357</span>        <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>     
<span class="linenos">358</span>        
<span class="linenos">359</span>        <span class="k">def</span> <span class="nf">getFillColor</span><span class="p">():</span>
<span class="linenos">360</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">361</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>    
<span class="linenos">362</span>                <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>       
<span class="linenos">363</span>   
<span class="linenos">364</span>        <span class="n">fillColorButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Fill Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getFillColor</span><span class="p">)</span>
<span class="linenos">365</span>        <span class="n">fillColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">366</span>
<span class="linenos">367</span>
<span class="linenos">368</span>        <span class="k">def</span> <span class="nf">beginFillHandler</span><span class="p">():</span>
<span class="linenos">369</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">fillColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">370</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">371</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">372</span>            
<span class="linenos">373</span>        <span class="n">beginFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Begin Fill&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">beginFillHandler</span><span class="p">)</span>
<span class="linenos">374</span>        <span class="n">beginFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">375</span>        
<span class="linenos">376</span>        <span class="k">def</span> <span class="nf">endFillHandler</span><span class="p">():</span>
<span class="linenos">377</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">378</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">379</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">380</span>            
<span class="linenos">381</span>        <span class="n">endFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;End Fill&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">endFillHandler</span><span class="p">)</span>
<span class="linenos">382</span>        <span class="n">endFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">383</span> 
<span class="linenos">384</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">385</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">386</span>        
<span class="linenos">387</span>        <span class="k">def</span> <span class="nf">penUpHandler</span><span class="p">():</span>
<span class="linenos">388</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">389</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">390</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Up&quot;</span><span class="p">)</span>
<span class="linenos">391</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">392</span>
<span class="linenos">393</span>        <span class="n">penUpButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Up&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penUpHandler</span><span class="p">)</span>
<span class="linenos">394</span>        <span class="n">penUpButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">395</span>       
<span class="linenos">396</span>        <span class="k">def</span> <span class="nf">penDownHandler</span><span class="p">():</span>
<span class="linenos">397</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">398</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">399</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">400</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">401</span>
<span class="linenos">402</span>        <span class="n">penDownButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Down&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penDownHandler</span><span class="p">)</span>
<span class="linenos">403</span>        <span class="n">penDownButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>          
<span class="linenos">404</span>
<span class="linenos">405</span>        <span class="c1"># Here is another event handler. This one handles mouse clicks on the screen.</span>
<span class="linenos">406</span>        <span class="k">def</span> <span class="nf">clickHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span> 
<span class="linenos">407</span>            <span class="c1"># When a mouse click occurs, get the widthSize entry value and set the width of the </span>
<span class="linenos">408</span>            <span class="c1"># pen to the widthSize value. The int(widthSize.get()) is needed because</span>
<span class="linenos">409</span>            <span class="c1"># the width is an integer, but the entry widget stores it as a string.</span>
<span class="linenos">410</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">411</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">412</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>          
<span class="linenos">413</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">414</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">415</span>           
<span class="linenos">416</span>        <span class="c1"># Here is how we tie the clickHandler to mouse clicks.</span>
<span class="linenos">417</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">clickHandler</span><span class="p">)</span>  
<span class="linenos">418</span>        
<span class="linenos">419</span>        <span class="k">def</span> <span class="nf">dragHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">420</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">421</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">422</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>  
<span class="linenos">423</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">424</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">425</span>            
<span class="linenos">426</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ondrag</span><span class="p">(</span><span class="n">dragHandler</span><span class="p">)</span>
<span class="linenos">427</span>        
<span class="linenos">428</span>        <span class="c1"># the undoHandler undoes the last command by removing it from the </span>
<span class="linenos">429</span>        <span class="c1"># sequence and then redrawing the entire picture. </span>
<span class="linenos">430</span>        <span class="k">def</span> <span class="nf">undoHandler</span><span class="p">():</span>
<span class="linenos">431</span>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">432</span>                <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">removeLast</span><span class="p">()</span>
<span class="linenos">433</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">434</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">435</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">436</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">437</span>                <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">438</span>                    <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">439</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">440</span>                <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">441</span>                
<span class="linenos">442</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">undoHandler</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
<span class="linenos">443</span>        <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">444</span>   
<span class="linenos">445</span><span class="c1"># The main function in our GUI program is very simple. It creates the </span>
<span class="linenos">446</span><span class="c1"># root window. Then it creates the DrawingApplication frame which creates </span>
<span class="linenos">447</span><span class="c1"># all the widgets and has the logic for the event handlers. Calling mainloop</span>
<span class="linenos">448</span><span class="c1"># on the frames makes it start listening for events. The mainloop function will </span>
<span class="linenos">449</span><span class="c1"># return when the application is exited. </span>
<span class="linenos">450</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">451</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>  
<span class="linenos">452</span>    <span class="n">drawingApp</span> <span class="o">=</span> <span class="n">DrawingApplication</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>  
<span class="linenos">453</span>
<span class="linenos">454</span>    <span class="n">drawingApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">455</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">456</span>        
<span class="linenos">457</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">458</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-final-xml-draw-program">
<h2><span class="section-number">1.3. </span>The Final XML Draw Program<a class="headerlink" href="#the-final-xml-draw-program" title="Permalink to this heading">¶</a></h2>
<p>You can download the <a class="reference download internal" download="" href="../_downloads/242df20c9bb8eb3c80e4399c56eaaef2/draw.py"><code class="xref download docutils literal notranslate"><span class="pre">final</span> <span class="pre">draw</span> <span class="pre">program</span> <span class="pre">with</span> <span class="pre">XML</span> <span class="pre">support</span></code></a> from Appendix H of the text by clicking this link.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># The imports include turtle graphics and tkinter modules. </span>
<span class="linenos">  2</span><span class="c1"># The colorchooser and filedialog modules let the user</span>
<span class="linenos">  3</span><span class="c1"># pick a color and a filename.</span>
<span class="linenos">  4</span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="linenos">  5</span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">tkinter.colorchooser</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">tkinter.filedialog</span>
<span class="linenos">  8</span><span class="kn">import</span> <span class="nn">xml.dom.minidom</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="c1"># The following classes define the different commands that </span>
<span class="linenos"> 11</span><span class="c1"># are supported by the drawing application. </span>
<span class="linenos"> 12</span><span class="k">class</span> <span class="nc">GoToCommand</span><span class="p">:</span>
<span class="linenos"> 13</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 14</span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="linenos"> 15</span>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
<span class="linenos"> 16</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 17</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 18</span>        
<span class="linenos"> 19</span>    <span class="c1"># The draw method for each command draws the command</span>
<span class="linenos"> 20</span>    <span class="c1"># using the given turtle</span>
<span class="linenos"> 21</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 22</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 23</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 24</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="linenos"> 25</span>        
<span class="linenos"> 26</span>    <span class="c1"># The __str__ method is a special method that is called</span>
<span class="linenos"> 27</span>    <span class="c1"># when a command is converted to a string. The string</span>
<span class="linenos"> 28</span>    <span class="c1"># version of the command is how it appears in the graphics</span>
<span class="linenos"> 29</span>    <span class="c1"># file format. </span>
<span class="linenos"> 30</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 31</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command x=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; y=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> \
<span class="linenos"> 32</span>               <span class="s1">&#39;&quot; width=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> \
<span class="linenos"> 33</span>               <span class="o">+</span> <span class="s1">&#39;&quot; color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;GoTo&lt;/Command&gt;&#39;</span> 
<span class="linenos"> 34</span>        
<span class="linenos"> 35</span><span class="k">class</span> <span class="nc">CircleCommand</span><span class="p">:</span>
<span class="linenos"> 36</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">radius</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
<span class="linenos"> 37</span>        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
<span class="linenos"> 38</span>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="linenos"> 39</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 40</span>        
<span class="linenos"> 41</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 42</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="linenos"> 43</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 44</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span>
<span class="linenos"> 45</span>        
<span class="linenos"> 46</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 47</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command radius=&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; width=&quot;&#39;</span> <span class="o">+</span> \
<span class="linenos"> 48</span>               <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot; color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;Circle&lt;/Command&gt;&#39;</span>
<span class="linenos"> 49</span>        
<span class="linenos"> 50</span><span class="k">class</span> <span class="nc">BeginFillCommand</span><span class="p">:</span>
<span class="linenos"> 51</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
<span class="linenos"> 52</span>        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
<span class="linenos"> 53</span>        
<span class="linenos"> 54</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 55</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
<span class="linenos"> 56</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">begin_fill</span><span class="p">()</span>
<span class="linenos"> 57</span>        
<span class="linenos"> 58</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 59</span>        <span class="k">return</span> <span class="s1">&#39;&lt;Command color=&quot;&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;BeginFill&lt;/Command&gt;&#39;</span>
<span class="linenos"> 60</span>        
<span class="linenos"> 61</span><span class="k">class</span> <span class="nc">EndFillCommand</span><span class="p">:</span>
<span class="linenos"> 62</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 63</span>        <span class="k">pass</span>
<span class="linenos"> 64</span>    
<span class="linenos"> 65</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 66</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">end_fill</span><span class="p">()</span>
<span class="linenos"> 67</span>        
<span class="linenos"> 68</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 69</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;EndFill&lt;/Command&gt;&quot;</span>
<span class="linenos"> 70</span>        
<span class="linenos"> 71</span><span class="k">class</span> <span class="nc">PenUpCommand</span><span class="p">:</span>
<span class="linenos"> 72</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 73</span>        <span class="k">pass</span>
<span class="linenos"> 74</span>    
<span class="linenos"> 75</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 76</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos"> 77</span>        
<span class="linenos"> 78</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 79</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;PenUp&lt;/Command&gt;&quot;</span>
<span class="linenos"> 80</span>        
<span class="linenos"> 81</span><span class="k">class</span> <span class="nc">PenDownCommand</span><span class="p">:</span>
<span class="linenos"> 82</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 83</span>        <span class="k">pass</span>
<span class="linenos"> 84</span>    
<span class="linenos"> 85</span>    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">turtle</span><span class="p">):</span>
<span class="linenos"> 86</span>        <span class="n">turtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos"> 87</span>        
<span class="linenos"> 88</span>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 89</span>        <span class="k">return</span> <span class="s2">&quot;&lt;Command&gt;PenDown&lt;/Command&gt;&quot;</span>
<span class="linenos"> 90</span>
<span class="linenos"> 91</span><span class="c1"># This is the PyList container object. It is meant to hold a  </span>
<span class="linenos"> 92</span><span class="k">class</span> <span class="nc">PyList</span><span class="p">:</span>
<span class="linenos"> 93</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 94</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 95</span>        
<span class="linenos"> 96</span>    <span class="c1"># The append method is used to add commands to the sequence.</span>
<span class="linenos"> 97</span>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">item</span><span class="p">):</span>
<span class="linenos"> 98</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">+</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
<span class="linenos"> 99</span>        
<span class="linenos">100</span>    <span class="c1"># This method is used by the undo function. It slices the sequence</span>
<span class="linenos">101</span>    <span class="c1"># to remove the last item</span>
<span class="linenos">102</span>    <span class="k">def</span> <span class="nf">removeLast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">103</span>        <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos">104</span>       
<span class="linenos">105</span>    <span class="c1"># This special method is called when iterating over the sequence.</span>
<span class="linenos">106</span>    <span class="c1"># Each time yield is called another element of the sequence is returned</span>
<span class="linenos">107</span>    <span class="c1"># to the iterator (i.e. the for loop that called this.)</span>
<span class="linenos">108</span>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">109</span>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">:</span>
<span class="linenos">110</span>            <span class="k">yield</span> <span class="n">c</span>
<span class="linenos">111</span>    
<span class="linenos">112</span>    <span class="c1"># This is called when the len function is called on the sequence.        </span>
<span class="linenos">113</span>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">114</span>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gcList</span><span class="p">)</span>            
<span class="linenos">115</span>        
<span class="linenos">116</span><span class="c1"># This class defines the drawing application. The following line says that</span>
<span class="linenos">117</span><span class="c1"># the DrawingApplication class inherits from the Frame class. This means </span>
<span class="linenos">118</span><span class="c1"># that a DrawingApplication is like a Frame object except for the code</span>
<span class="linenos">119</span><span class="c1"># written here which redefines/extends the behavior of a Frame. </span>
<span class="linenos">120</span><span class="k">class</span> <span class="nc">DrawingApplication</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
<span class="linenos">121</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">122</span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">123</span>        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">124</span>        <span class="bp">self</span><span class="o">.</span><span class="n">buildWindow</span><span class="p">()</span>    
<span class="linenos">125</span>        <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">126</span> 
<span class="linenos">127</span>    <span class="c1"># This method is called to create all the widgets, place them in the GUI,</span>
<span class="linenos">128</span>    <span class="c1"># and define the event handlers for the application.</span>
<span class="linenos">129</span>    <span class="k">def</span> <span class="nf">buildWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">130</span>        
<span class="linenos">131</span>        <span class="c1"># The master is the root window. The title is set as below. </span>
<span class="linenos">132</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Draw&quot;</span><span class="p">)</span>
<span class="linenos">133</span>        
<span class="linenos">134</span>        <span class="c1"># Here is how to create a menu bar. The tearoff=0 means that menus</span>
<span class="linenos">135</span>        <span class="c1"># can&#39;t be separated from the window which is a feature of tkinter.</span>
<span class="linenos">136</span>        <span class="n">bar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="p">)</span>
<span class="linenos">137</span>        <span class="n">fileMenu</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">138</span>        
<span class="linenos">139</span>        <span class="c1"># This code is called by the &quot;New&quot; menu item below when it is selected.</span>
<span class="linenos">140</span>        <span class="c1"># The same applies for loadFile, addToFile, and saveFile below. The </span>
<span class="linenos">141</span>        <span class="c1"># &quot;Exit&quot; menu item below calls quit on the &quot;master&quot; or root window. </span>
<span class="linenos">142</span>        <span class="k">def</span> <span class="nf">newWindow</span><span class="p">():</span>
<span class="linenos">143</span>            <span class="c1"># This sets up the turtle to be ready for a new picture to be </span>
<span class="linenos">144</span>            <span class="c1"># drawn. It also sets the sequence back to empty. It is necessary</span>
<span class="linenos">145</span>            <span class="c1"># for the graphicsCommands sequence to be in the object (i.e. </span>
<span class="linenos">146</span>            <span class="c1"># self.graphicsCommands) because otherwise the statement:</span>
<span class="linenos">147</span>            <span class="c1"># graphicsCommands = PyList()</span>
<span class="linenos">148</span>            <span class="c1"># would make this variable a local variable in the newWindow </span>
<span class="linenos">149</span>            <span class="c1"># method. If it were local, it would not be set anymore once the</span>
<span class="linenos">150</span>            <span class="c1"># newWindow method returned.</span>
<span class="linenos">151</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">152</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">153</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">154</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>  
<span class="linenos">155</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">156</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">157</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">158</span>            
<span class="linenos">159</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">newWindow</span><span class="p">)</span>
<span class="linenos">160</span>
<span class="linenos">161</span>        <span class="c1"># The parse function adds the contents of an XML file to the sequence.</span>
<span class="linenos">162</span>        <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<span class="linenos">163</span>            <span class="n">xmldoc</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">dom</span><span class="o">.</span><span class="n">minidom</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">164</span>            
<span class="linenos">165</span>            <span class="n">graphicsCommandsElement</span> <span class="o">=</span> <span class="n">xmldoc</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;GraphicsCommands&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">166</span>            
<span class="linenos">167</span>            <span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">graphicsCommandsElement</span><span class="o">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;Command&quot;</span><span class="p">)</span>
<span class="linenos">168</span>            
<span class="linenos">169</span>            <span class="k">for</span> <span class="n">commandElement</span> <span class="ow">in</span> <span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">170</span>                <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">commandElement</span><span class="p">))</span>
<span class="linenos">171</span>                <span class="n">command</span> <span class="o">=</span> <span class="n">commandElement</span><span class="o">.</span><span class="n">firstChild</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">172</span>                <span class="n">attr</span> <span class="o">=</span> <span class="n">commandElement</span><span class="o">.</span><span class="n">attributes</span>
<span class="linenos">173</span>                <span class="k">if</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;GoTo&quot;</span><span class="p">:</span>
<span class="linenos">174</span>                    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">175</span>                    <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">176</span>                    <span class="n">width</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">177</span>                    <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">178</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">179</span>        
<span class="linenos">180</span>                <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;Circle&quot;</span><span class="p">:</span>
<span class="linenos">181</span>                    <span class="n">radius</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;radius&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">182</span>                    <span class="n">width</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="linenos">183</span>                    <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">184</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">185</span>        
<span class="linenos">186</span>                <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;BeginFill&quot;</span><span class="p">:</span>
<span class="linenos">187</span>                    <span class="n">color</span> <span class="o">=</span> <span class="n">attr</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="linenos">188</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
<span class="linenos">189</span>        
<span class="linenos">190</span>                <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;EndFill&quot;</span><span class="p">:</span>
<span class="linenos">191</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">192</span>                    
<span class="linenos">193</span>                <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;PenUp&quot;</span><span class="p">:</span>
<span class="linenos">194</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">195</span>                    
<span class="linenos">196</span>                <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;PenDown&quot;</span><span class="p">:</span>
<span class="linenos">197</span>                    <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">198</span>                <span class="k">else</span><span class="p">:</span>
<span class="linenos">199</span>                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unknown Command: &quot;</span> <span class="o">+</span> <span class="n">command</span><span class="p">)</span> 
<span class="linenos">200</span>        
<span class="linenos">201</span>                <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">202</span>
<span class="linenos">203</span>        <span class="k">def</span> <span class="nf">loadFile</span><span class="p">():</span>
<span class="linenos">204</span>
<span class="linenos">205</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">206</span>            
<span class="linenos">207</span>            <span class="n">newWindow</span><span class="p">()</span>
<span class="linenos">208</span>            
<span class="linenos">209</span>            <span class="c1"># This re-initializes the sequence for the new picture. </span>
<span class="linenos">210</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span> <span class="o">=</span> <span class="n">PyList</span><span class="p">()</span>
<span class="linenos">211</span>            
<span class="linenos">212</span>            <span class="c1"># calling parse will read the graphics commands from the file.</span>
<span class="linenos">213</span>            <span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">214</span>               
<span class="linenos">215</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">216</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">217</span>                
<span class="linenos">218</span>            <span class="c1"># This line is necessary to update the window after the picture is drawn.</span>
<span class="linenos">219</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">220</span>            
<span class="linenos">221</span>            
<span class="linenos">222</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">loadFile</span><span class="p">)</span>
<span class="linenos">223</span>        
<span class="linenos">224</span>        <span class="k">def</span> <span class="nf">addToFile</span><span class="p">():</span>
<span class="linenos">225</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select a Graphics File&quot;</span><span class="p">)</span>
<span class="linenos">226</span>            
<span class="linenos">227</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">228</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">229</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">230</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">pencolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">231</span>            <span class="n">theTurtle</span><span class="o">.</span><span class="n">fillcolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">232</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">233</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">234</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="linenos">235</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">236</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">237</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">238</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">239</span>            <span class="n">parse</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">240</span>               
<span class="linenos">241</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">242</span>                <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">243</span>                
<span class="linenos">244</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>            
<span class="linenos">245</span>        
<span class="linenos">246</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Load Into...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">addToFile</span><span class="p">)</span>
<span class="linenos">247</span>        
<span class="linenos">248</span>        <span class="c1"># The write function writes an XML file to the given filename</span>
<span class="linenos">249</span>        <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<span class="linenos">250</span>            <span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="linenos">251</span>            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">252</span>            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;GraphicsCommands&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">253</span>            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">254</span>                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">255</span>                
<span class="linenos">256</span>            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;&lt;/GraphicsCommands&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">257</span>                
<span class="linenos">258</span>            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  
<span class="linenos">259</span>
<span class="linenos">260</span>        <span class="k">def</span> <span class="nf">saveFile</span><span class="p">():</span>
<span class="linenos">261</span>            <span class="n">filename</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Save Picture As...&quot;</span><span class="p">)</span>
<span class="linenos">262</span>            <span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="linenos">263</span>            
<span class="linenos">264</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Save As...&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="n">saveFile</span><span class="p">)</span>
<span class="linenos">265</span>        
<span class="linenos">266</span>
<span class="linenos">267</span>        <span class="n">fileMenu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
<span class="linenos">268</span>        
<span class="linenos">269</span>        <span class="n">bar</span><span class="o">.</span><span class="n">add_cascade</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;File&quot;</span><span class="p">,</span><span class="n">menu</span><span class="o">=</span><span class="n">fileMenu</span><span class="p">)</span>
<span class="linenos">270</span>        
<span class="linenos">271</span>        <span class="c1"># This tells the root window to display the newly created menu bar.</span>
<span class="linenos">272</span>        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">menu</span><span class="o">=</span><span class="n">bar</span><span class="p">)</span>    
<span class="linenos">273</span>        
<span class="linenos">274</span>        <span class="c1"># Here several widgets are created. The canvas is the drawing area on </span>
<span class="linenos">275</span>        <span class="c1"># the left side of the window. </span>
<span class="linenos">276</span>        <span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="linenos">277</span>        <span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
<span class="linenos">278</span>        
<span class="linenos">279</span>        <span class="c1"># By creating a RawTurtle, we can have the turtle draw on this canvas. </span>
<span class="linenos">280</span>        <span class="c1"># Otherwise, a RawTurtle and a Turtle are exactly the same.</span>
<span class="linenos">281</span>        <span class="n">theTurtle</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">RawTurtle</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
<span class="linenos">282</span>        
<span class="linenos">283</span>        <span class="c1"># This makes the shape of the turtle a circle. </span>
<span class="linenos">284</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="s2">&quot;circle&quot;</span><span class="p">)</span>
<span class="linenos">285</span>        <span class="n">screen</span> <span class="o">=</span> <span class="n">theTurtle</span><span class="o">.</span><span class="n">getscreen</span><span class="p">()</span>
<span class="linenos">286</span>        
<span class="linenos">287</span>        <span class="c1"># This causes the application to not update the screen unless </span>
<span class="linenos">288</span>        <span class="c1"># screen.update() is called. This is necessary for the ondrag event</span>
<span class="linenos">289</span>        <span class="c1"># handler below. Without it, the program bombs after dragging the </span>
<span class="linenos">290</span>        <span class="c1"># turtle around for a while.</span>
<span class="linenos">291</span>        <span class="n">screen</span><span class="o">.</span><span class="n">tracer</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">292</span>    
<span class="linenos">293</span>        <span class="c1"># This is the area on the right side of the window where all the </span>
<span class="linenos">294</span>        <span class="c1"># buttons, labels, and entry boxes are located. The pad creates some empty </span>
<span class="linenos">295</span>        <span class="c1"># space around the side. The side puts the sideBar on the right side of the </span>
<span class="linenos">296</span>        <span class="c1"># this frame. The fill tells it to fill in all space available on the right</span>
<span class="linenos">297</span>        <span class="c1"># side. </span>
<span class="linenos">298</span>        <span class="n">sideBar</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">299</span>        <span class="n">sideBar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>
<span class="linenos">300</span>        
<span class="linenos">301</span>        <span class="c1"># This is a label widget. Packing it puts it at the top of the sidebar.</span>
<span class="linenos">302</span>        <span class="n">pointLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Width&quot;</span><span class="p">)</span>
<span class="linenos">303</span>        <span class="n">pointLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">304</span>        
<span class="linenos">305</span>        <span class="c1"># This entry widget allows the user to pick a width for their lines. </span>
<span class="linenos">306</span>        <span class="c1"># With the widthSize variable below you can write widthSize.get() to get</span>
<span class="linenos">307</span>        <span class="c1"># the contents of the entry widget and widthSize.set(val) to set the value</span>
<span class="linenos">308</span>        <span class="c1"># of the entry widget to val. Initially the widthSize is set to 1. str(1) is </span>
<span class="linenos">309</span>        <span class="c1"># needed because the entry widget must be given a string. </span>
<span class="linenos">310</span>        <span class="n">widthSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">311</span>        <span class="n">widthEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">widthSize</span><span class="p">)</span>
<span class="linenos">312</span>        <span class="n">widthEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">313</span>        <span class="n">widthSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="linenos">314</span>        
<span class="linenos">315</span>        <span class="n">radiusLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Radius&quot;</span><span class="p">)</span>
<span class="linenos">316</span>        <span class="n">radiusLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">317</span>        <span class="n">radiusSize</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">318</span>        <span class="n">radiusEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">radiusSize</span><span class="p">)</span>
<span class="linenos">319</span>        <span class="n">radiusSize</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="linenos">320</span>        <span class="n">radiusEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">321</span>        
<span class="linenos">322</span>        <span class="c1"># A button widget calls an event handler when it is pressed. The circleHandler</span>
<span class="linenos">323</span>        <span class="c1"># function below is the event handler when the Draw Circle button is pressed. </span>
<span class="linenos">324</span>        <span class="k">def</span> <span class="nf">circleHandler</span><span class="p">():</span>
<span class="linenos">325</span>            <span class="c1"># When drawing, a command is created and then the command is drawn by calling</span>
<span class="linenos">326</span>            <span class="c1"># the draw method. Adding the command to the graphicsCommands sequence means the</span>
<span class="linenos">327</span>            <span class="c1"># application will remember the picture. </span>
<span class="linenos">328</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">CircleCommand</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">radiusSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="nb">float</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span> <span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">329</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">330</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">331</span>            
<span class="linenos">332</span>            <span class="c1"># These two lines are needed to update the screen and to put the focus back</span>
<span class="linenos">333</span>            <span class="c1"># in the drawing canvas. This is necessary because when pressing &quot;u&quot; to undo,</span>
<span class="linenos">334</span>            <span class="c1"># the screen must have focus to receive the key press. </span>
<span class="linenos">335</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">336</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">337</span>        
<span class="linenos">338</span>        <span class="c1"># This creates the button widget in the sideBar. The fill=tkinter.BOTH causes the button</span>
<span class="linenos">339</span>        <span class="c1"># to expand to fill the entire width of the sideBar.</span>
<span class="linenos">340</span>        <span class="n">circleButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Draw Circle&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">circleHandler</span><span class="p">)</span>
<span class="linenos">341</span>        <span class="n">circleButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>             
<span class="linenos">342</span>
<span class="linenos">343</span>        <span class="c1"># The color mode 255 below allows colors to be specified in RGB form (i.e. Red/</span>
<span class="linenos">344</span>        <span class="c1"># Green/Blue). The mode allows the Red value to be set by a two digit hexadecimal</span>
<span class="linenos">345</span>        <span class="c1"># number ranging from 00-FF. The same applies for Blue and Green values. The </span>
<span class="linenos">346</span>        <span class="c1"># color choosers below return a string representing the selected color and a slice</span>
<span class="linenos">347</span>        <span class="c1"># is taken to extract the #RRGGBB hexadecimal string that the color choosers return.</span>
<span class="linenos">348</span>        <span class="n">screen</span><span class="o">.</span><span class="n">colormode</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
<span class="linenos">349</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Color&quot;</span><span class="p">)</span>
<span class="linenos">350</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">351</span>        <span class="n">penColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">352</span>        <span class="n">penEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">penColor</span><span class="p">)</span>
<span class="linenos">353</span>        <span class="n">penEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">354</span>        <span class="c1"># This is the color black.</span>
<span class="linenos">355</span>        <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>  
<span class="linenos">356</span>        
<span class="linenos">357</span>        <span class="k">def</span> <span class="nf">getPenColor</span><span class="p">():</span>
<span class="linenos">358</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">359</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">360</span>                <span class="n">penColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">361</span>            
<span class="linenos">362</span>        <span class="n">penColorButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Pen Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getPenColor</span><span class="p">)</span>
<span class="linenos">363</span>        <span class="n">penColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>           
<span class="linenos">364</span>            
<span class="linenos">365</span>        <span class="n">fillLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fill Color&quot;</span><span class="p">)</span>
<span class="linenos">366</span>        <span class="n">fillLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">367</span>        <span class="n">fillColor</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
<span class="linenos">368</span>        <span class="n">fillEntry</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">fillColor</span><span class="p">)</span>
<span class="linenos">369</span>        <span class="n">fillEntry</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">370</span>        <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>     
<span class="linenos">371</span>        
<span class="linenos">372</span>        <span class="k">def</span> <span class="nf">getFillColor</span><span class="p">():</span>
<span class="linenos">373</span>            <span class="n">color</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">colorchooser</span><span class="o">.</span><span class="n">askcolor</span><span class="p">()</span>
<span class="linenos">374</span>            <span class="k">if</span> <span class="n">color</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>    
<span class="linenos">375</span>                <span class="n">fillColor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">color</span><span class="p">)[</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>       
<span class="linenos">376</span>   
<span class="linenos">377</span>        <span class="n">fillColorButton</span> <span class="o">=</span> \
<span class="linenos">378</span>            <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pick Fill Color&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">getFillColor</span><span class="p">)</span>
<span class="linenos">379</span>        <span class="n">fillColorButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">380</span>
<span class="linenos">381</span>
<span class="linenos">382</span>        <span class="k">def</span> <span class="nf">beginFillHandler</span><span class="p">():</span>
<span class="linenos">383</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">BeginFillCommand</span><span class="p">(</span><span class="n">fillColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">384</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">385</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">386</span>            
<span class="linenos">387</span>        <span class="n">beginFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Begin Fill&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">beginFillHandler</span><span class="p">)</span>
<span class="linenos">388</span>        <span class="n">beginFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">389</span>        
<span class="linenos">390</span>        <span class="k">def</span> <span class="nf">endFillHandler</span><span class="p">():</span>
<span class="linenos">391</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">EndFillCommand</span><span class="p">()</span>
<span class="linenos">392</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">393</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">394</span>            
<span class="linenos">395</span>        <span class="n">endFillButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;End Fill&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">endFillHandler</span><span class="p">)</span>
<span class="linenos">396</span>        <span class="n">endFillButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">397</span> 
<span class="linenos">398</span>        <span class="n">penLabel</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">399</span>        <span class="n">penLabel</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
<span class="linenos">400</span>        
<span class="linenos">401</span>        <span class="k">def</span> <span class="nf">penUpHandler</span><span class="p">():</span>
<span class="linenos">402</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenUpCommand</span><span class="p">()</span>
<span class="linenos">403</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">404</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Up&quot;</span><span class="p">)</span>
<span class="linenos">405</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">406</span>
<span class="linenos">407</span>        <span class="n">penUpButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Up&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penUpHandler</span><span class="p">)</span>
<span class="linenos">408</span>        <span class="n">penUpButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span> 
<span class="linenos">409</span>       
<span class="linenos">410</span>        <span class="k">def</span> <span class="nf">penDownHandler</span><span class="p">():</span>
<span class="linenos">411</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">PenDownCommand</span><span class="p">()</span>
<span class="linenos">412</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">413</span>            <span class="n">penLabel</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pen Is Down&quot;</span><span class="p">)</span>
<span class="linenos">414</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="linenos">415</span>
<span class="linenos">416</span>        <span class="n">penDownButton</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">sideBar</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Pen Down&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">penDownHandler</span><span class="p">)</span>
<span class="linenos">417</span>        <span class="n">penDownButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>          
<span class="linenos">418</span>
<span class="linenos">419</span>        <span class="c1"># Here is another event handler. This one handles mouse clicks on the screen.</span>
<span class="linenos">420</span>        <span class="k">def</span> <span class="nf">clickHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span> 
<span class="linenos">421</span>            <span class="c1"># When a mouse click occurs, get the widthSize entry value and set the width of the </span>
<span class="linenos">422</span>            <span class="c1"># pen to the widthSize value. The float(widthSize.get()) is needed because</span>
<span class="linenos">423</span>            <span class="c1"># the width is an integer, but the entry widget stores it as a string.</span>
<span class="linenos">424</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">float</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">425</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">426</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>          
<span class="linenos">427</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">428</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">429</span>           
<span class="linenos">430</span>        <span class="c1"># Here is how we tie the clickHandler to mouse clicks.</span>
<span class="linenos">431</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">clickHandler</span><span class="p">)</span>  
<span class="linenos">432</span>        
<span class="linenos">433</span>        <span class="k">def</span> <span class="nf">dragHandler</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="linenos">434</span>            <span class="n">cmd</span> <span class="o">=</span> <span class="n">GoToCommand</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="nb">float</span><span class="p">(</span><span class="n">widthSize</span><span class="o">.</span><span class="n">get</span><span class="p">()),</span><span class="n">penColor</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
<span class="linenos">435</span>            <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">436</span>            <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>  
<span class="linenos">437</span>            <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">438</span>            <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">439</span>            
<span class="linenos">440</span>        <span class="n">theTurtle</span><span class="o">.</span><span class="n">ondrag</span><span class="p">(</span><span class="n">dragHandler</span><span class="p">)</span>
<span class="linenos">441</span>        
<span class="linenos">442</span>        <span class="c1"># the undoHandler undoes the last command by removing it from the </span>
<span class="linenos">443</span>        <span class="c1"># sequence and then redrawing the entire picture. </span>
<span class="linenos">444</span>        <span class="k">def</span> <span class="nf">undoHandler</span><span class="p">():</span>
<span class="linenos">445</span>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">446</span>                <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="o">.</span><span class="n">removeLast</span><span class="p">()</span>
<span class="linenos">447</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="linenos">448</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
<span class="linenos">449</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">450</span>                <span class="n">theTurtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
<span class="linenos">451</span>                <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphicsCommands</span><span class="p">:</span>
<span class="linenos">452</span>                    <span class="n">cmd</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">theTurtle</span><span class="p">)</span>
<span class="linenos">453</span>                <span class="n">screen</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">454</span>                <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">455</span>                
<span class="linenos">456</span>        <span class="n">screen</span><span class="o">.</span><span class="n">onkeypress</span><span class="p">(</span><span class="n">undoHandler</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">)</span>
<span class="linenos">457</span>        <span class="n">screen</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
<span class="linenos">458</span>   
<span class="linenos">459</span><span class="c1"># The main function in our GUI program is very simple. It creates the </span>
<span class="linenos">460</span><span class="c1"># root window. Then it creates the DrawingApplication frame which creates </span>
<span class="linenos">461</span><span class="c1"># all the widgets and has the logic for the event handlers. Calling mainloop</span>
<span class="linenos">462</span><span class="c1"># on the frames makes it start listening for events. The mainloop function will </span>
<span class="linenos">463</span><span class="c1"># return when the application is exited. </span>
<span class="linenos">464</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="linenos">465</span>    <span class="n">root</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>  
<span class="linenos">466</span>    <span class="n">drawingApp</span> <span class="o">=</span> <span class="n">DrawingApplication</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>  
<span class="linenos">467</span>
<span class="linenos">468</span>    <span class="n">drawingApp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="linenos">469</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Program Execution Completed.&quot;</span><span class="p">)</span>
<span class="linenos">470</span>        
<span class="linenos">471</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="linenos">472</span>    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="figures-from-text">
<h2><span class="section-number">1.4. </span>Figures from Text<a class="headerlink" href="#figures-from-text" title="Permalink to this heading">¶</a></h2>
<figure class="align-default" id="id1">
<img alt="../_images/wingide1.png" src="../_images/wingide1.png" />
<figcaption>
<p><span class="caption-text">Fig. 1: The Wing IDE</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<img alt="../_images/xref.png" src="../_images/xref.png" />
<figcaption>
<p><span class="caption-text">Fig. 2: A Reference and Object</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<img alt="../_images/dogobjects.png" src="../_images/dogobjects.png" />
<figcaption>
<p><span class="caption-text">Fig. 3: A Couple of Dog Objects</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method Defintion</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>__add__(self,y)</p></td>
<td><p>x + y</p></td>
<td><p>The addition of two objects. The type of <em>x</em> determines
which add operator is called.</p></td>
</tr>
<tr class="row-odd"><td><p>__contains__(self,y)</p></td>
<td><p>y in x</p></td>
<td><p>When <em>x</em> is a collection you can test to see if <em>y</em> is in it.</p></td>
</tr>
<tr class="row-even"><td><p>__eq__(self,y)</p></td>
<td><p>x == y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>__ge__(self,y)</p></td>
<td><p>x &gt;= y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__getitem__(self,y)</p></td>
<td><p>x[y]</p></td>
<td><p>Returns the item at the y<sup>th</sup> position in x.</p></td>
</tr>
<tr class="row-odd"><td><p>__gt__(self,y)</p></td>
<td><p>x &gt; y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__hash__(self)</p></td>
<td><p>hash(x)</p></td>
<td><p>Returns an integral value for <em>x</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>__int__(self)</p></td>
<td><p>int(x)</p></td>
<td><p>Returns an integer representation of <em>x</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__iter__(self)</p></td>
<td><p>for v in x</p></td>
<td><p>Returns an iterator object for the sequence <em>x</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>__le__(self,y)</p></td>
<td><p>x &lt;= y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__len__(self)</p></td>
<td><p>len(x)</p></td>
<td><p>Returns the size of <em>x</em> where <em>x</em> has some length attribute.</p></td>
</tr>
<tr class="row-odd"><td><p>__lt__(self,y)</p></td>
<td><p>x &lt; y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__mod__(self,y)</p></td>
<td><p>x % y</p></td>
<td><p>Returns the value of <em>x</em> modulo <em>y</em>. This is the remainder of <em>x/y</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>__mul__(self,y)</p></td>
<td><p>x * y</p></td>
<td><p>Returns the product of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__ne__(self,y)</p></td>
<td><p>x != y</p></td>
<td><p>Returns <em>True</em> or <em>False</em> depending on the values of <em>x</em> and <em>y</em>.</p></td>
</tr>
<tr class="row-odd"><td><p>__neg__(self)</p></td>
<td><p>-x</p></td>
<td><p>Returns the unary negation of <em>x</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__repr__(self)</p></td>
<td><p>repr(x)</p></td>
<td><p>Returns a string version of x suitable to be evaluated by the <em>eval</em> function.</p></td>
</tr>
<tr class="row-odd"><td><p>__setitem__(self,i,y)</p></td>
<td><p>x[i] = y</p></td>
<td><p>Sets the item at the i<sup>th</sup> position in <em>x</em> to <em>y</em>.</p></td>
</tr>
<tr class="row-even"><td><p>__str__(self)</p></td>
<td><p>str(x)</p></td>
<td><p>Return a string representation of <em>x</em> suitable for user-level interaction.</p></td>
</tr>
<tr class="row-odd"><td><p>__sub__(self,y)</p></td>
<td><p>x - y</p></td>
<td><p>The difference of two objects.</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="id4">
<img alt="../_images/pixel.png" src="../_images/pixel.png" />
<figcaption>
<p><span class="caption-text">Fig. 4: Python Operator Magic Methods</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id5">
<img alt="../_images/blockindent.png" src="../_images/blockindent.png" />
<figcaption>
<p><span class="caption-text">Fig. 5: Adjusting Indentation in Wing IDE 101</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id6">
<img alt="../_images/Draw.png" src="../_images/Draw.png" />
<figcaption>
<p><span class="caption-text">Fig. 6: The Draw Program</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id7">
<img alt="../_images/labelledGUI.png" src="../_images/labelledGUI.png" />
<figcaption>
<p><span class="caption-text">Fig. 7: The Draw Program Layout</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Python Programming 101</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-dog-class">1.1. The Dog Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-variable-length-records-draw-program">1.2. The Variable Length Records Draw Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-final-xml-draw-program">1.3. The Final XML Draw Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#figures-from-text">1.4. Figures from Text</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chap2/chap2.html">2. Computational Complexity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap3/chap3.html">3. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap4/chap4.html">4. Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap5/chap5.html">5. Sets and Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap6/chap6.html">6. Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap7/chap7.html">7. Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap11/chap11.html">8. Membership Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap8/chap8.html">9. Heaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap9/chap9.html">10. Balanced Binary Search Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap10/chap10.html">11. B-Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chap12/chap12.html">12. Heuristic Search</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="../index.html" title="Welcome!"
              >previous</a> |
            <a href="../chap2/chap2.html" title="2. Computational Complexity"
              >next</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/chap1/chap1.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Kent D. Lee and Steve Hubbard.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>